window.__require=function t(e,o,n){function r(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return r(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({APIMgr:[function(t,e,o){"use strict";cc._RF.push(e,"0fc14gkfjxP/72vOiWw8Rb7","APIMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{c(n.next(t))}catch(e){i(e)}}function s(t){try{c(n.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.FetchListViewTypes=o.SERVICE_HOST=void 0;var c=t("@elofun/gami-mvt-wsgw/package.json").version;console.log({version:c});var u=t("../utils/SingletonComponent"),p=t("../game/GameDefine"),l=t("../ui/common/LoadingCover"),h=t("../utils/Helper"),f=cc._decorator,d=f.ccclass;f.property,o.SERVICE_HOST=/localhost/i.test(window.location.hostname)||/elofun.github.io/i.test(window.location.hostname)||/gami-mvt.elofun.net/i.test(window.location.hostname)?"wss://gami-mvt.elofun.net/wsgw/":"https://gami.viettel.vn/wsgw/".replace(/[?#].*$/g,"").replace(/game\/?$/g,"wsgw/").replace(/^http/,"ws");var y=0;o.FetchListViewTypes=cc.Enum({HistoryScore:y++,HistoryPrize:y++,HistoryTurn:y++,PreviousWeek0TopScore:y++,PreviousWeek1TopScore:y++,PreviousWeek2TopScore:y++});var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isAuth=!1,e}return r(e,t),e.solveApi=function(t,e,o,n){void 0===n&&(n=!0),n&&l.default.Instance.show(),h.default.TimeoutPromise(p.default.TIME_API_TIMEOUT,t).then(function(t){n&&l.default.Instance.hide(),200===t.status?e(t):o(t)}).catch(function(t){n&&l.default.Instance.hide(),o(t)})},e.fetchListView=function(t,e,n){switch(t){case o.FetchListViewTypes.HistoryPrize:return this.Instance.getRewardsHistory(e,n).then(function(t){var e=h.default.SplitArray(t.data.items,2);return Promise.resolve({status:t.status,data:e})}).catch(function(t){return Promise.reject(t)});case o.FetchListViewTypes.HistoryTurn:return this.Instance.getTurnHistory(e,n).then(function(t){var e=h.default.SplitArray(t.data.items,2);return Promise.resolve({status:t.status,data:e})}).catch(function(t){return Promise.reject(t)});case o.FetchListViewTypes.PreviousWeek0TopScore:return this.Instance.getWeeklyTopScore(e,n,0).then(function(t){var e=h.default.SplitArray(t.data.entries,2);return Promise.resolve({status:t.status,data:e,myEntry:t.data.me})}).catch(function(t){return Promise.reject(t)});case o.FetchListViewTypes.PreviousWeek1TopScore:return this.Instance.getWeeklyTopScore(e,n,-1).then(function(t){var e=h.default.SplitArray(t.data.entries,2);return Promise.resolve({status:t.status,data:e,myEntry:t.data.me})}).catch(function(t){return Promise.reject(t)});case o.FetchListViewTypes.PreviousWeek2TopScore:return this.Instance.getWeeklyTopScore(e,n,-2).then(function(t){var e=h.default.SplitArray(t.data.entries,2);return Promise.resolve({status:t.status,data:e,myEntry:t.data.me})}).catch(function(t){return Promise.reject(t)})}},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),p.default.SHOW_GAME_DEBUG&&(window.ApiMgr=this)},e.prototype.getProfile=function(){return this.wsgwRequest("gami","profile")},e.prototype.getGameProfile=function(){return this.wsgwRequest("game","getGameProfile")},e.prototype.saveGameProfile=function(t){return this.wsgwRequest("game","saveGameProfile",t)},e.prototype.getTurnBalances=function(){return this.wsgwRequest("game","getTurnBalances")},e.prototype.getTurnHistory=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=10),this.wsgwRequest("game","getTurnHistory",{offset:t,limit:e})},e.prototype.getRewardsHistory=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=10),this.wsgwRequest("game","getRewardsHistory",{offset:t,limit:e,rewardTypeIds:["bst1","bst2","bst3","bst4","sao"]})},e.prototype.getWeeklyTopScore=function(t,e,o){return void 0===t&&(t=0),void 0===e&&(e=10),void 0===o&&(o=0),this.wsgwRequest("game","getWeeklyLeaderboard",{offset:t*e,limit:e,weekOffset:o})},e.prototype.bookRewards=function(){return this.wsgwRequest("game","bookRewards")},e.prototype.claimReward=function(t){return this.wsgwRequest("game","claimReward",{id:t})},e.prototype.claimDailyReward=function(){return this.wsgwRequest("game","claimDailyReward")},e.prototype.exchangeReward=function(t){return this.wsgwRequest("game","exchangeReward",{rewardTypeId:t})},e.prototype.getCollections=function(){return this.wsgwRequest("game","getCollections")},e.prototype.getRewardBoxes=function(){return this.wsgwRequest("game","getRewardBoxes")},e.prototype.openRewardBox=function(t){return this.wsgwRequest("game","openRewardBox",{type:t})},e.prototype.buyTurnByCoin=function(t){return this.wsgwRequest("game","buyTurnByCoin",{amount:t})},e.prototype.buyTurnByVTPlusPlus=function(t){return this.wsgwRequest("game","buyTurnByVT++",{amount:t})},e.prototype.getIAPPrices=function(){return this.wsgwRequest("game","getIAPPrices")},e.prototype.delay=function(t){return new Promise(function(e){return setTimeout(e,t)})},e.prototype.wsgwRequest=function(t,e,o,n,r){var i=this;return void 0===o&&(o={}),void 0===n&&(n=void 0),void 0===r&&(r=45),this.wsgwPromise.then(function(c){return a(i,void 0,void 0,function(){var i;return s(this,function(a){switch(a.label){case 0:return[4,c.request(t,e,o,n)];case 1:return 401!==(i=a.sent()).status?[3,4]:!this.isAuth&&r>0?[4,this.delay(1e3)]:[3,3];case 2:return a.sent(),[2,this.wsgwRequest(t,e,o,n,r-1)];case 3:return[3,5];case 4:this.isAuth=!0,a.label=5;case 5:return console.log(t+"-"+e,i),[2,i]}})})})},i([d],e)}(u.default());o.default=m,cc._RF.pop()},{"../game/GameDefine":"GameDefine","../ui/common/LoadingCover":"LoadingCover","../utils/Helper":"Helper","../utils/SingletonComponent":"SingletonComponent","@elofun/gami-mvt-wsgw/package.json":1}],ButtonClickEvent:[function(t,e,o){"use strict";cc._RF.push(e,"19588CEkKZEFZN5M0Nf9ff1","ButtonClickEvent");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/SoundMgr"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ClickInterval=.5,e}return r(e,t),Object.defineProperty(e.prototype,"Interactive",{get:function(){return this.mInteractive},set:function(t){this.mInteractive=t},enumerable:!1,configurable:!0}),e.prototype.registerEvent=function(t,e){var o=this;void 0===e&&(e=!0),this.mPlaySfx=e,this.node.on(cc.Node.EventType.TOUCH_END,function(){o.onClick(t)})},e.prototype.onEnable=function(){this.mInteractive=!0,this.mTimer=this.ClickInterval},e.prototype.update=function(t){-1!=this.ClickInterval&&(this.mInteractive||(this.mTimer-=t,this.mTimer<0&&(this.mInteractive=!0,this.mTimer=this.ClickInterval)))},e.prototype.onClick=function(t){this.mPlaySfx&&a.default.playSfx(a.default.Instance.SFX_CLICK),this.mInteractive&&(this.mInteractive=!1,t())},i([u(cc.Float)],e.prototype,"ClickInterval",void 0),i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../common/SoundMgr":"SoundMgr"}],ButtonClosePopup:[function(t,e,o){"use strict";cc._RF.push(e,"2cf27hZw61HQY/GC0pCuuw0","ButtonClosePopup");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../popup/PopupMgr"),s=t("./ButtonClickEvent"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.getComponent(s.default).registerEvent(this.onClicked.bind(this))},e.prototype.onClicked=function(){a.default.pop()},i([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../popup/PopupMgr":"PopupMgr","./ButtonClickEvent":"ButtonClickEvent"}],ButtonPushPopup:[function(t,e,o){"use strict";cc._RF.push(e,"9f626Cd9+dMUqZNs+VkSSuk","ButtonPushPopup");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../popup/PopupMgr"),s=t("./ButtonClickEvent"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popup=0,e}return r(e,t),e.prototype.onLoad=function(){this.getComponent(s.default).registerEvent(this.onClick.bind(this))},e.prototype.onClick=function(){a.default.push(this.popup)},i([p({type:a.PopupsCCEnum})],e.prototype,"popup",void 0),i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../popup/PopupMgr":"PopupMgr","./ButtonClickEvent":"ButtonClickEvent"}],ButtonShareFb:[function(t,e,o){"use strict";cc._RF.push(e,"6b36buPoPZE+ZUg9Aeido09","ButtonShareFb");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/Facebook"),s=t("./ButtonClickEvent"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shareLocation=0,e}return r(e,t),e.prototype.onLoad=function(){this.getComponent(s.default).registerEvent(this.shareFb.bind(this))},e.prototype.shareFb=function(){a.default.Instance.share(this.shareLocation)},i([p({type:a.FacebookShareLocations})],e.prototype,"shareLocation",void 0),i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../common/Facebook":"Facebook","./ButtonClickEvent":"ButtonClickEvent"}],ButtonSound:[function(t,e,o){"use strict";cc._RF.push(e,"14a3dWJofBEUpP7o64q54Zh","ButtonSound");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/Events"),s=t("../../common/FrameMgr"),c=t("../../common/SoundMgr"),u=t("./ButtonClickEvent"),p=cc._decorator,l=p.ccclass,h=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){a.default.registerEvent(a.default.EventPlayerToggleSound,this.onPlayerToggleSound.bind(this)),this.getComponent(u.default).registerEvent(this.onClick.bind(this))},e.prototype.onEnable=function(){this.updateIcon()},e.prototype.onPlayerToggleSound=function(){this.updateIcon()},e.prototype.onClick=function(){c.default.toggleMute(),a.default.emit(a.default.EventPlayerToggleSound)},e.prototype.updateIcon=function(){var t=c.default.IsMute;this.getComponentInChildren(cc.Sprite).spriteFrame=s.default.Instance.UI_BUTTON_SOUNDS[Number(t)]},i([l],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../common/Events":"Events","../../common/FrameMgr":"FrameMgr","../../common/SoundMgr":"SoundMgr","./ButtonClickEvent":"ButtonClickEvent"}],CancelUnderTouch:[function(t,e,o){"use strict";cc._RF.push(e,"5d16f61tAJFnI0LianO2POH","CancelUnderTouch");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){},this)},i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],CompTabView:[function(t,e,o){"use strict";cc._RF.push(e,"62d9dMaVgZGhrONrCkPn6KI","CompTabView");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/FrameMgr"),s=t("./ButtonClickEvent"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DefaultTab=0,e.ButtonSpriteKeys=[],e.ButtonTextColors=[],e.ButtonBgSpriteKeys=[],e.curentTabIndex=0,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.mTabButtonBgs=this.node.getChildByName("TabButtonBgs"),this.mTabButtons=this.node.getChildByName("TabButtons"),this.mTabs=this.node.getChildByName("Tabs");for(var e=function(e){o.mTabButtons.children[e].getComponent(s.default).registerEvent(function(){t.showTab(e)})},o=this,n=0;n<this.mTabButtons.children.length;n++)e(n);this.showTab(this.DefaultTab)},e.prototype.showTab=function(t){this.curentTabIndex=t;for(var e=0;e<this.mTabs.children.length;e++){if(this.ButtonSpriteKeys.length>0){var o=1==this.ButtonSpriteKeys.length?this.ButtonSpriteKeys[0]:this.ButtonSpriteKeys[e];this.mTabButtons.children[e].getComponentInChildren(cc.Sprite).spriteFrame=a.default.Instance[o][e==t?0:1]}this.ButtonTextColors.length>0&&(this.mTabButtons.children[e].getComponentInChildren(cc.Label).node.color=this.ButtonTextColors[e==t?0:1]),this.mTabs.children[e].active=e==t,this.mTabButtonBgs&&this.ButtonBgSpriteKeys.length>0&&(o=1==this.ButtonBgSpriteKeys.length?this.ButtonBgSpriteKeys[0]:this.ButtonBgSpriteKeys[e],this.mTabButtonBgs.children[e].getComponent(cc.Sprite).spriteFrame=a.default.Instance[o][e==t?0:1])}},i([p(cc.Integer)],e.prototype,"DefaultTab",void 0),i([p([cc.String])],e.prototype,"ButtonSpriteKeys",void 0),i([p([cc.Color])],e.prototype,"ButtonTextColors",void 0),i([p([cc.String])],e.prototype,"ButtonBgSpriteKeys",void 0),i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../common/FrameMgr":"FrameMgr","./ButtonClickEvent":"ButtonClickEvent"}],ConnectionDectect:[function(t,e,o){"use strict";cc._RF.push(e,"e0961Q5MBFIVLFBoz2AvyZh","ConnectionDectect");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../popup/PopupMgr"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.createCORSRequest=function(t,e){var o=new XMLHttpRequest;return"withCredentials"in o?o.open(t,e,!0):o=null,o},e.prototype.onLoad=function(){var t=this;setInterval(function(){var e=t.createCORSRequest("HEAD","");e.setRequestHeader("Cache-Control","no-cache"),e.addEventListener("error",function(){e.status,a.default.push(a.Popups.PopupLostConnection)}),e.send()},5e3)},i([c],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../popup/PopupMgr":"PopupMgr"}],1:[function(t,e){e.exports={name:"@elofun/gami-mvt-wsgw",version:"1.0.12",description:"",main:"index.js",scripts:{start:"docker-compose -f dev.yml up","start:dev":"NODE_ENV=development nodemon","start:prod":"node lib/server/server.js",build:"tsc && webpack",release:"npm run publish:client && npm run docker:release","publish:client":"node scripts/publish.js",test:"ts-mocha src/**/*.spec.ts","docker:build":"docker-compose -f build.yml build","docker:push":"docker-compose -f build.yml push","docker:release":"npm run docker:build && npm run docker:push"},files:["index.js","index.d.ts"],author:"",license:"ISC",devDependencies:{},dependencies:{"@babel/polyfill":"^7.12.1","@elofun/elo-protobuf":"^1.0.9",buffer:"^6.0.3","cookie-parser":"^1.4.6","core-js":"^3.20.3"},nodemonConfig:{watch:["src"],ext:"ts",ignore:["src/**/*.spec.ts"],exec:"webpack && ts-node ./src/server/server.ts",delay:"2000"},repository:{type:"git",url:"git+https://github.com/elofun/elo-packages.git",directory:"vds-wsgw"}}},{}],2:[function(t,e,o){var n;n=function(){"use strict";var o,n;function r(){return o.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(s(t,e))return!1;return!0}function u(t){return void 0===t}function p(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var o,n=[],r=t.length;for(o=0;o<r;++o)n.push(e(t[o],o));return n}function f(t,e){for(var o in e)s(e,o)&&(t[o]=e[o]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,o,n){return Ze(t,e,o,n,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(t){if(null==t._isValid){var e=y(t),o=n.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&o);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function _(t){var e=d(NaN);return null!=t?f(y(e),t):y(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,o=Object(this),n=o.length>>>0;for(e=0;e<n;e++)if(e in o&&t.call(this,o[e],e,o))return!0;return!1};var g=r.momentProperties=[],v=!1;function P(t,e){var o,n,r,i=g.length;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=y(e)),u(e._locale)||(t._locale=e._locale),i>0)for(o=0;o<i;o++)u(r=e[n=g[o]])||(t[n]=r);return t}function E(t){P(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function O(t){return t instanceof E||null!=t&&null!=t._isAMomentObject}function M(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function b(t,e){var o=!0;return f(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),o){var n,i,a,c=[],u=arguments.length;for(i=0;i<u;i++){if(n="","object"==typeof arguments[i]){for(a in n+="\n["+i+"] ",arguments[0])s(arguments[0],a)&&(n+=a+": "+arguments[0][a]+", ");n=n.slice(0,-2)}else n=arguments[i];c.push(n)}M(t+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),o=!1}return e.apply(this,arguments)},e)}var S,C={};function T(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),C[t]||(M(e),C[t]=!0)}function R(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function w(t,e){var o,n=f({},t);for(o in e)s(e,o)&&(a(t[o])&&a(e[o])?(n[o]={},f(n[o],t[o]),f(n[o],e[o])):null!=e[o]?n[o]=e[o]:delete n[o]);for(o in t)s(t,o)&&!s(e,o)&&a(t[o])&&(n[o]=f({},n[o]));return n}function I(t){null!=t&&this.set(t)}function A(t,e,o){var n=""+Math.abs(t),r=e-n.length;return(t>=0?o?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,o=[];for(e in t)s(t,e)&&o.push(e);return o};var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function N(t,e,o,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(B[t]=r),e&&(B[e[0]]=function(){return A(r.apply(this,arguments),e[1],e[2])}),o&&(B[o]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function L(t){var e,o,n,r=t.match(D);for(e=0,o=r.length;e<o;e++)B[r[e]]?r[e]=B[r[e]]:r[e]=(n=r[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,i="";for(n=0;n<o;n++)i+=R(r[n])?r[n].call(e,t):r[n];return i}}function G(t,e){return t.isValid()?(e=x(e,t.localeData()),F[e]=F[e]||L(e),F[e](t)):t.localeData().invalidDate()}function x(t,e){var o=5;function n(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;o>=0&&j.test(t);)t=t.replace(j,n),j.lastIndex=0,o-=1;return t}var k={};function Y(t,e){var o=t.toLowerCase();k[o]=k[o+"s"]=k[e]=t}function U(t){return"string"==typeof t?k[t]||k[t.toLowerCase()]:void 0}function H(t){var e,o,n={};for(o in t)s(t,o)&&(e=U(o))&&(n[e]=t[o]);return n}var V={};function W(t,e){V[t]=e}function X(t){var e,o=[];for(e in t)s(t,e)&&o.push({unit:e,priority:V[e]});return o.sort(function(t,e){return t.priority-e.priority}),o}function K(t){return t%4==0&&t%100!=0||t%400==0}function z(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Z(t){var e=+t,o=0;return 0!==e&&isFinite(e)&&(o=z(e)),o}function J(t,e){return function(o){return null!=o?(Q(this,t,o),r.updateOffset(this,e),this):q(this,t)}}function q(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Q(t,e,o){t.isValid()&&!isNaN(o)&&("FullYear"===e&&K(t.year())&&1===t.month()&&29===t.date()?(o=Z(o),t._d["set"+(t._isUTC?"UTC":"")+e](o,t.month(),jt(o,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](o))}var $,tt=/\d/,et=/\d\d/,ot=/\d{3}/,nt=/\d{4}/,rt=/[+-]?\d{6}/,it=/\d\d?/,at=/\d\d\d\d?/,st=/\d\d\d\d\d\d?/,ct=/\d{1,3}/,ut=/\d{1,4}/,pt=/[+-]?\d{1,6}/,lt=/\d+/,ht=/[+-]?\d+/,ft=/Z|[+-]\d\d:?\d\d/gi,dt=/Z|[+-]\d\d(?::?\d\d)?/gi,yt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function mt(t,e,o){$[t]=R(e)?e:function(t){return t&&o?o:e}}function _t(t,e){return s($,t)?$[t](e._strict,e._locale):new RegExp(gt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,o,n,r){return e||o||n||r})))}function gt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}$={};var vt={};function Pt(t,e){var o,n,r=e;for("string"==typeof t&&(t=[t]),p(e)&&(r=function(t,o){o[e]=Z(t)}),n=t.length,o=0;o<n;o++)vt[t[o]]=r}function Et(t,e){Pt(t,function(t,o,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function Ot(t,e,o){null!=e&&s(vt,t)&&vt[t](e,o._a,o,t)}var Mt,bt=0,St=1,Ct=2,Tt=3,Rt=4,wt=5,It=6,At=7,Dt=8;function jt(t,e){if(isNaN(t)||isNaN(e))return NaN;var o=(e%12+12)%12;return t+=(e-o)/12,1===o?K(t)?29:28:31-o%7%2}Mt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},N("M",["MM",2],"Mo",function(){return this.month()+1}),N("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),N("MMMM",0,0,function(t){return this.localeData().months(this,t)}),Y("month","M"),W("month",8),mt("M",it),mt("MM",it,et),mt("MMM",function(t,e){return e.monthsShortRegex(t)}),mt("MMMM",function(t,e){return e.monthsRegex(t)}),Pt(["M","MM"],function(t,e){e[St]=Z(t)-1}),Pt(["MMM","MMMM"],function(t,e,o,n){var r=o._locale.monthsParse(t,n,o._strict);null!=r?e[St]=r:y(o).invalidMonth=t});var Ft="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Bt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lt=yt,Gt=yt;function xt(t,e,o){var n,r,i,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return o?"MMM"===e?-1!==(r=Mt.call(this._shortMonthsParse,a))?r:null:-1!==(r=Mt.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=Mt.call(this._shortMonthsParse,a))?r:-1!==(r=Mt.call(this._longMonthsParse,a))?r:null:-1!==(r=Mt.call(this._longMonthsParse,a))?r:-1!==(r=Mt.call(this._shortMonthsParse,a))?r:null}function kt(t,e){var o;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=Z(e);else if(!p(e=t.localeData().monthsParse(e)))return t;return o=Math.min(t.date(),jt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,o),t}function Yt(t){return null!=t?(kt(this,t),r.updateOffset(this,!0),this):q(this,"Month")}function Ut(){function t(t,e){return e.length-t.length}var e,o,n=[],r=[],i=[];for(e=0;e<12;e++)o=d([2e3,e]),n.push(this.monthsShort(o,"")),r.push(this.months(o,"")),i.push(this.months(o,"")),i.push(this.monthsShort(o,""));for(n.sort(t),r.sort(t),i.sort(t),e=0;e<12;e++)n[e]=gt(n[e]),r[e]=gt(r[e]);for(e=0;e<24;e++)i[e]=gt(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ht(t){return K(t)?366:365}N("Y",0,0,function(){var t=this.year();return t<=9999?A(t,4):"+"+t}),N(0,["YY",2],0,function(){return this.year()%100}),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),W("year",1),mt("Y",ht),mt("YY",it,et),mt("YYYY",ut,nt),mt("YYYYY",pt,rt),mt("YYYYYY",pt,rt),Pt(["YYYYY","YYYYYY"],bt),Pt("YYYY",function(t,e){e[bt]=2===t.length?r.parseTwoDigitYear(t):Z(t)}),Pt("YY",function(t,e){e[bt]=r.parseTwoDigitYear(t)}),Pt("Y",function(t,e){e[bt]=parseInt(t,10)}),r.parseTwoDigitYear=function(t){return Z(t)+(Z(t)>68?1900:2e3)};var Vt=J("FullYear",!0);function Wt(t,e,o,n,r,i,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,o,n,r,i,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,o,n,r,i,a),s}function Xt(t){var e,o;return t<100&&t>=0?((o=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,o)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Kt(t,e,o){var n=7+e-o;return-(7+Xt(t,0,n).getUTCDay()-e)%7+n-1}function zt(t,e,o,n,r){var i,a,s=1+7*(e-1)+(7+o-n)%7+Kt(t,n,r);return s<=0?a=Ht(i=t-1)+s:s>Ht(t)?(i=t+1,a=s-Ht(t)):(i=t,a=s),{year:i,dayOfYear:a}}function Zt(t,e,o){var n,r,i=Kt(t.year(),e,o),a=Math.floor((t.dayOfYear()-i-1)/7)+1;return a<1?n=a+Jt(r=t.year()-1,e,o):a>Jt(t.year(),e,o)?(n=a-Jt(t.year(),e,o),r=t.year()+1):(r=t.year(),n=a),{week:n,year:r}}function Jt(t,e,o){var n=Kt(t,e,o),r=Kt(t+1,e,o);return(Ht(t)-n+r)/7}function qt(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Qt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function $t(t,e){return t.slice(e,7).concat(t.slice(0,e))}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),W("week",5),W("isoWeek",5),mt("w",it),mt("ww",it,et),mt("W",it),mt("WW",it,et),Et(["w","ww","W","WW"],function(t,e,o,n){e[n.substr(0,1)]=Z(t)}),N("d",0,"do","day"),N("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),N("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),N("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),W("day",11),W("weekday",11),W("isoWeekday",11),mt("d",it),mt("e",it),mt("E",it),mt("dd",function(t,e){return e.weekdaysMinRegex(t)}),mt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),mt("dddd",function(t,e){return e.weekdaysRegex(t)}),Et(["dd","ddd","dddd"],function(t,e,o,n){var r=o._locale.weekdaysParse(t,n,o._strict);null!=r?e.d=r:y(o).invalidWeekday=t}),Et(["d","e","E"],function(t,e,o,n){e[n]=Z(t)});var te="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ee="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ne=yt,re=yt,ie=yt;function ae(t,e,o){var n,r,i,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return o?"dddd"===e?-1!==(r=Mt.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=Mt.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Mt.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=Mt.call(this._weekdaysParse,a))?r:-1!==(r=Mt.call(this._shortWeekdaysParse,a))?r:-1!==(r=Mt.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=Mt.call(this._shortWeekdaysParse,a))?r:-1!==(r=Mt.call(this._weekdaysParse,a))?r:-1!==(r=Mt.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Mt.call(this._minWeekdaysParse,a))?r:-1!==(r=Mt.call(this._weekdaysParse,a))?r:-1!==(r=Mt.call(this._shortWeekdaysParse,a))?r:null}function se(){function t(t,e){return e.length-t.length}var e,o,n,r,i,a=[],s=[],c=[],u=[];for(e=0;e<7;e++)o=d([2e3,1]).day(e),n=gt(this.weekdaysMin(o,"")),r=gt(this.weekdaysShort(o,"")),i=gt(this.weekdays(o,"")),a.push(n),s.push(r),c.push(i),u.push(n),u.push(r),u.push(i);a.sort(t),s.sort(t),c.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ce(){return this.hours()%12||12}function ue(t,e){N(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function pe(t,e){return e._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,ce),N("k",["kk",2],0,function(){return this.hours()||24}),N("hmm",0,0,function(){return""+ce.apply(this)+A(this.minutes(),2)}),N("hmmss",0,0,function(){return""+ce.apply(this)+A(this.minutes(),2)+A(this.seconds(),2)}),N("Hmm",0,0,function(){return""+this.hours()+A(this.minutes(),2)}),N("Hmmss",0,0,function(){return""+this.hours()+A(this.minutes(),2)+A(this.seconds(),2)}),ue("a",!0),ue("A",!1),Y("hour","h"),W("hour",13),mt("a",pe),mt("A",pe),mt("H",it),mt("h",it),mt("k",it),mt("HH",it,et),mt("hh",it,et),mt("kk",it,et),mt("hmm",at),mt("hmmss",st),mt("Hmm",at),mt("Hmmss",st),Pt(["H","HH"],Tt),Pt(["k","kk"],function(t,e){var o=Z(t);e[Tt]=24===o?0:o}),Pt(["a","A"],function(t,e,o){o._isPm=o._locale.isPM(t),o._meridiem=t}),Pt(["h","hh"],function(t,e,o){e[Tt]=Z(t),y(o).bigHour=!0}),Pt("hmm",function(t,e,o){var n=t.length-2;e[Tt]=Z(t.substr(0,n)),e[Rt]=Z(t.substr(n)),y(o).bigHour=!0}),Pt("hmmss",function(t,e,o){var n=t.length-4,r=t.length-2;e[Tt]=Z(t.substr(0,n)),e[Rt]=Z(t.substr(n,2)),e[wt]=Z(t.substr(r)),y(o).bigHour=!0}),Pt("Hmm",function(t,e){var o=t.length-2;e[Tt]=Z(t.substr(0,o)),e[Rt]=Z(t.substr(o))}),Pt("Hmmss",function(t,e){var o=t.length-4,n=t.length-2;e[Tt]=Z(t.substr(0,o)),e[Rt]=Z(t.substr(o,2)),e[wt]=Z(t.substr(n))});var le,he=J("Hours",!0),fe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ft,monthsShort:Bt,week:{dow:0,doy:6},weekdays:te,weekdaysMin:oe,weekdaysShort:ee,meridiemParse:/[ap]\.?m?\.?/i},de={},ye={};function me(t,e){var o,n=Math.min(t.length,e.length);for(o=0;o<n;o+=1)if(t[o]!==e[o])return o;return n}function _e(t){return t?t.toLowerCase().replace("_","-"):t}function ge(t){for(var e,o,n,r,i=0;i<t.length;){for(e=(r=_e(t[i]).split("-")).length,o=(o=_e(t[i+1]))?o.split("-"):null;e>0;){if(n=Pe(r.slice(0,e).join("-")))return n;if(o&&o.length>=e&&me(r,o)>=e-1)break;e--}i++}return le}function ve(t){return null!=t.match("^[^/\\\\]*$")}function Pe(o){var n=null;if(void 0===de[o]&&void 0!==e&&e&&e.exports&&ve(o))try{n=le._abbr,t("./locale/"+o),Ee(n)}catch(r){de[o]=null}return de[o]}function Ee(t,e){var o;return t&&((o=u(e)?Me(t):Oe(t,e))?le=o:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),le._abbr}function Oe(t,e){if(null!==e){var o,n=fe;if(e.abbr=t,null!=de[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=de[t]._config;else if(null!=e.parentLocale)if(null!=de[e.parentLocale])n=de[e.parentLocale]._config;else{if(null==(o=Pe(e.parentLocale)))return ye[e.parentLocale]||(ye[e.parentLocale]=[]),ye[e.parentLocale].push({name:t,config:e}),null;n=o._config}return de[t]=new I(w(n,e)),ye[t]&&ye[t].forEach(function(t){Oe(t.name,t.config)}),Ee(t),de[t]}return delete de[t],null}function Me(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return le;if(!i(t)){if(e=Pe(t))return e;t=[t]}return ge(t)}function be(t){var e,o=t._a;return o&&-2===y(t).overflow&&(e=o[St]<0||o[St]>11?St:o[Ct]<1||o[Ct]>jt(o[bt],o[St])?Ct:o[Tt]<0||o[Tt]>24||24===o[Tt]&&(0!==o[Rt]||0!==o[wt]||0!==o[It])?Tt:o[Rt]<0||o[Rt]>59?Rt:o[wt]<0||o[wt]>59?wt:o[It]<0||o[It]>999?It:-1,y(t)._overflowDayOfYear&&(e<bt||e>Ct)&&(e=Ct),y(t)._overflowWeeks&&-1===e&&(e=At),y(t)._overflowWeekday&&-1===e&&(e=Dt),y(t).overflow=e),t}var Se=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ce=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Te=/Z|[+-]\d\d(?::?\d\d)?/,Re=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],we=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ie=/^\/?Date\((-?\d+)/i,Ae=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,De={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function je(t){var e,o,n,r,i,a,s=t._i,c=Se.exec(s)||Ce.exec(s),u=Re.length,p=we.length;if(c){for(y(t).iso=!0,e=0,o=u;e<o;e++)if(Re[e][1].exec(c[1])){r=Re[e][0],n=!1!==Re[e][2];break}if(null==r)return void(t._isValid=!1);if(c[3]){for(e=0,o=p;e<o;e++)if(we[e][1].exec(c[3])){i=(c[2]||" ")+we[e][0];break}if(null==i)return void(t._isValid=!1)}if(!n&&null!=i)return void(t._isValid=!1);if(c[4]){if(!Te.exec(c[4]))return void(t._isValid=!1);a="Z"}t._f=r+(i||"")+(a||""),He(t)}else t._isValid=!1}function Fe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Be(t,e,o){return!t||ee.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(y(o).weekdayMismatch=!0,o._isValid=!1,!1)}function Ne(t,e,o){if(t)return De[t];if(e)return 0;var n=parseInt(o,10),r=n%100;return(n-r)/100*60+r}function Le(t){var e,o,n,r,i,a,s,c,u=Ae.exec(t._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){if(o=u[4],n=u[3],r=u[2],i=u[5],a=u[6],s=u[7],c=[Fe(o),Bt.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(a,10)],s&&c.push(parseInt(s,10)),e=c,!Be(u[1],e,t))return;t._a=e,t._tzm=Ne(u[8],u[9],u[10]),t._d=Xt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function Ge(t){var e=Ie.exec(t._i);null===e?(je(t),!1===t._isValid&&(delete t._isValid,Le(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}function xe(t,e,o){return null!=t?t:null!=e?e:o}function ke(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Ye(t){var e,o,n,r,i,a=[];if(!t._d){for(n=ke(t),t._w&&null==t._a[Ct]&&null==t._a[St]&&Ue(t),null!=t._dayOfYear&&(i=xe(t._a[bt],n[bt]),(t._dayOfYear>Ht(i)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),o=Xt(i,0,t._dayOfYear),t._a[St]=o.getUTCMonth(),t._a[Ct]=o.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=n[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Tt]&&0===t._a[Rt]&&0===t._a[wt]&&0===t._a[It]&&(t._nextDay=!0,t._a[Tt]=0),t._d=(t._useUTC?Xt:Wt).apply(null,a),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Tt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(y(t).weekdayMismatch=!0)}}function Ue(t){var e,o,n,r,i,a,s,c,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(i=1,a=4,o=xe(e.GG,t._a[bt],Zt(Je(),1,4).year),n=xe(e.W,1),((r=xe(e.E,1))<1||r>7)&&(c=!0)):(i=t._locale._week.dow,a=t._locale._week.doy,u=Zt(Je(),i,a),o=xe(e.gg,t._a[bt],u.year),n=xe(e.w,u.week),null!=e.d?((r=e.d)<0||r>6)&&(c=!0):null!=e.e?(r=e.e+i,(e.e<0||e.e>6)&&(c=!0)):r=i),n<1||n>Jt(o,i,a)?y(t)._overflowWeeks=!0:null!=c?y(t)._overflowWeekday=!0:(s=zt(o,n,r,i,a),t._a[bt]=s.year,t._dayOfYear=s.dayOfYear)}function He(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],y(t).empty=!0;var e,o,n,i,a,s,c,u=""+t._i,p=u.length,l=0;for(c=(n=x(t._f,t._locale).match(D)||[]).length,e=0;e<c;e++)i=n[e],(o=(u.match(_t(i,t))||[])[0])&&((a=u.substr(0,u.indexOf(o))).length>0&&y(t).unusedInput.push(a),u=u.slice(u.indexOf(o)+o.length),l+=o.length),B[i]?(o?y(t).empty=!1:y(t).unusedTokens.push(i),Ot(i,o,t)):t._strict&&!o&&y(t).unusedTokens.push(i);y(t).charsLeftOver=p-l,u.length>0&&y(t).unusedInput.push(u),t._a[Tt]<=12&&!0===y(t).bigHour&&t._a[Tt]>0&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[Tt]=Ve(t._locale,t._a[Tt],t._meridiem),null!==(s=y(t).era)&&(t._a[bt]=t._locale.erasConvertYear(s,t._a[bt])),Ye(t),be(t)}else Le(t);else je(t)}function Ve(t,e,o){var n;return null==o?e:null!=t.meridiemHour?t.meridiemHour(e,o):null!=t.isPM?((n=t.isPM(o))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function We(t){var e,o,n,r,i,a,s=!1,c=t._f.length;if(0===c)return y(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<c;r++)i=0,a=!1,e=P({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],He(e),m(e)&&(a=!0),i+=y(e).charsLeftOver,i+=10*y(e).unusedTokens.length,y(e).score=i,s?i<n&&(n=i,o=e):(null==n||i<n||a)&&(n=i,o=e,a&&(s=!0));f(t,o||e)}function Xe(t){if(!t._d){var e=H(t._i),o=void 0===e.day?e.date:e.day;t._a=h([e.year,e.month,o,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Ye(t)}}function Ke(t){var e=t._i,o=t._f;return t._locale=t._locale||Me(t._l),null===e||void 0===o&&""===e?_({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),O(e)?new E(be(e)):(l(e)?t._d=e:i(o)?We(t):o?He(t):ze(t),m(t)||(t._d=null),t))}function ze(t){var e=t._i;u(e)?t._d=new Date(r.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Ge(t):i(e)?(t._a=h(e.slice(0),function(t){return parseInt(t,10)}),Ye(t)):a(e)?Xe(t):p(e)?t._d=new Date(e):r.createFromInputFallback(t)}function Ze(t,e,o,n,r){var s,u={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==o&&!1!==o||(n=o,o=void 0),(a(t)&&c(t)||i(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=r,u._l=o,u._i=t,u._f=e,u._strict=n,(s=new E(be(Ke(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Je(t,e,o,n){return Ze(t,e,o,n,!1)}r.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var qe=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Je.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),Qe=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Je.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_()});function $e(t,e){var o,n;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Je();for(o=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](o)||(o=e[n]);return o}var to=["year","quarter","month","week","day","hour","minute","second","millisecond"];function eo(t){var e,o,n=!1,r=to.length;for(e in t)if(s(t,e)&&(-1===Mt.call(to,e)||null!=t[e]&&isNaN(t[e])))return!1;for(o=0;o<r;++o)if(t[to[o]]){if(n)return!1;parseFloat(t[to[o]])!==Z(t[to[o]])&&(n=!0)}return!0}function oo(t){var e=H(t),o=e.year||0,n=e.quarter||0,r=e.month||0,i=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,c=e.minute||0,u=e.second||0,p=e.millisecond||0;this._isValid=eo(e),this._milliseconds=+p+1e3*u+6e4*c+36e5*s,this._days=+a+7*i,this._months=+r+3*n+12*o,this._data={},this._locale=Me(),this._bubble()}function no(t){return t instanceof oo}function ro(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function io(t,e,o){var n,r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0;for(n=0;n<r;n++)(o&&t[n]!==e[n]||!o&&Z(t[n])!==Z(e[n]))&&a++;return a+i}function ao(t,e){N(t,0,0,function(){var t=this.utcOffset(),o="+";return t<0&&(t=-t,o="-"),o+A(~~(t/60),2)+e+A(~~t%60,2)})}ao("Z",":"),ao("ZZ",""),mt("Z",dt),mt("ZZ",dt),Pt(["Z","ZZ"],function(t,e,o){o._useUTC=!0,o._tzm=co(dt,t)});var so=/([\+\-]|\d\d)/gi;function co(t,e){var o,n,r=(e||"").match(t);return null===r?null:0===(n=60*(o=((r[r.length-1]||[])+"").match(so)||["-",0,0])[1]+Z(o[2]))?0:"+"===o[0]?n:-n}function uo(t,e){var o,n;return e._isUTC?(o=e.clone(),n=(O(t)||l(t)?t.valueOf():Je(t).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+n),r.updateOffset(o,!1),o):Je(t).local()}function po(t){return-Math.round(t._d.getTimezoneOffset())}function lo(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var ho=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,fo=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function yo(t,e){var o,n,r,i,a,c,u=t,l=null;return no(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:p(t)||!isNaN(+t)?(u={},e?u[e]=+t:u.milliseconds=+t):(l=ho.exec(t))?(o="-"===l[1]?-1:1,u={y:0,d:Z(l[Ct])*o,h:Z(l[Tt])*o,m:Z(l[Rt])*o,s:Z(l[wt])*o,ms:Z(ro(1e3*l[It]))*o}):(l=fo.exec(t))?(o="-"===l[1]?-1:1,u={y:mo(l[2],o),M:mo(l[3],o),w:mo(l[4],o),d:mo(l[5],o),h:mo(l[6],o),m:mo(l[7],o),s:mo(l[8],o)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(i=Je(u.from),a=Je(u.to),r=i.isValid()&&a.isValid()?(a=uo(a,i),i.isBefore(a)?c=_o(i,a):((c=_o(a,i)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=r.milliseconds,u.M=r.months),n=new oo(u),no(t)&&s(t,"_locale")&&(n._locale=t._locale),no(t)&&s(t,"_isValid")&&(n._isValid=t._isValid),n}function mo(t,e){var o=t&&parseFloat(t.replace(",","."));return(isNaN(o)?0:o)*e}function _o(t,e){var o={};return o.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(o.months,"M").isAfter(e)&&--o.months,o.milliseconds=+e-+t.clone().add(o.months,"M"),o}function go(t,e){return function(o,n){var r;return null===n||isNaN(+n)||(T(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=o,o=n,n=r),vo(this,yo(o,n),t),this}}function vo(t,e,o,n){var i=e._milliseconds,a=ro(e._days),s=ro(e._months);t.isValid()&&(n=null==n||n,s&&kt(t,q(t,"Month")+s*o),a&&Q(t,"Date",q(t,"Date")+a*o),i&&t._d.setTime(t._d.valueOf()+i*o),n&&r.updateOffset(t,a||s))}yo.fn=oo.prototype,yo.invalid=function(){return yo(NaN)};var Po=go(1,"add"),Eo=go(-1,"subtract");function Oo(t){return"string"==typeof t||t instanceof String}function Mo(t){var e,o=a(t)&&!c(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i=r.length;for(e=0;e<i;e+=1)n=n||s(t,r[e]);return o&&n}function bo(t){var e=i(t),o=!1;return e&&(o=0===t.filter(function(e){return!p(e)&&Oo(t)}).length),e&&o}function So(t){var e,o=a(t)&&!c(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<r.length;e+=1)n=n||s(t,r[e]);return o&&n}function Co(t,e){if(t.date()<e.date())return-Co(e,t);var o=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(o,"months");return-(o+(e-n<0?(e-n)/(n-t.clone().add(o-1,"months")):(e-n)/(t.clone().add(o+1,"months")-n)))||0}function To(t){var e;return void 0===t?this._locale._abbr:(null!=(e=Me(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ro=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function wo(){return this._locale}var Io=126227808e5;function Ao(t,e){return(t%e+e)%e}function Do(t,e,o){return t<100&&t>=0?new Date(t+400,e,o)-Io:new Date(t,e,o).valueOf()}function jo(t,e,o){return t<100&&t>=0?Date.UTC(t+400,e,o)-Io:Date.UTC(t,e,o)}function Fo(t,e){return e.erasAbbrRegex(t)}function Bo(){var t,e,o=[],n=[],r=[],i=[],a=this.eras();for(t=0,e=a.length;t<e;++t)n.push(gt(a[t].name)),o.push(gt(a[t].abbr)),r.push(gt(a[t].narrow)),i.push(gt(a[t].name)),i.push(gt(a[t].abbr)),i.push(gt(a[t].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function No(t,e){N(0,[t,t.length],0,e)}function Lo(t,e,o,n,r){var i;return null==t?Zt(this,n,r).year:(e>(i=Jt(t,n,r))&&(e=i),Go.call(this,t,e,o,n,r))}function Go(t,e,o,n,r){var i=zt(t,e,o,n,r),a=Xt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),mt("N",Fo),mt("NN",Fo),mt("NNN",Fo),mt("NNNN",function(t,e){return e.erasNameRegex(t)}),mt("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),Pt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,o,n){var r=o._locale.erasParse(t,n,o._strict);r?y(o).era=r:y(o).invalidEra=t}),mt("y",lt),mt("yy",lt),mt("yyy",lt),mt("yyyy",lt),mt("yo",function(t,e){return e._eraYearOrdinalRegex||lt}),Pt(["y","yy","yyy","yyyy"],bt),Pt(["yo"],function(t,e,o){var n;o._locale._eraYearOrdinalRegex&&(n=t.match(o._locale._eraYearOrdinalRegex)),o._locale.eraYearOrdinalParse?e[bt]=o._locale.eraYearOrdinalParse(t,n):e[bt]=parseInt(t,10)}),N(0,["gg",2],0,function(){return this.weekYear()%100}),N(0,["GG",2],0,function(){return this.isoWeekYear()%100}),No("gggg","weekYear"),No("ggggg","weekYear"),No("GGGG","isoWeekYear"),No("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),W("weekYear",1),W("isoWeekYear",1),mt("G",ht),mt("g",ht),mt("GG",it,et),mt("gg",it,et),mt("GGGG",ut,nt),mt("gggg",ut,nt),mt("GGGGG",pt,rt),mt("ggggg",pt,rt),Et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,o,n){e[n.substr(0,2)]=Z(t)}),Et(["gg","GG"],function(t,e,o,n){e[n]=r.parseTwoDigitYear(t)}),N("Q",0,"Qo","quarter"),Y("quarter","Q"),W("quarter",7),mt("Q",tt),Pt("Q",function(t,e){e[St]=3*(Z(t)-1)}),N("D",["DD",2],"Do","date"),Y("date","D"),W("date",9),mt("D",it),mt("DD",it,et),mt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),Pt(["D","DD"],Ct),Pt("Do",function(t,e){e[Ct]=Z(t.match(it)[0])});var xo=J("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),W("dayOfYear",4),mt("DDD",ct),mt("DDDD",ot),Pt(["DDD","DDDD"],function(t,e,o){o._dayOfYear=Z(t)}),N("m",["mm",2],0,"minute"),Y("minute","m"),W("minute",14),mt("m",it),mt("mm",it,et),Pt(["m","mm"],Rt);var ko=J("Minutes",!1);N("s",["ss",2],0,"second"),Y("second","s"),W("second",15),mt("s",it),mt("ss",it,et),Pt(["s","ss"],wt);var Yo,Uo,Ho=J("Seconds",!1);for(N("S",0,0,function(){return~~(this.millisecond()/100)}),N(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,function(){return 10*this.millisecond()}),N(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),N(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),N(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),N(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),N(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Y("millisecond","ms"),W("millisecond",16),mt("S",ct,tt),mt("SS",ct,et),mt("SSS",ct,ot),Yo="SSSS";Yo.length<=9;Yo+="S")mt(Yo,lt);function Vo(t,e){e[It]=Z(1e3*("0."+t))}for(Yo="S";Yo.length<=9;Yo+="S")Pt(Yo,Vo);Uo=J("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var Wo=E.prototype;function Xo(t){return t}Wo.add=Po,Wo.calendar=function(t,e){var o;1===arguments.length&&(arguments[0]?O(o=arguments[0])||l(o)||Oo(o)||p(o)||bo(o)||Mo(o)||null==o?(t=arguments[0],e=void 0):So(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Je(),i=uo(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",s=e&&(R(e[a])?e[a].call(this,n):e[a]);return this.format(s||this.localeData().calendar(a,this,Je(n)))},Wo.clone=function(){return new E(this)},Wo.diff=function(t,e,o){var n,r,i;if(!this.isValid())return NaN;if(!(n=uo(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=U(e)){case"year":i=Co(this,n)/12;break;case"month":i=Co(this,n);break;case"quarter":i=Co(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-r)/864e5;break;case"week":i=(this-n-r)/6048e5;break;default:i=this-n}return o?i:z(i)},Wo.endOf=function(t){var e,o;if(void 0===(t=U(t))||"millisecond"===t||!this.isValid())return this;switch(o=this._isUTC?jo:Do,t){case"year":e=o(this.year()+1,0,1)-1;break;case"quarter":e=o(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=o(this.year(),this.month()+1,1)-1;break;case"week":e=o(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=o(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ao(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ao(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ao(e,1e3)-1}return this._d.setTime(e),r.updateOffset(this,!0),this},Wo.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=G(this,t);return this.localeData().postformat(e)},Wo.from=function(t,e){return this.isValid()&&(O(t)&&t.isValid()||Je(t).isValid())?yo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Wo.fromNow=function(t){return this.from(Je(),t)},Wo.to=function(t,e){return this.isValid()&&(O(t)&&t.isValid()||Je(t).isValid())?yo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Wo.toNow=function(t){return this.to(Je(),t)},Wo.get=function(t){return R(this[t=U(t)])?this[t]():this},Wo.invalidAt=function(){return y(this).overflow},Wo.isAfter=function(t,e){var o=O(t)?t:Je(t);return!(!this.isValid()||!o.isValid())&&("millisecond"===(e=U(e)||"millisecond")?this.valueOf()>o.valueOf():o.valueOf()<this.clone().startOf(e).valueOf())},Wo.isBefore=function(t,e){var o=O(t)?t:Je(t);return!(!this.isValid()||!o.isValid())&&("millisecond"===(e=U(e)||"millisecond")?this.valueOf()<o.valueOf():this.clone().endOf(e).valueOf()<o.valueOf())},Wo.isBetween=function(t,e,o,n){var r=O(t)?t:Je(t),i=O(e)?e:Je(e);return!!(this.isValid()&&r.isValid()&&i.isValid())&&("("===(n=n||"()")[0]?this.isAfter(r,o):!this.isBefore(r,o))&&(")"===n[1]?this.isBefore(i,o):!this.isAfter(i,o))},Wo.isSame=function(t,e){var o,n=O(t)?t:Je(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=U(e)||"millisecond")?this.valueOf()===n.valueOf():(o=n.valueOf(),this.clone().startOf(e).valueOf()<=o&&o<=this.clone().endOf(e).valueOf()))},Wo.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Wo.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Wo.isValid=function(){return m(this)},Wo.lang=Ro,Wo.locale=To,Wo.localeData=wo,Wo.max=Qe,Wo.min=qe,Wo.parsingFlags=function(){return f({},y(this))},Wo.set=function(t,e){if("object"==typeof t){var o,n=X(t=H(t)),r=n.length;for(o=0;o<r;o++)this[n[o].unit](t[n[o].unit])}else if(R(this[t=U(t)]))return this[t](e);return this},Wo.startOf=function(t){var e,o;if(void 0===(t=U(t))||"millisecond"===t||!this.isValid())return this;switch(o=this._isUTC?jo:Do,t){case"year":e=o(this.year(),0,1);break;case"quarter":e=o(this.year(),this.month()-this.month()%3,1);break;case"month":e=o(this.year(),this.month(),1);break;case"week":e=o(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=o(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ao(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ao(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ao(e,1e3)}return this._d.setTime(e),r.updateOffset(this,!0),this},Wo.subtract=Eo,Wo.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Wo.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Wo.toDate=function(){return new Date(this.valueOf())},Wo.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,o=e?this.clone().utc():this;return o.year()<0||o.year()>9999?G(o,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):R(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+6e4*this.utcOffset()).toISOString().replace("Z",G(o,"Z")):G(o,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Wo.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,o,n="moment",r="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),t="["+n+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=r+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+o)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Wo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Wo.toJSON=function(){return this.isValid()?this.toISOString():null},Wo.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Wo.unix=function(){return Math.floor(this.valueOf()/1e3)},Wo.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Wo.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Wo.eraName=function(){var t,e,o,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(o=this.clone().startOf("day").valueOf(),n[t].since<=o&&o<=n[t].until)return n[t].name;if(n[t].until<=o&&o<=n[t].since)return n[t].name}return""},Wo.eraNarrow=function(){var t,e,o,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(o=this.clone().startOf("day").valueOf(),n[t].since<=o&&o<=n[t].until)return n[t].narrow;if(n[t].until<=o&&o<=n[t].since)return n[t].narrow}return""},Wo.eraAbbr=function(){var t,e,o,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(o=this.clone().startOf("day").valueOf(),n[t].since<=o&&o<=n[t].until)return n[t].abbr;if(n[t].until<=o&&o<=n[t].since)return n[t].abbr}return""},Wo.eraYear=function(){var t,e,o,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(o=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-r(i[t].since).year())*o+i[t].offset;return this.year()},Wo.year=Vt,Wo.isLeapYear=function(){return K(this.year())},Wo.weekYear=function(t){return Lo.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Wo.isoWeekYear=function(t){return Lo.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Wo.quarter=Wo.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Wo.month=Yt,Wo.daysInMonth=function(){return jt(this.year(),this.month())},Wo.week=Wo.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Wo.isoWeek=Wo.isoWeeks=function(t){var e=Zt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Wo.weeksInYear=function(){var t=this.localeData()._week;return Jt(this.year(),t.dow,t.doy)},Wo.weeksInWeekYear=function(){var t=this.localeData()._week;return Jt(this.weekYear(),t.dow,t.doy)},Wo.isoWeeksInYear=function(){return Jt(this.year(),1,4)},Wo.isoWeeksInISOWeekYear=function(){return Jt(this.isoWeekYear(),1,4)},Wo.date=xo,Wo.day=Wo.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=qt(t,this.localeData()),this.add(t-e,"d")):e},Wo.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Wo.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Qt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},Wo.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Wo.hour=Wo.hours=he,Wo.minute=Wo.minutes=ko,Wo.second=Wo.seconds=Ho,Wo.millisecond=Wo.milliseconds=Uo,Wo.utcOffset=function(t,e,o){var n,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=co(dt,t)))return this}else Math.abs(t)<16&&!o&&(t*=60);return!this._isUTC&&e&&(n=po(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?vo(this,yo(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:po(this)},Wo.utc=function(t){return this.utcOffset(0,t)},Wo.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(po(this),"m")),this},Wo.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=co(ft,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},Wo.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Je(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Wo.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Wo.isLocal=function(){return!!this.isValid()&&!this._isUTC},Wo.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Wo.isUtc=lo,Wo.isUTC=lo,Wo.zoneAbbr=function(){return this._isUTC?"UTC":""},Wo.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Wo.dates=b("dates accessor is deprecated. Use date instead.",xo),Wo.months=b("months accessor is deprecated. Use month instead",Yt),Wo.years=b("years accessor is deprecated. Use year instead",Vt),Wo.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),Wo.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return P(e,this),(e=Ke(e))._a?(t=e._isUTC?d(e._a):Je(e._a),this._isDSTShifted=this.isValid()&&io(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Ko=I.prototype;function zo(t,e,o,n){var r=Me(),i=d().set(n,e);return r[o](i,t)}function Zo(t,e,o){if(p(t)&&(e=t,t=void 0),t=t||"",null!=e)return zo(t,e,o,"month");var n,r=[];for(n=0;n<12;n++)r[n]=zo(t,n,o,"month");return r}function Jo(t,e,o,n){"boolean"==typeof t?(p(e)&&(o=e,e=void 0),e=e||""):(o=e=t,t=!1,p(e)&&(o=e,e=void 0),e=e||"");var r,i=Me(),a=t?i._week.dow:0,s=[];if(null!=o)return zo(e,(o+a)%7,n,"day");for(r=0;r<7;r++)s[r]=zo(e,(r+a)%7,n,"day");return s}Ko.calendar=function(t,e,o){var n=this._calendar[t]||this._calendar.sameElse;return R(n)?n.call(e,o):n},Ko.longDateFormat=function(t){var e=this._longDateFormat[t],o=this._longDateFormat[t.toUpperCase()];return e||!o?e:(this._longDateFormat[t]=o.match(D).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[t])},Ko.invalidDate=function(){return this._invalidDate},Ko.ordinal=function(t){return this._ordinal.replace("%d",t)},Ko.preparse=Xo,Ko.postformat=Xo,Ko.relativeTime=function(t,e,o,n){var r=this._relativeTime[o];return R(r)?r(t,e,o,n):r.replace(/%d/i,t)},Ko.pastFuture=function(t,e){var o=this._relativeTime[t>0?"future":"past"];return R(o)?o(e):o.replace(/%s/i,e)},Ko.set=function(t){var e,o;for(o in t)s(t,o)&&(R(e=t[o])?this[o]=e:this["_"+o]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ko.eras=function(){var t,e,o,n=this._eras||Me("en")._eras;for(t=0,e=n.length;t<e;++t){switch(typeof n[t].since){case"string":o=r(n[t].since).startOf("day"),n[t].since=o.valueOf()}switch(typeof n[t].until){case"undefined":n[t].until=1/0;break;case"string":o=r(n[t].until).startOf("day").valueOf(),n[t].until=o.valueOf()}}return n},Ko.erasParse=function(t,e,o){var n,r,i,a,s,c=this.eras();for(t=t.toUpperCase(),n=0,r=c.length;n<r;++n)if(i=c[n].name.toUpperCase(),a=c[n].abbr.toUpperCase(),s=c[n].narrow.toUpperCase(),o)switch(e){case"N":case"NN":case"NNN":if(a===t)return c[n];break;case"NNNN":if(i===t)return c[n];break;case"NNNNN":if(s===t)return c[n]}else if([i,a,s].indexOf(t)>=0)return c[n]},Ko.erasConvertYear=function(t,e){var o=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*o},Ko.erasAbbrRegex=function(t){return s(this,"_erasAbbrRegex")||Bo.call(this),t?this._erasAbbrRegex:this._erasRegex},Ko.erasNameRegex=function(t){return s(this,"_erasNameRegex")||Bo.call(this),t?this._erasNameRegex:this._erasRegex},Ko.erasNarrowRegex=function(t){return s(this,"_erasNarrowRegex")||Bo.call(this),t?this._erasNarrowRegex:this._erasRegex},Ko.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Nt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},Ko.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Nt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ko.monthsParse=function(t,e,o){var n,r,i;if(this._monthsParseExact)return xt.call(this,t,e,o);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=d([2e3,n]),o&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),o||this._monthsParse[n]||(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),o&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(o&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!o&&this._monthsParse[n].test(t))return n}},Ko.monthsRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Ut.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Gt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Ko.monthsShortRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Ut.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Lt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Ko.week=function(t){return Zt(t,this._week.dow,this._week.doy).week},Ko.firstDayOfYear=function(){return this._week.doy},Ko.firstDayOfWeek=function(){return this._week.dow},Ko.weekdays=function(t,e){var o=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?$t(o,this._week.dow):t?o[t.day()]:o},Ko.weekdaysMin=function(t){return!0===t?$t(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},Ko.weekdaysShort=function(t){return!0===t?$t(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},Ko.weekdaysParse=function(t,e,o){var n,r,i;if(this._weekdaysParseExact)return ae.call(this,t,e,o);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=d([2e3,1]).day(n),o&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),o&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(o&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(o&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!o&&this._weekdaysParse[n].test(t))return n}},Ko.weekdaysRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||se.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=ne),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Ko.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||se.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=re),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ko.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||se.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ie),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ko.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Ko.meridiem=function(t,e,o){return t>11?o?"pm":"PM":o?"am":"AM"},Ee("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===Z(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=b("moment.lang is deprecated. Use moment.locale instead.",Ee),r.langData=b("moment.langData is deprecated. Use moment.localeData instead.",Me);var qo=Math.abs;function Qo(t,e,o,n){var r=yo(e,o);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function $o(t){return t<0?Math.floor(t):Math.ceil(t)}function tn(t){return 4800*t/146097}function en(t){return 146097*t/4800}function on(t){return function(){return this.as(t)}}var nn=on("ms"),rn=on("s"),an=on("m"),sn=on("h"),cn=on("d"),un=on("w"),pn=on("M"),ln=on("Q"),hn=on("y");function fn(t){return function(){return this.isValid()?this._data[t]:NaN}}var dn=fn("milliseconds"),yn=fn("seconds"),mn=fn("minutes"),_n=fn("hours"),gn=fn("days"),vn=fn("months"),Pn=fn("years"),En=Math.round,On={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Mn(t,e,o,n,r){return r.relativeTime(e||1,!!o,t,n)}function bn(t,e,o,n){var r=yo(t).abs(),i=En(r.as("s")),a=En(r.as("m")),s=En(r.as("h")),c=En(r.as("d")),u=En(r.as("M")),p=En(r.as("w")),l=En(r.as("y")),h=i<=o.ss&&["s",i]||i<o.s&&["ss",i]||a<=1&&["m"]||a<o.m&&["mm",a]||s<=1&&["h"]||s<o.h&&["hh",s]||c<=1&&["d"]||c<o.d&&["dd",c];return null!=o.w&&(h=h||p<=1&&["w"]||p<o.w&&["ww",p]),(h=h||u<=1&&["M"]||u<o.M&&["MM",u]||l<=1&&["y"]||["yy",l])[2]=e,h[3]=+t>0,h[4]=n,Mn.apply(null,h)}var Sn=Math.abs;function Cn(t){return(t>0)-(t<0)||+t}function Tn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,o,n,r,i,a,s,c=Sn(this._milliseconds)/1e3,u=Sn(this._days),p=Sn(this._months),l=this.asSeconds();return l?(t=z(c/60),e=z(t/60),c%=60,t%=60,o=z(p/12),p%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",r=l<0?"-":"",i=Cn(this._months)!==Cn(l)?"-":"",a=Cn(this._days)!==Cn(l)?"-":"",s=Cn(this._milliseconds)!==Cn(l)?"-":"",r+"P"+(o?i+o+"Y":"")+(p?i+p+"M":"")+(u?a+u+"D":"")+(e||t||c?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(c?s+n+"S":"")):"P0D"}var Rn=oo.prototype;return Rn.isValid=function(){return this._isValid},Rn.abs=function(){var t=this._data;return this._milliseconds=qo(this._milliseconds),this._days=qo(this._days),this._months=qo(this._months),t.milliseconds=qo(t.milliseconds),t.seconds=qo(t.seconds),t.minutes=qo(t.minutes),t.hours=qo(t.hours),t.months=qo(t.months),t.years=qo(t.years),this},Rn.add=function(t,e){return Qo(this,t,e,1)},Rn.subtract=function(t,e){return Qo(this,t,e,-1)},Rn.as=function(t){if(!this.isValid())return NaN;var e,o,n=this._milliseconds;if("month"===(t=U(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,o=this._months+tn(e),t){case"month":return o;case"quarter":return o/3;case"year":return o/12}else switch(e=this._days+Math.round(en(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Rn.asMilliseconds=nn,Rn.asSeconds=rn,Rn.asMinutes=an,Rn.asHours=sn,Rn.asDays=cn,Rn.asWeeks=un,Rn.asMonths=pn,Rn.asQuarters=ln,Rn.asYears=hn,Rn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Z(this._months/12):NaN},Rn._bubble=function(){var t,e,o,n,r,i=this._milliseconds,a=this._days,s=this._months,c=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*$o(en(s)+a),a=0,s=0),c.milliseconds=i%1e3,t=z(i/1e3),c.seconds=t%60,e=z(t/60),c.minutes=e%60,o=z(e/60),c.hours=o%24,a+=z(o/24),s+=r=z(tn(a)),a-=$o(en(r)),n=z(s/12),s%=12,c.days=a,c.months=s,c.years=n,this},Rn.clone=function(){return yo(this)},Rn.get=function(t){return t=U(t),this.isValid()?this[t+"s"]():NaN},Rn.milliseconds=dn,Rn.seconds=yn,Rn.minutes=mn,Rn.hours=_n,Rn.days=gn,Rn.weeks=function(){return z(this.days()/7)},Rn.months=vn,Rn.years=Pn,Rn.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var o,n,r=!1,i=On;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(r=t),"object"==typeof e&&(i=Object.assign({},On,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),n=bn(this,!r,i,o=this.localeData()),r&&(n=o.pastFuture(+this,n)),o.postformat(n)},Rn.toISOString=Tn,Rn.toString=Tn,Rn.toJSON=Tn,Rn.locale=To,Rn.localeData=wo,Rn.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tn),Rn.lang=Ro,N("X",0,0,"unix"),N("x",0,0,"valueOf"),mt("x",ht),mt("X",/[+-]?\d+(\.\d{1,3})?/),Pt("X",function(t,e,o){o._d=new Date(1e3*parseFloat(t))}),Pt("x",function(t,e,o){o._d=new Date(Z(t))}),r.version="2.29.4",o=Je,r.fn=Wo,r.min=function(){return $e("isBefore",[].slice.call(arguments,0))},r.max=function(){return $e("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=d,r.unix=function(t){return Je(1e3*t)},r.months=function(t,e){return Zo(t,e,"months")},r.isDate=l,r.locale=Ee,r.invalid=_,r.duration=yo,r.isMoment=O,r.weekdays=function(t,e,o){return Jo(t,e,o,"weekdays")},r.parseZone=function(){return Je.apply(null,arguments).parseZone()},r.localeData=Me,r.isDuration=no,r.monthsShort=function(t,e){return Zo(t,e,"monthsShort")},r.weekdaysMin=function(t,e,o){return Jo(t,e,o,"weekdaysMin")},r.defineLocale=Oe,r.updateLocale=function(t,e){if(null!=e){var o,n,r=fe;null!=de[t]&&null!=de[t].parentLocale?de[t].set(w(de[t]._config,e)):(null!=(n=Pe(t))&&(r=n._config),e=w(r,e),null==n&&(e.abbr=t),(o=new I(e)).parentLocale=de[t],de[t]=o),Ee(t)}else null!=de[t]&&(null!=de[t].parentLocale?(de[t]=de[t].parentLocale,t===Ee()&&Ee(t)):null!=de[t]&&delete de[t]);return de[t]},r.locales=function(){return S(de)},r.weekdaysShort=function(t,e,o){return Jo(t,e,o,"weekdaysShort")},r.normalizeUnits=U,r.relativeTimeRounding=function(t){return void 0===t?En:"function"==typeof t&&(En=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==On[t]&&(void 0===e?On[t]:(On[t]=e,"s"===t&&(On.ss=e-1),!0))},r.calendarFormat=function(t,e){var o=t.diff(e,"days",!0);return o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse"},r.prototype=Wo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r},"object"==typeof o&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):this.moment=n()},{}],EffectComet:[function(t,e,o){"use strict";cc._RF.push(e,"a8fb4Oob0tJY4vtz1AIBiJ1","EffectComet");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/Helper"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.mIdleTime=a.default.Rand(1,5)},e.prototype.update=function(t){this.mIdleTime-=t,this.mIdleTime<0&&this.replayAnim()},e.prototype.replayAnim=function(){var t=this.getComponent(cc.Animation);t.play(t.defaultClip.name),t.currentClip.wrapMode=cc.WrapMode.Normal,t.currentClip.speed=a.default.Rand(.05,.1),this.mIdleTime=a.default.Rand(1,5)},i([c],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../utils/Helper":"Helper"}],EffectFlyAndFade:[function(t,e,o){"use strict";cc._RF.push(e,"2b914ALOntJS6Gmy5RU+14V","EffectFlyAndFade");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../game/GameDefine"),s=t("../utils/PooledGameObject"),c=t("../utils/Timer"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Duration=0,e.FadeDelay=0,e.Speed=new cc.Vec2,e}return r(e,t),e.prototype.onLoad=function(){this.Speed.x*=a.default.SPEED_GAME_BASE,this.Speed.y*=a.default.SPEED_GAME_BASE,this.mTimer=new c.default,this.mTimer.SetDuration(this.Duration-this.FadeDelay),this.mTimerFadeDelay=new c.default,this.mTimerFadeDelay.SetDuration(this.FadeDelay)},e.prototype.onEnable=function(){this.mTimer.Reset(),this.mTimerFadeDelay.Reset()},e.prototype.update=function(t){this.node.setPosition(this.node.x+this.Speed.x*t,this.node.y+this.Speed.y*t),this.node.opacity=255*this.mTimer.GetPercent(),this.mTimerFadeDelay.Update(t),this.mTimerFadeDelay.IsDone()&&(this.mTimer.Update(t),this.mTimer.IsDone()&&this.kill())},i([l(cc.Float)],e.prototype,"Duration",void 0),i([l(cc.Float)],e.prototype,"FadeDelay",void 0),i([l(cc.Vec2)],e.prototype,"Speed",void 0),i([p],e)}(s.default);o.default=h,cc._RF.pop()},{"../game/GameDefine":"GameDefine","../utils/PooledGameObject":"PooledGameObject","../utils/Timer":"Timer"}],EffectMgr:[function(t,e,o){"use strict";cc._RF.push(e,"fa7fdgpcdtN1ZCIa0ECqWTQ","EffectMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EffectTypes=void 0;var a=t("../common/PoolMgr"),s=t("../utils/SingletonComponent"),c=t("./GameDefine"),u=cc._decorator,p=u.ccclass;u.property,function(t){t[t.EFFECT_FLY_UP_TEXT=c.default.GAME_OBJECT_TYPES.EFFECT_FLY_UP_TEXT]="EFFECT_FLY_UP_TEXT",t[t.EFFECT_BLOOD_PARTICLE=c.default.GAME_OBJECT_TYPES.EFFECT_BLOOD_PARTICLE]="EFFECT_BLOOD_PARTICLE",t[t.EFFECT_STAR=c.default.GAME_OBJECT_TYPES.EFFECT_STAR]="EFFECT_STAR"}(o.EffectTypes||(o.EffectTypes={}));var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.spawn=function(t,e){return a.default.spawn(t,e)},i([p],e)}(s.default());o.default=l,cc._RF.pop()},{"../common/PoolMgr":"PoolMgr","../utils/SingletonComponent":"SingletonComponent","./GameDefine":"GameDefine"}],EffectParticle:[function(t,e,o){"use strict";cc._RF.push(e,"28076heXFlL27rFA+lX08+X","EffectParticle");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/Helper"),s=t("../utils/PooledGameObject"),c=t("../utils/Timer"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.mTimer=new c.default},e.prototype.init=function(t){this.Options=t,this.mTimer.SetDuration(t.duration),this.node.setPosition(t.x,t.y),this.node.setScale(1),this.node.angle=0,this.node.opacity=255},e.prototype.update=function(t){var e=this.Options,o=e.speedX,n=e.speedY,r=e.speedRotation,i=void 0===r?0:r,s=e.speedScale,c=void 0===s?0:s,u=e.speedFade,p=void 0===u?0:u;this.node.setPosition(this.node.x+o*t,this.node.y+n*t),this.node.setScale(Math.max(0,this.node.scaleX+c*t)),this.node.opacity=a.default.Constrain(this.node.opacity+p*t,0,255),this.node.angle-=i*t,this.node.angle%=360,this.mTimer.Update(t),this.mTimer.IsDone()&&this.kill()},i([p],e)}(s.default));o.default=l,cc._RF.pop()},{"../utils/Helper":"Helper","../utils/PooledGameObject":"PooledGameObject","../utils/Timer":"Timer"}],EnemyLantern:[function(t,e,o){"use strict";cc._RF.push(e,"141ecGUZZtL5pHY7QQnuk+N","EnemyLantern");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=t("./Enemy"),c=t("./GameDefine"),u=cc._decorator,p=u.ccclass;u.property,function(t){t[t.IDLE=0]="IDLE",t[t.FLY_AWAY=1]="FLY_AWAY"}(a||(a={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ANIMS={CLAIM:"enemy_04_claim",MOVE:"enemy_04_idle",GET_HIT:"Idle_Animation",DIE:"Idle_Animation"},e}return r(e,t),e.prototype.update=function(e){if(this.GameMgr.IsNormalState)switch(t.prototype.update.call(this,e),this.mState){case a.FLY_AWAY:this.node.y>this.GameMgr.Canvas.height/2&&this.kill()}},e.prototype.init=function(e,o){o+=c.default.POS_LANTERN_Y,t.prototype.init.call(this,e,o),this.setState(a.IDLE)},e.prototype.setAnim=function(e,o){void 0===o&&(o=!1),e!=this.ANIMS.CLAIM&&(e=this.ANIMS.MOVE,o=!0),t.prototype.setAnim.call(this,e,o)},e.prototype.die=function(){t.prototype.die.call(this),this.setState(a.FLY_AWAY)},e.prototype.onAnimComplete=function(){},e.prototype.setState=function(t){switch(this.mState=t,this.mState){case a.IDLE:break;case a.FLY_AWAY:this.mSpeedY=c.default.LEVEL_DEFINE.OWL_SPEED_RATIO_OF_SCREEN_BASE*this.GameMgr.Canvas.width,this.setAnim(this.ANIMS.CLAIM,!0)}},i([p],e)}(s.default);o.default=l,cc._RF.pop()},{"./Enemy":"Enemy","./GameDefine":"GameDefine"}],EnemyMgr:[function(t,e,o){"use strict";cc._RF.push(e,"e1603/3WABDdbeACvaKPWfv","EnemyMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EnemyTypes=void 0;var a=t("../common/PoolMgr"),s=t("../utils/PooledGameObject"),c=t("./Enemy"),u=t("./GameDefine"),p=t("./GameMgr"),l=cc._decorator,h=l.ccclass;l.property,function(t){t[t.ENEMY_01=u.default.GAME_OBJECT_TYPES.ENEMY_01]="ENEMY_01",t[t.ENEMY_02=u.default.GAME_OBJECT_TYPES.ENEMY_02]="ENEMY_02",t[t.ENEMY_03=u.default.GAME_OBJECT_TYPES.ENEMY_03]="ENEMY_03",t[t.ENEMY_04=u.default.GAME_OBJECT_TYPES.ENEMY_04]="ENEMY_04"}(o.EnemyTypes||(o.EnemyTypes={}));var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.GameMgr=p.default.Instance},e.prototype.init=function(){this.killAllChildren()},e.prototype.spawn=function(t,e,o,n){var r=a.default.spawn(t,this.node);return r&&r.getComponent(c.default).init(e,o,n),r},e.prototype.checkSwipeCollision=function(t){if(this.GameMgr.IsNormalState&&!this.GameMgr.Player.IsDead)for(var e=this.node.childrenCount-1;e>=0;e--){var o=this.node.children[e];o&&o.getComponent(c.default).checkSwipeCollision(t)}},e.prototype.killAllChildren=function(){for(var t=this.node.childrenCount-1;t>=0;t--)this.node.children[t].getComponent(s.default).kill()},i([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../common/PoolMgr":"PoolMgr","../utils/PooledGameObject":"PooledGameObject","./Enemy":"Enemy","./GameDefine":"GameDefine","./GameMgr":"GameMgr"}],EnemyTop:[function(t,e,o){"use strict";cc._RF.push(e,"1b1d6D8ljhICK1gJifrNQIT","EnemyTop");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=t("./Enemy"),c=t("./EnemyMgr"),u=t("./GameDefine"),p=cc._decorator,l=p.ccclass;p.property,function(t){t[t.APPEAR=0]="APPEAR",t[t.DROP_DOWN=1]="DROP_DOWN",t[t.IDLE=2]="IDLE"}(a||(a={}));var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.update=function(e){if(this.GameMgr.IsNormalState)switch(t.prototype.update.call(this,e),this.mState){case a.APPEAR:this.mAppearDistance+=this.GameMgr.Player.Speed*e,this.mAppearDistance>this.mIdleDistance&&this.setState(a.DROP_DOWN);break;case a.DROP_DOWN:this.node.y<=this.mInitY&&(this.node.setPosition(this.node.x,this.mInitY),this.setState(a.IDLE))}},e.prototype.init=function(e,o,n){switch(void 0===n&&(n=!1),t.prototype.init.call(this,e,o,n),this.mInitY=o,this.mAppearDistance=0,this.PoolType){case c.EnemyTypes.ENEMY_02:this.mIdleDistance=u.default.DISTANCE_SPIDER_IDLE;break;case c.EnemyTypes.ENEMY_03:this.mIdleDistance=u.default.DISTANCE_CROW_IDLE}this.setState(a.APPEAR)},e.prototype.setState=function(t){switch(this.mState=t,this.mState){case a.APPEAR:this.node.setPosition(this.node.x,Math.min(this.GameMgr.Canvas.height/2,this.GameMgr.boundaryTop.position.y));break;case a.IDLE:}},e.prototype.moveHorizontal=function(e){this.mState!=a.IDLE&&t.prototype.moveHorizontal.call(this,e)},e.prototype.moveVertical=function(e){this.mState!=a.APPEAR&&this.mState!=a.IDLE&&t.prototype.moveVertical.call(this,e)},i([l],e)}(s.default);o.default=h,cc._RF.pop()},{"./Enemy":"Enemy","./EnemyMgr":"EnemyMgr","./GameDefine":"GameDefine"}],Enemy:[function(t,e,o){"use strict";cc._RF.push(e,"e5d68YyJylLo578F8+YEkfn","Enemy");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/SoundMgr"),s=t("../effect/EffectParticle"),c=t("../utils/Helper"),u=t("../utils/PooledGameObject"),p=t("./EffectMgr"),l=t("./EnemyMgr"),h=t("./GameDefine"),f=t("./GameMgr"),d=t("./HpBar"),y=cc._decorator,m=y.ccclass,_=y.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Anim=null,e.ANIMS={MOVE:"enemy_move",GET_HIT:"enemy_get_hit",DIE:"enemy_die"},e}return r(e,t),Object.defineProperty(e.prototype,"IsBoss",{get:function(){return this.mIsBoss},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsDead",{get:function(){return 0==this.mHp},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.GameMgr=f.default.Instance,this.Collider=this.getComponent(cc.BoxCollider),this.HpBar=this.node.getChildByName("HpBar").getComponent(d.default),this.Anim.on("finished",this.onAnimComplete.bind(this))},e.prototype.update=function(t){this.updateUi(t),this.GameMgr.IsNormalState&&(this.IsDead||this.moveHorizontal(t),this.moveVertical(t))},e.prototype.init=function(t,e,o){void 0===o&&(o=!1),this.fadeAnim&&this.fadeAnim.stop(),this.node.opacity=255;var n=h.default.LEVEL_DEFINE,r=this.GameMgr.Canvas.width,i=this.GameMgr.Canvas.height;switch(this.mSpeedX=0,this.mSpeedY=0,this.PoolType){case l.EnemyTypes.ENEMY_01:this.mHp=n.ENEMY_BOX_HP_BASE+n.ENEMY_BOX_HP_ADD_EACH_WAVE*this.GameMgr.LevelMgr.WaveIndex,this.mSpeedX=-Math.min(n.ENEMY_BOX_SPEED_RATIO_MAX,n.ENEMY_BOX_SPEED_RATIO_OF_SCREEN_BASE+n.ENEMY_BOX_SPEED_RATIO_ADD_EACH_WAVE*this.GameMgr.LevelMgr.WaveIndex)*r/2;break;case l.EnemyTypes.ENEMY_02:this.mHp=n.ENEMY_SPIDER_HP_BASE+n.ENEMY_SPIDER_HP_ADD_EACH_WAVE*this.GameMgr.LevelMgr.WaveIndex,this.mSpeedY=-i/n.ENEMY_SPIDER_SPEED_DROP_SECOND;break;case l.EnemyTypes.ENEMY_03:this.mHp=n.ENEMY_CROW_HP_BASE+n.ENEMY_CROW_HP_ADD_EACH_WAVE*this.GameMgr.LevelMgr.WaveIndex,this.mSpeedX=-Math.min(n.ENEMY_CROW_SPEED_RATIO_MAX,n.ENEMY_CROW_SPEED_RATIO_OF_SCREEN_BASE+n.ENEMY_CROW_SPEED_RATIO_ADD_EACH_WAVE*this.GameMgr.LevelMgr.WaveIndex)*r/2,this.mSpeedY=-h.default.SPEED_CROW_Y;break;case l.EnemyTypes.ENEMY_04:this.mHp=n.LANTERN_HP_BASE}this.mIsBoss=o,this.mHp*=this.mIsBoss?n.ENEMY_BOSS_HP_RATIO:1,this.mInitHp=this.mHp,this.mSpoilExp=this.PoolType==l.EnemyTypes.ENEMY_04?n.EXP_LANTERN:this.mIsBoss?n.EXP_BOSS:n.EXP_ENEMY,this.mCanBeHit=!0,this.node.setScale(this.mIsBoss?n.ENEMY_BOSS_SIZE_RATIO:1),this.node.setPosition(t,e),this.Collider.enabled=!0,this.setAnim(this.ANIMS.MOVE,!0)},e.prototype.checkSwipeCollision=function(t){this.IsDead||1===f.default.Instance.TouchCount&&(this.Collider.world.aabb.contains(t)?this.getHit():this.mCanBeHit=!0)},e.prototype.moveHorizontal=function(t){this.node.setPosition(this.node.x+this.mSpeedX*t,this.node.y)},e.prototype.moveVertical=function(t){this.node.setPosition(this.node.x,this.node.y+this.mSpeedY*t)},e.prototype.getHit=function(){this.mCanBeHit&&(this.mCanBeHit=!1,this.mHp=Math.max(0,this.mHp-this.GameMgr.Player.Atk),this.mHp>0?this.setAnim(this.ANIMS.GET_HIT):this.die(),this.spawnBloodParticle(),a.default.playSfx(a.default.Instance.SFX_SLASH))},e.prototype.spawnBloodParticle=function(){if(this.PoolType!=l.EnemyTypes.ENEMY_04)for(var t=0;t<10;t++){var e=p.default.spawn(p.EffectTypes.EFFECT_BLOOD_PARTICLE,this.GameMgr.EffectContainer);e&&e.getComponent(s.default).init({duration:c.default.Rand(.1,.5),x:this.node.x+20,y:this.node.y+70,speedX:c.default.Rand(1,8)*h.default.SPEED_GAME_BASE,speedY:c.default.Rand(-4,4)*h.default.SPEED_GAME_BASE,speedRotation:c.default.Rand(-20,20)*h.default.SPEED_GAME_BASE,speedScale:c.default.Rand(-.02,.02)*h.default.SPEED_GAME_BASE})}},e.prototype.updateUi=function(){this.HpBar.updateInfo(this.mHp/this.mInitHp,this.mHp+" / "+this.mInitHp)},e.prototype.die=function(){this.GameMgr.Player.obtainExp(this.mSpoilExp),this.GameMgr.Score++,this.Collider.enabled=!1,this.setAnim(this.ANIMS.DIE),a.default.playSfx(a.default.Instance.SFX_ENEMY_DIE),this.fadeAnim=cc.tween(this.node).to(1,{opacity:0}).start()},e.prototype.setAnim=function(t,e){void 0===e&&(e=!1),this.Anim.play(t),this.Anim.getAnimationState(t).wrapMode=e?cc.WrapMode.Loop:cc.WrapMode.Normal},e.prototype.onAnimComplete=function(t,e){switch(e.name){case this.ANIMS.GET_HIT:this.setAnim(this.ANIMS.MOVE,!0);break;case this.ANIMS.DIE:this.kill()}},i([_(cc.Animation)],e.prototype,"Anim",void 0),i([m],e)}(u.default);o.default=g,cc._RF.pop()},{"../common/SoundMgr":"SoundMgr","../effect/EffectParticle":"EffectParticle","../utils/Helper":"Helper","../utils/PooledGameObject":"PooledGameObject","./EffectMgr":"EffectMgr","./EnemyMgr":"EnemyMgr","./GameDefine":"GameDefine","./GameMgr":"GameMgr","./HpBar":"HpBar"}],EnvironmentMgr:[function(t,e,o){"use strict";cc._RF.push(e,"00573OenaFESaNLuWhqw9Jf","EnvironmentMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Environments=void 0;var a,s=t("../effect/EffectParticle"),c=t("../utils/Helper"),u=t("./EffectMgr"),p=t("./GameDefine"),l=t("./GameMgr"),h=t("./Ground"),f=t("./Planet"),d=t("./ScrollBgSwitch"),y=t("./SwitchBg"),m=cc._decorator,_=m.ccclass,g=m.property;(function(t){t[t.ENVIRONMENT_01=0]="ENVIRONMENT_01",t[t.ENVIRONMENT_02=1]="ENVIRONMENT_02",t[t.ENVIRONMENT_03=2]="ENVIRONMENT_03"})(a=o.Environments||(o.Environments={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Bg=null,e.Planet=null,e.Ground=null,e.BuildingNear=null,e.BuildingFar=null,e}return r(e,t),Object.defineProperty(e.prototype,"CurrentEnvironment",{get:function(){return this.mCurrentEnvironment},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsSwitching",{get:function(){return this.Ground.IsSwitching},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.GameMgr=l.default.Instance},e.prototype.init=function(){this.mSpawnStarTime=0,this.mCurrentEnvironment=c.default.RandTypeEnum(a),this.Ground.init(),this.Bg.init(),this.Planet.init(),this.BuildingNear.init(),this.BuildingFar.init()},e.prototype.prepareNextEnvironment=function(t){this.mCurrentEnvironment!=t&&(this.mNextEnvironment=t,this.Ground.spawnWater())},e.prototype.switchEnvironment=function(){this.Bg.switch(this.mCurrentEnvironment,this.mNextEnvironment),this.Planet.switch(this.mCurrentEnvironment,this.mNextEnvironment),this.BuildingNear.switch(this.mCurrentEnvironment,this.mNextEnvironment),this.BuildingFar.switch(this.mCurrentEnvironment,this.mNextEnvironment),this.mCurrentEnvironment=this.mNextEnvironment},e.prototype.update=function(t){this.GameMgr.IsNormalState&&(this.mSpawnStarTime-=t,this.mSpawnStarTime<0&&(this.mSpawnStarTime=c.default.Rand(.01,.05),this.spawnStar()))},e.prototype.spawnStar=function(){var t=u.default.spawn(u.EffectTypes.EFFECT_STAR,l.default.Instance.CometContainer);t&&t.getComponent(s.default).init({duration:c.default.Rand(.8,3),x:c.default.Rand(0,this.GameMgr.Canvas.width)*c.default.RandArgument(-1,1),y:c.default.Rand(0,this.GameMgr.Canvas.height)*c.default.RandArgument(-1,1),speedX:0,speedY:0,speedRotation:c.default.Rand(-5,5)*p.default.SPEED_GAME_BASE,speedScale:-1*c.default.Rand(0,.05)*p.default.SPEED_GAME_BASE,speedFade:255*c.default.Rand(0,.05)*-1*p.default.SPEED_GAME_BASE})},i([g(y.default)],e.prototype,"Bg",void 0),i([g(f.default)],e.prototype,"Planet",void 0),i([g(h.default)],e.prototype,"Ground",void 0),i([g(d.default)],e.prototype,"BuildingNear",void 0),i([g(d.default)],e.prototype,"BuildingFar",void 0),i([_],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../effect/EffectParticle":"EffectParticle","../utils/Helper":"Helper","./EffectMgr":"EffectMgr","./GameDefine":"GameDefine","./GameMgr":"GameMgr","./Ground":"Ground","./Planet":"Planet","./ScrollBgSwitch":"ScrollBgSwitch","./SwitchBg":"SwitchBg"}],Events:[function(t,e,o){"use strict";cc._RF.push(e,"b696582lTJLw7Iim1lgVlJ2","Events");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<o;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,r++)n[r]=i[a];return n};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../utils/SingletonComponent"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.registerEvent=function(t,e){this.Instance.node.on(t,e)},e.unregisterEvent=function(t,e){this.Instance.node.off(t,e)},e.emit=function(t){for(var e,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];(e=this.Instance.node).emit.apply(e,a([t],o))},e.EventLanguageChanged="EventLanguageChanged",e.EventPlayerToggleSound="EventPlayerToggleSound",e.EventPlayerFinishTutorial="EventPlayerFinishTutorial",e.EventRemainingTurnChanged="EventRemainingTurnChanged",e.EventRemainingCoinChanged="EventRemainingCoinChanged",e.EventStarChanged="EventStarChanged",i([u],e)}(s.default()));o.default=p,cc._RF.pop()},{"../utils/SingletonComponent":"SingletonComponent"}],Facebook:[function(t,e,o){"use strict";cc._RF.push(e,"c9b95+fBXRHSbdvjvfUp6PV","Facebook");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FacebookShareLocations=void 0;var a=t("../utils/SingletonComponent"),s=cc._decorator,c=s.ccclass,u=(s.property,0);o.FacebookShareLocations=cc.Enum({INTERSTITIAL:u++});var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.share=function(){var t="kakoak://fb?ref="+encodeURIComponent("http://kakoak.tls.tl/")+"&quote="+encodeURIComponent("Amazing Game! Play now to win 5 Honda Beats");this.addTurnAndShare(t)},e.prototype.addTurnAndShare=function(){},i([c],e)}(a.default());o.default=p,cc._RF.pop()},{"../utils/SingletonComponent":"SingletonComponent"}],FrameMgr:[function(t,e,o){"use strict";cc._RF.push(e,"695082Ah5hOiqoqTMVT3I6B","FrameMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/SingletonComponent"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MATERIAL_2D_SPRITE=null,e.MATERIAL_2D_SPRITE_GRAY=null,e.ICON_RANKS=[],e.BG_ENVIRONMENT_01=null,e.BG_ENVIRONMENT_02=null,e.BG_ENVIRONMENT_03=null,e.BG_SWITCH_ENVIRONMENT_01=null,e.BG_SWITCH_ENVIRONMENT_02=null,e.BG_SWITCH_ENVIRONMENT_03=null,e.BG_TAB_BUTTONS=[],e.BG_TAB_BUTTONS_02=[],e.BG_BUY_TURN_BUTTONS=[],e.RESULT_GIFT_BOX=null,e.REWARD_KHOANG_THACH_1=null,e.REWARD_KHOANG_THACH_2=null,e.REWARD_KHOANG_THACH_3=null,e.REWARD_KHOANG_THACH_4=null,e.REWARD_TAU_VU_TRU_1=null,e.REWARD_TAU_VU_TRU_2=null,e.REWARD_ROBOT_1=null,e.REWARD_ROBOT_2=null,e.REWARD_ROBOT_3=null,e.REWARD_NON_PHI_HANH_GIA=null,e.REWARD_SUNG_LAZE=null,e.REWARD_CO_VIETTEL=null,e.REWARD_BALO_PHAN_LUC=null,e.REWARD_HOP_DONG=null,e.REWARD_HOP_MAY_MAN=null,e.REWARD_HOP_SAT=null,e.REWARD_SAO_1=null,e.REWARD_SAO_2=null,e.REWARD_SAO_3=null,e.REWARD_SAO_4=null,e.REWARD_SAO_5=null,e.REWARD_SAO_10=null,e}return r(e,t),i([u(cc.Material)],e.prototype,"MATERIAL_2D_SPRITE",void 0),i([u(cc.Material)],e.prototype,"MATERIAL_2D_SPRITE_GRAY",void 0),i([u(cc.SpriteFrame)],e.prototype,"ICON_RANKS",void 0),i([u(cc.SpriteFrame)],e.prototype,"BG_ENVIRONMENT_01",void 0),i([u(cc.SpriteFrame)],e.prototype,"BG_ENVIRONMENT_02",void 0),i([u(cc.SpriteFrame)],e.prototype,"BG_ENVIRONMENT_03",void 0),i([u(cc.SpriteFrame)],e.prototype,"BG_SWITCH_ENVIRONMENT_01",void 0),i([u(cc.SpriteFrame)],e.prototype,"BG_SWITCH_ENVIRONMENT_02",void 0),i([u(cc.SpriteFrame)],e.prototype,"BG_SWITCH_ENVIRONMENT_03",void 0),i([u(cc.SpriteFrame)],e.prototype,"BG_TAB_BUTTONS",void 0),i([u(cc.SpriteFrame)],e.prototype,"BG_TAB_BUTTONS_02",void 0),i([u(cc.SpriteFrame)],e.prototype,"BG_BUY_TURN_BUTTONS",void 0),i([u(cc.SpriteFrame)],e.prototype,"RESULT_GIFT_BOX",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_KHOANG_THACH_1",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_KHOANG_THACH_2",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_KHOANG_THACH_3",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_KHOANG_THACH_4",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_TAU_VU_TRU_1",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_TAU_VU_TRU_2",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_ROBOT_1",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_ROBOT_2",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_ROBOT_3",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_NON_PHI_HANH_GIA",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_SUNG_LAZE",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_CO_VIETTEL",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_BALO_PHAN_LUC",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_HOP_DONG",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_HOP_MAY_MAN",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_HOP_SAT",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_SAO_1",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_SAO_2",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_SAO_3",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_SAO_4",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_SAO_5",void 0),i([u(cc.SpriteFrame)],e.prototype,"REWARD_SAO_10",void 0),i([c],e)}(a.default());o.default=p,cc._RF.pop()},{"../utils/SingletonComponent":"SingletonComponent"}],GameDefine:[function(t,e,o){"use strict";cc._RF.push(e,"df2f3hSVDtPLYZg0KzF8LJM","GameDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.leaderboardRewardDefine=o.projectLaunchDate=o.IDLE_TIMEOUT=void 0,o.default=new(function(){function t(){var t;this.DEEP_LINK_BACK="",this.LANGUAGE_DEFAULT="en",this.STRING_TIMEOUT="TIMEOUT",this.STRING_BUY_TURN_CONFIRM="X\xe1c nh\u1eadn %s1 %d1 l\u01b0\u1ee3t v\u1edbi %d2 %s2",this.BUY_TURN_QUANTITIES=[5,10,15,20],this.EXCHANGE_TURN_QUANTITIES=[5,10,15,20],this.SHOW_GAME_DEBUG=!1,this.GAME_WIDTH=576,this.GAME_HEIGHT=1024,this.IS_TIMED_BASE_GAME=!1,this.SPEED_GAME_BASE=60,this.SPEED_GRAVITY=-20*this.SPEED_GAME_BASE,this.SPEED_PLAYER_RUN=5*this.SPEED_GAME_BASE,this.SPEED_PLAYER_JUMP=5*this.SPEED_GAME_BASE,this.SPEED_CROW_Y=5*this.SPEED_GAME_BASE,this.POS_PLAYER_X=-536.555,this.POS_PLAYER_Y=-350,this.POS_LIMIT_LEFT=300,this.POS_LANTERN_Y=400,this.HIGH_RATIO_DEVICE_OFFSET_Y=100,this.DISTANCE_SPIDER_IDLE=200,this.DISTANCE_CROW_IDLE=200,this.TIME_API_TIMEOUT=60,this.TIME_GAME_PLAY=60,this.TIME_TUTORIAL=3,this.TIME_PLAYER_INVISIBLE=1,this.RATIO_HIGH_DEVICE_MIN=2,this.QTY_POOL_DEFAULT=10,this.GAME_OBJECT_TYPES={ENEMY_01:0,ENEMY_02:4,ENEMY_03:5,ENEMY_04:6,EFFECT_FLY_UP_TEXT:2,EFFECT_BLOOD_PARTICLE:3,EFFECT_STAR:7},this.QTY_POOLS=((t={})[this.GAME_OBJECT_TYPES.ENEMY_01]=10,t[this.GAME_OBJECT_TYPES.ENEMY_04]=2,t[this.GAME_OBJECT_TYPES.EFFECT_BLOOD_PARTICLE]=100,t[this.GAME_OBJECT_TYPES.EFFECT_STAR]=100,t),this.SHOW_GAME_DEBUG&&(console.warn("Playing in debug mode"),this.IS_TIMED_BASE_GAME&&console.warn("Is timed base game"))}return t.prototype.load=function(t){this.LEVEL_DEFINE=t.gameDefines},t}()),o.IDLE_TIMEOUT=300,o.projectLaunchDate="07/12/2022",o.leaderboardRewardDefine=[{top:10,reward:"REWARD_HOP_DONG"},{top:60,reward:"REWARD_HOP_SAT"},{top:160,reward:"REWARD_HOP_MAY_MAN"}],cc._RF.pop()},{}],GameMgr:[function(t,e,o){"use strict";cc._RF.push(e,"55290V+091JVan1ePW9lbgP","GameMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameStates=void 0;var a,s=cc._decorator,c=s.ccclass,u=s.property,p=t("../utils/SingletonComponent"),l=t("../game/GameDefine"),h=t("../utils/Timer"),f=t("../common/SoundMgr"),d=t("../common/Events"),y=t("../common/PoolMgr"),m=t("./Player"),_=t("./ItemMgr"),g=t("./EnemyMgr"),v=t("../utils/Helper"),P=t("../popup/PopupMgr"),E=t("../utils/PooledGameObject"),O=t("./EnvironmentMgr"),M=t("./Ground"),b=t("../ui/TopUI"),S=t("./LevelMgr"),C=t("../ui/UIMgr"),T=t("../ui/common/LoadingCover"),R=t("../popup/PopupBase");(function(t){t[t.NONE=0]="NONE",t[t.TUTORIAL=1]="TUTORIAL",t[t.NORMAL=2]="NORMAL",t[t.RESULT=3]="RESULT"})(a=o.GameStates||(o.GameStates={}));var w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CometContainer=null,e.Ground=null,e.boundaryTop=null,e.boundaryBot=null,e}return r(e,t),Object.defineProperty(e.prototype,"ScreenRatio",{get:function(){return Math.max(this.Canvas.width,this.Canvas.height)/Math.min(this.Canvas.width,this.Canvas.height)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsHighRatioDevice",{get:function(){return this.ScreenRatio>=l.default.RATIO_HIGH_DEVICE_MIN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsPaused",{get:function(){return this.mIsPaused},set:function(t){this.mIsPaused=t,this.mIsPaused?cc.director.pause():cc.director.resume()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsNormalState",{get:function(){return this.mState==a.NORMAL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsTutorialState",{get:function(){return this.mState==a.TUTORIAL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"State",{get:function(){return this.mState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Score",{get:function(){return this.mScore},set:function(t){this.mScore=t,this.mHighScore<this.mScore&&(this.mHighScore=this.mScore)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HighScore",{get:function(){return this.mHighScore},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Timer",{get:function(){return this.mTimer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TouchCount",{get:function(){return this.mTouchCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"RewardIds",{get:function(){return this.mRewardIds},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.load(),this.registerEvents(),this.initEventListeners()},e.prototype.update=function(t){this.updateGame(t)},e.prototype.initEventListeners=function(){var t=this;window.addEventListener("message",function(e){if("game1SetFirstPlay"===("string"==typeof e.data?e.data.split("-").shift():"")){var o="string"==typeof e.data?e.data.split("-").pop():"";t.mIsFirstPlay="true"===o}})},e.prototype.load=function(){this.mIsFirstPlay=!0;var t=cc.director.getCollisionManager();cc.director.getPhysicsManager(),t.enabled=!0,l.default.SHOW_GAME_DEBUG&&(globalThis.GameMgr=this),this.Canvas=cc.find("Canvas"),this.Player=this.node.getChildByName("Player").getComponent(m.default),this.ItemMgr=this.node.getChildByName("ItemMgr").getComponent(_.default),this.EnemyMgr=this.node.getChildByName("EnemyMgr").getComponent(g.default),this.LevelMgr=this.node.getChildByName("LevelMgr").getComponent(S.default),this.EnvironmentMgr=this.node.getChildByName("EnvironmentMgr").getComponent(O.default),this.EffectContainer=this.node.getChildByName("EffectContainer"),this.mGraphics=this.node.getChildByName("Graphics").getComponent(cc.Graphics),this.ScreenRatio>1.8&&(l.default.POS_PLAYER_Y+=l.default.HIGH_RATIO_DEVICE_OFFSET_Y),this.mHighScore=0,this.mTimer=new h.default,this.mTimer.SetDuration(l.default.TIME_GAME_PLAY),this.mPoints=[]},e.prototype.prepareGame=function(t){this.updateTurnInfo(t)},e.prototype.startGame=function(){this.Score=0,this.mTimer.SetDuration(l.default.TIME_GAME_PLAY),this.mPoints.length=0,this.mTouchCount=0,this.mGraphics.clear(),this.IsPaused=!1;for(var t=this.EffectContainer.childrenCount-1;t>=0;t--)this.EffectContainer.children[t].getComponent(E.default).kill();C.default.getUI(C.UIs.UIGame).init(),P.default.getPopup(P.Popups.PopupResult).init(),y.default.Instance.init(),this.LevelMgr.init(),this.EnvironmentMgr.init(),this.ItemMgr.init(),this.EnemyMgr.init(),this.Player.init(),f.default.IsMusicPlaying||f.default.playMusic(f.default.Instance.BGM,!0),this.mIsFirstPlay?(this.setState(a.TUTORIAL),this.postMessage(this.mIsFirstPlay?"gamiSetFirstPlay-false":"gamiSetFirstPlay-true"),this.mIsFirstPlay=!1):this.setState(a.NORMAL)},e.prototype.replay=function(){this.startGame()},e.prototype.endGame=function(){this.mState!=a.RESULT&&this.setState(a.RESULT)},e.prototype.exitGame=function(t){void 0===t&&(t="closeGame"),f.default.stopMusic(),this.postMessage(t)},e.prototype.setStateNone=function(){this.setState(a.NONE)},e.prototype.setStateNormal=function(){this.setState(a.NORMAL)},e.prototype.postMessage=function(t){window.parent&&window.parent.postMessage(t,"*")},e.prototype.pause=function(){this.setState(a.NONE),f.default.pauseMusic()},e.prototype.resume=function(){this.setState(this.mPreviousState),f.default.resumeMusic()},e.prototype.updateTurnInfo=function(t){this.bookRewards(t)},e.prototype.bookRewards=function(t){b.default.Instance.hide(),t()},e.prototype.updateGame=function(t){var e=a.NONE,o=a.TUTORIAL,n=a.NORMAL;switch(a.RESULT,this.mState){case e:case o:break;case n:l.default.IS_TIMED_BASE_GAME&&(this.mTimer.Update(t),this.mTimer.IsDone()&&this.endGame()),this.updateDraw(t)}},e.prototype.updateDraw=function(){if(this.mPoints.length<30)for(var t=0;t<1&&this.mPoints.length>0;t++)this.mPoints.shift();else{for(t=0;t<9&&this.mPoints.length>0;t++)this.mPoints.shift();for(;this.mPoints.length>400;)this.mPoints.shift()}this.mGraphics.clear(),this.mGraphics.strokeColor=cc.color(v.default.RandInt(0,255),v.default.RandInt(0,200),v.default.RandInt(150,255)),this.drawKnife()},e.prototype.drawKnife=function(){for(var t=40,e=1,o=1,n=this.mPoints.length,r=n-2;r>=0;r--){++o<70?(t=e,e+=1):t-=2*t/n;var i=this.node.convertToNodeSpaceAR(this.mPoints[r+1]),a=this.node.convertToNodeSpaceAR(this.mPoints[r]);this.mGraphics.moveTo(i.x,i.y),this.mGraphics.lineTo(a.x,a.y),this.mGraphics.lineWidth=t,this.mGraphics.stroke()}},e.prototype.setState=function(t){this.mPreviousState=this.mState,this.mState=t;var e=a.TUTORIAL,o=a.RESULT;switch(this.mState){case e:var n=P.default.push(P.Popups.PopupTutorial);n&&n.getComponent(R.default).setHideCallback(function(){d.default.emit(d.default.EventPlayerFinishTutorial)});break;case o:P.default.push(P.Popups.PopupResult),C.default.getUI(C.UIs.UIGame).showButtonMusic(!1),!this.ItemMgr.IsClaimRewardFinish&&T.default.Instance.show()}},e.prototype.collectSwipePoints=function(t){if(this.IsNormalState&&1==this.mTouchCount){var e=t.getLocation(),o=t.getPreviousLocation(),n=e.sub(o).mag();if(n>1)for(var r=Math.ceil(n),i=0;i<r;i++){var a=e.x-o.x,s=e.y-o.y,c=i/n,u=cc.v2(o.x+a*c,o.y+s*c);this.mPoints.length>400&&this.mPoints.shift(),this.mPoints.push(u)}}},e.prototype.registerEvents=function(){var t=this;d.default.registerEvent(d.default.EventPlayerFinishTutorial,this.onPlayerFinishTutorial.bind(this)),this.node.on(cc.Node.EventType.TOUCH_START,this.onGameTouchDown,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onGameTouchUp,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onGameTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onGameTouchCancel,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp.bind(this)),cc.game.on("game_on_hide",function(){t.node.activeInHierarchy&&(t.IsNormalState||t.IsTutorialState)&&C.default.getUI(C.UIs.UIGame).triggerHomeButton()})},e.prototype.onPlayerFinishTutorial=function(){this.setState(a.NORMAL)},e.prototype.onGameTouchDown=function(){this.mTouchCount++},e.prototype.onGameTouchUp=function(){this.mTouchCount=Math.max(0,this.mTouchCount-1),this.mPoints.length=0,this.Player.jump()},e.prototype.onGameTouchMove=function(t){this.collectSwipePoints(t.touch),this.EnemyMgr.checkSwipeCollision(t.touch.getLocation())},e.prototype.onGameTouchCancel=function(){this.resetTouch()},e.prototype.resetTouch=function(){this.mTouchCount=0},e.prototype.onKeyUp=function(t){switch(t.keyCode){case 32:this.Player.jump()}},i([u(cc.Node)],e.prototype,"CometContainer",void 0),i([u(M.default)],e.prototype,"Ground",void 0),i([u(cc.Node)],e.prototype,"boundaryTop",void 0),i([u(cc.Node)],e.prototype,"boundaryBot",void 0),i([c],e)}(p.default());o.default=w,cc._RF.pop()},{"../common/Events":"Events","../common/PoolMgr":"PoolMgr","../common/SoundMgr":"SoundMgr","../game/GameDefine":"GameDefine","../popup/PopupBase":"PopupBase","../popup/PopupMgr":"PopupMgr","../ui/TopUI":"TopUI","../ui/UIMgr":"UIMgr","../ui/common/LoadingCover":"LoadingCover","../utils/Helper":"Helper","../utils/PooledGameObject":"PooledGameObject","../utils/SingletonComponent":"SingletonComponent","../utils/Timer":"Timer","./EnemyMgr":"EnemyMgr","./EnvironmentMgr":"EnvironmentMgr","./Ground":"Ground","./ItemMgr":"ItemMgr","./LevelMgr":"LevelMgr","./Player":"Player"}],GameTouchArea:[function(t,e,o){"use strict";cc._RF.push(e,"27765EcdTJBRZME1XVdH8pZ","GameTouchArea");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,function(){},this,!1)},i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"41f38V/0WROcL43fsZvQXf/","Global");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EAppPages=void 0;var a=t("../game/GameDefine");window.gameLanguage=window.language||a.default.LANGUAGE_DEFAULT,"en"!=window.gameLanguage&&(window.gameLanguage="my"),function(t){t.PageHome="PageHome",t.PageLuckySpin="PageLuckySpin",t.PageWinners="PageWinners",t.PageMysteryBox="PageMysteryBox",t.PageCollections="PageCollections",t.PageRanking="PageRanking",t.PageRules="PageRules",t.PageECOM="PageECOM",t.PageTELE="PageTELE",t.PageMETA="PageMETA",t.PageUserProfile="PageUserProfile",t.PageHistory="PageHistory",t.PageBox="PageBox",t.PageFriends="PageFriends",t.PageOpenBox="PageOpenBox",t.PageSetting="PageSetting",t.PageDailyQuest="PageDailyQuest"}(o.EAppPages||(o.EAppPages={}));var s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){},i([c],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../game/GameDefine":"GameDefine"}],GraphicMask:[function(t,e,o){"use strict";cc._RF.push(e,"61f2cXgGCRJ6Y0UMh9cS8IE","GraphicMask");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([s],e)}(cc.Mask));o.default=c,cc._RF.pop()},{}],Ground:[function(t,e,o){"use strict";cc._RF.push(e,"468abt15GpGj6OnakIfWMin","Ground");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ui/UIGame"),s=t("../ui/UIMgr"),c=t("./EnvironmentMgr"),u=t("./GameDefine"),p=t("./GameMgr"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CAP_ENVIRONMENT_01=null,e.CAP_ENVIRONMENT_02=null,e.CAP_ENVIRONMENT_03=null,e.CAP_2_OFFSET_X=0,e.CAP_OFFSETS_Y=[],e.GAP_WIDTH_OFFSET_X=0,e.Container=null,e}return r(e,t),Object.defineProperty(e.prototype,"IsSwitching",{get:function(){return this.mIsSpawningWater||this.Gap.active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsGapActive",{get:function(){return this.Gap.active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"GapWidth",{get:function(){return this.Gap.children[1].width+this.Gap.children[2].width+this.WaterWidth-this.GAP_WIDTH_OFFSET_X},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"WaterWidth",{get:function(){return this.WaterContainer.children.reduce(function(t,e){return t+(e.active?e.width:0)},0)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.GameMgr=p.default.Instance,this.Part1=this.Container.children[0],this.Gap=this.Container.children[1],this.WaterContainer=this.Gap.children[0],this.Part2=cc.instantiate(this.Part1),this.Part2.setParent(this.Container),this.GroundCap1=this.Gap.children[1],this.GroundCap2=this.Gap.children[2],this.mInitCapY=this.GroundCap1.y;for(var t=1;t<u.default.LEVEL_DEFINE.HOLE_LENGTH_IN_SECOND_MAX;t++)this.WaterContainer.addChild(cc.instantiate(this.WaterContainer.children[0]))},e.prototype.start=function(){this.mLength=this.Container.children[0].width},e.prototype.update=function(t){if(this.GameMgr.IsNormalState||this.GameMgr.IsTutorialState){this.mX-=this.GameMgr.Player.Speed*t;var e=-this.mLength-(this.Gap.active?this.GapWidth:0);if(this.mX<=e){if(this.mX+=this.mLength,this.mIsSwitching){var o=this.GameMgr.EnvironmentMgr.CurrentEnvironment;this.mIsSwitching=!1,this.Part1.children.forEach(function(t,e){return t.active=o==e}),this.GroundCap1.getComponent(cc.Sprite).spriteFrame=this["CAP_"+c.Environments[o]],this.GroundCap1.setPosition(this.GroundCap1.x,this.mInitCapY+this.CAP_OFFSETS_Y[o])}this.mIsSpawningWater?(this.mIsSpawningWater=!1,this.Gap.active=!0,this.GameMgr.EnvironmentMgr.switchEnvironment(),this.switch()):this.Gap.active&&(this.Gap.active=!1,this.mX+=this.GapWidth,s.default.getUI(s.UIs.UIGame).showWarning(a.TextWarningTypes.ENEMY_COMMING))}this.node.setPosition(this.mX,this.node.y)}},e.prototype.init=function(){var t=this.GameMgr.EnvironmentMgr.CurrentEnvironment;this.mX=0,this.mIsSpawningWater=!1,this.mIsSwitching=!1,this.GroundCap1.getComponent(cc.Sprite).spriteFrame=this["CAP_"+c.Environments[t]],this.GroundCap1.setPosition(this.GroundCap1.x,this.mInitCapY+this.CAP_OFFSETS_Y[t]),this.Part1.children.forEach(function(e,o){return e.active=t==o}),this.Part2.children.forEach(function(e,o){return e.active=t==o}),this.arrangeWaterSegment(t),this.Gap.active=!1,this.node.setPosition(0,u.default.POS_PLAYER_Y)},e.prototype.spawnWater=function(){this.mIsSpawningWater=!0,s.default.getUI(s.UIs.UIGame).showWarning(a.TextWarningTypes.HOLE_COMMING)},e.prototype.switch=function(){var t=this.GameMgr.EnvironmentMgr.CurrentEnvironment;this.mIsSwitching=!0,this.Part2.children.forEach(function(e,o){return e.active=t==o}),this.GroundCap2.getComponent(cc.Sprite).spriteFrame=this["CAP_"+c.Environments[t]],this.arrangeWaterSegment(t)},e.prototype.arrangeWaterSegment=function(t){var e=Math.min(u.default.LEVEL_DEFINE.HOLE_LENGTH_IN_SECOND_MAX,this.GameMgr.LevelMgr.WaveIndex);this.WaterContainer.children.forEach(function(t,o){return t.active=o<e}),this.GroundCap2.setPosition(this.WaterWidth-this.CAP_2_OFFSET_X,this.mInitCapY+this.CAP_OFFSETS_Y[t]),this.Gap.width=this.GapWidth},i([f(cc.SpriteFrame)],e.prototype,"CAP_ENVIRONMENT_01",void 0),i([f(cc.SpriteFrame)],e.prototype,"CAP_ENVIRONMENT_02",void 0),i([f(cc.SpriteFrame)],e.prototype,"CAP_ENVIRONMENT_03",void 0),i([f(cc.Float)],e.prototype,"CAP_2_OFFSET_X",void 0),i([f({type:cc.Float})],e.prototype,"CAP_OFFSETS_Y",void 0),i([f(cc.Float)],e.prototype,"GAP_WIDTH_OFFSET_X",void 0),i([f(cc.Node)],e.prototype,"Container",void 0),i([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../ui/UIGame":"UIGame","../ui/UIMgr":"UIMgr","./EnvironmentMgr":"EnvironmentMgr","./GameDefine":"GameDefine","./GameMgr":"GameMgr"}],Helper:[function(t,e,o){"use strict";cc._RF.push(e,"9c797yDZv1AaYhZ1cM0SnfN","Helper"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../game/GameDefine"),r=["profile","getGameProfile","saveGameProfile","getTurnBalances","getTurnHistory","getRewardsHistory","getWeeklyLeaderboard","bookRewards","claimReward","claimDailyReward","exchangeReward","getCollections","getRewardBoxes","openRewardBox","buyTurnByCoin","buyTurnByVT++","getIAPPrices"];o.default=new(function(){function t(){}return t.prototype.Rand=function(t,e){return Math.random()*(e-t)+t},t.prototype.RandInt=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.prototype.RandArgument=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return arguments[this.RandInt(0,arguments.length-1)]},t.prototype.RandArray=function(t){return t[this.RandInt(0,t.length-1)]},t.prototype.RandTypeEnum=function(t){var e=Object.keys(t);return Number(e[this.RandInt(0,e.length/2-1)])},t.prototype.SplitArray=function(t,e){for(var o=[],n=0;n<t.length;n+=e){for(var r=[],i=0;i<e;i++)void 0!==t[n+i]&&r.push(t[n+i]);o.push(r)}return o},t.prototype.GetKey=function(t,e){return Object.keys(t)[e]},t.prototype.GetKeyEnum=function(t,e){var o=Object.keys(t);return o[e+o.length/2]},t.prototype.GetKeyCCEnum=function(t,e){return Object.keys(t)[e]},t.prototype.GetIndexEnum=function(t,e){for(var o=Object.keys(t),n=o.length/2;n<o.length;n++)if(o[n]==e)return n-o.length/2;return-1},t.prototype.EnumToCCEnum=function(t){for(var e=Object.keys(t),o={},n=e.length/2,r=0;r<n;r++)o[e[n+r]]=Number(e[r]);return cc.Enum(o)},t.prototype.Normalized=function(t,e,o,n){var r=t-o,i=e-n,a=Math.sqrt(r*r+i*i);return new cc.Vec2(r/a,i/a)},t.prototype.MoveToTarget=function(t,e,o){return o=Math.abs(o),t<e?Math.min(e,t+o):Math.max(e,t-o)},t.prototype.Collision2Rect=function(t,e){return!(t.x+t.width<e.x||t.y+t.height<e.y||e.x+e.width<t.x||e.y+e.height<t.y)},t.prototype.CollisionPointRect=function(t,e,o){return!(t<o.x||e<o.y||t>o.x+o.width||e>o.y+o.height)},t.prototype.Distance=function(t,e,o,n){return Math.sqrt((t-o)*(t-o)+(e-n)*(e-n))},t.prototype.Constrain=function(t,e,o){return t=Math.max(e,t),Math.min(o,t)},t.prototype.ToRadian=function(t){return t/180*Math.PI},t.prototype.ToDegree=function(t){return t/Math.PI*180},t.prototype.TimeoutPromise=function(t,e){var o=new Promise(function(e,o){setTimeout(function(){o(n.default.STRING_TIMEOUT)},1e3*t)});return Promise.race([e,o])},t.prototype.TranslateApiErrorMsg=function(t,e){var o=103,i="Oops c\xf3 tr\u1ee5c tr\u1eb7c x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i sau.";return e&&e.message?(o=101,i=""+e.message):e&&e.data&&e.data.error?(o=101,i=""+e.data.error):"string"==typeof e&&(o=101,i=e),(""+i).toUpperCase()==n.default.STRING_TIMEOUT&&(o=102,i="Kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i. Vui l\xf2ng th\u1eed l\u1ea1i sau."),"Notice "+("0"+r.indexOf(t)).slice(-2)+"-"+o+"\n"+i},t.prototype.HttpRequest=function(t,e,o,r,i){return void 0===i&&(i=null),new Promise(function(a,s){var c=new XMLHttpRequest;c.open(t,e,!0),"POST"==t&&c.setRequestHeader("Content-Type","application/json");for(var u=0,p=i;u<p.length;u++){var l=p[u];c.setRequestHeader(l.key,l.value)}r&&(c.responseType=r),c.timeout=n.default.TIME_API_TIMEOUT,c.onreadystatechange=function(){4==c.readyState&&(200==c.status?a(c.response):s(c.response))},c.onerror=function(t){s(t)},c.ontimeout=function(){s("timed out")},c.send(o)})},t.prototype.DrawLine=function(t,e,o,n,r,i,a){void 0===i&&(i=cc.Color.RED),void 0===a&&(a=2),t.lineWidth=a,t.strokeColor=i,t.moveTo(e,o),t.lineTo(n,r),t.stroke()},t.prototype.DrawSquare=function(t,e,o,n,r,i){void 0===r&&(r=cc.Color.RED),void 0===i&&(i=2),this.DrawRect(t,e,o,n,n,r,i)},t.prototype.DrawRect=function(t,e,o,n,r,i,a){void 0===i&&(i=cc.Color.RED),void 0===a&&(a=2),t.lineWidth=a,t.strokeColor=i,"number"==typeof e?t.rect(e,o,n,r):t.rect(e.x,e.y,e.width,e.height),t.stroke()},t.prototype.DrawArc=function(t,e,o,n,r,i,a,s,c,u,p){void 0===r&&(r=0),void 0===i&&(i=2*Math.PI),void 0===a&&(a=0),void 0===s&&(s=!0),void 0===c&&(c=cc.Color.RED),void 0===u&&(u=2),void 0===p&&(p=!1);var l=2*Math.PI,h=1.5*Math.PI;r=(r=l-(r+=h+a))>l?r%l:r,i=(i=l-(i+=h+a))>l?i%l:i,t.lineWidth=u,t.strokeColor=c,t.arc(e,o,n,r,i,s),p&&(t.lineTo(e,o),t.close()),t.stroke()},t.prototype.DrawCircle=function(t,e,o,n,r,i){void 0===r&&(r=cc.Color.RED),void 0===i&&(i=2),this.DrawEllipse(t,e,o,n,n,r,i)},t.prototype.DrawEllipse=function(t,e,o,n,r,i,a){void 0===i&&(i=cc.Color.RED),void 0===a&&(a=2),t.lineWidth=a,t.strokeColor=i,t.ellipse(e,o,n,r),t.stroke()},t.prototype.FillSquare=function(t,e,o,n,r){void 0===r&&(r=cc.Color.RED),this.FillRect(t,e,o,n,n,r)},t.prototype.FillRect=function(t,e,o,n,r,i){void 0===i&&(i=cc.Color.RED),t.fillColor=i,this.DrawRect(t,e,o,n,r,i,0),t.fill()},t.prototype.FillArc=function(t,e,o,n,r,i,a,s,c){void 0===r&&(r=0),void 0===i&&(i=2*Math.PI),void 0===a&&(a=0),void 0===s&&(s=!0),void 0===c&&(c=cc.Color.RED),t.fillColor=c,this.DrawArc(t,e,o,n,r,i,a,s,void 0,0,!0),t.fill()},t.prototype.FillCircle=function(t,e,o,n,r){void 0===r&&(r=cc.Color.RED),this.FillEllipse(t,e,o,n,n,r)},t.prototype.FillEllipse=function(t,e,o,n,r,i){void 0===i&&(i=cc.Color.RED),t.fillColor=i,this.DrawEllipse(t,e,o,n,r,i,0),t.fill()},t}()),cc._RF.pop()},{"../game/GameDefine":"GameDefine"}],HpBar:[function(t,e,o){"use strict";cc._RF.push(e,"13195+wO9RNLJ9WQYyCiUZF","HpBar");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.HPFillMask=null,e.HPFill=null,e.TextHp=null,e}return r(e,t),e.prototype.onLoad=function(){this.TextHp.string=""},e.prototype.updateInfo=function(t,e){void 0===e&&(e=""),this.TextHp.string=e,this.HPFillMask.width=t*this.HPFill.width},i([c(cc.Node)],e.prototype,"HPFillMask",void 0),i([c(cc.Node)],e.prototype,"HPFill",void 0),i([c(cc.Label)],e.prototype,"TextHp",void 0),i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ItemMgr:[function(t,e,o){"use strict";cc._RF.push(e,"ed361Ac2MpD16ZCqJeW5xr+","ItemMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemTypes=void 0;var a=t("../common/APIMgr"),s=t("../popup/PopupMgr"),c=t("../ui/common/LoadingCover"),u=t("../ui/ResultReward"),p=t("../ui/UIMgr"),l=t("../utils/PooledGameObject"),h=t("./GameMgr"),f=cc._decorator,d=f.ccclass;f.property,o.ItemTypes||(o.ItemTypes={});var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"IsClaimRewardFinish",{get:function(){return this.mClaimFinishRewardCount==this.mRewardCount},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.mRewardCount=0,this.mClaimFinishRewardCount=0,this.killAllChildren()},e.prototype.claimReward=function(){var t=this,e=h.default.Instance.RewardIds.pop();p.default.getUI(p.UIs.UIGame).setReward();var o=s.default.getPopup(s.Popups.PopupResult).setReward(),n=function(e){t.mClaimFinishRewardCount++,o&&o.getComponent(u.default).setReward(e&&e.prizeId?e:null),t.IsClaimRewardFinish&&c.default.Instance.hide()};this.mRewardCount++,e?a.default.solveApi(a.default.Instance.claimReward(e),function(t){n(t.data)},function(){n(null)},!1):n(null)},e.prototype.killAllChildren=function(){for(var t=this.node.childrenCount-1;t>=0;t--)this.node.children[t].getComponent(l.default).kill()},i([d],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../common/APIMgr":"APIMgr","../popup/PopupMgr":"PopupMgr","../ui/ResultReward":"ResultReward","../ui/UIMgr":"UIMgr","../ui/common/LoadingCover":"LoadingCover","../utils/PooledGameObject":"PooledGameObject","./GameMgr":"GameMgr"}],LevelMgr:[function(t,e,o){"use strict";cc._RF.push(e,"672c7ESvW1Im6mDkg8xguf4","LevelMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ui/UIGame"),s=t("../ui/UIMgr"),c=t("../utils/Helper"),u=t("../utils/Timer"),p=t("./EnemyMgr"),l=t("./EnvironmentMgr"),h=t("./GameDefine"),f=t("./GameMgr"),d=cc._decorator,y=d.ccclass,m=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"WaveIndex",{get:function(){return this.mWaveIndex},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.GameMgr=f.default.Instance,this.mSpawnTimer=new u.default,this.mIsSpawnGifts=Array(h.default.LEVEL_DEFINE.OWL_SPAWN_SCORES.length)},e.prototype.init=function(){this.mSpawnTimer.Reset(),this.mWaveIndex=-1,this.mIsSpawnGifts.fill(!1),this.nextWave(),s.default.getUI(s.UIs.UIGame).showWarning(a.TextWarningTypes.ENEMY_COMMING)},e.prototype.update=function(t){if(this.GameMgr.IsNormalState&&!this.GameMgr.Player.IsDead&&!this.GameMgr.EnvironmentMgr.IsSwitching)if(0!=this.mRemainEnemy){if(this.mSpawnTimer.Update(t),this.mSpawnTimer.IsDone()){this.mSpawnTimer.Reset();var e=this.GameMgr.Canvas.width/2+100,o=h.default.POS_PLAYER_Y,n=1==this.mRemainEnemy,r=c.default.RandArgument(p.EnemyTypes.ENEMY_01,p.EnemyTypes.ENEMY_02,p.EnemyTypes.ENEMY_03);this.shouldSpawnGift()&&(r=p.EnemyTypes.ENEMY_04),this.GameMgr.EnemyMgr.spawn(r,e,o,n),this.mRemainEnemy--}}else if(0==this.GameMgr.EnemyMgr.node.childrenCount){var i=(this.GameMgr.EnvironmentMgr.CurrentEnvironment+1)%(Object.keys(l.Environments).length/2);this.GameMgr.EnvironmentMgr.prepareNextEnvironment(i),this.nextWave()}},e.prototype.shouldSpawnGift=function(){for(var t=h.default.LEVEL_DEFINE.OWL_SPAWN_SCORES.length-1;t>=0;t--){var e=h.default.LEVEL_DEFINE.OWL_SPAWN_SCORES[t];if(this.GameMgr.Score>=e&&!this.mIsSpawnGifts[t]&&this.mRemainEnemy>1)return this.mIsSpawnGifts[t]=!0,!0}return!1},e.prototype.nextWave=function(){var t=h.default.LEVEL_DEFINE;this.mWaveIndex++,this.mRemainEnemy=Math.min(t.WAVE_ENEMY_QTY_MAX,t.WAVE_ENEMY_QTY_BASE+t.WAVE_ENEMY_QTY_ADD_EACH_WAVE*this.mWaveIndex),this.mSpawnTimer.SetDuration(Math.max(t.WAVE_SPAWN_TIME_MIN,t.WAVE_SPAWN_TIME_BASE-t.WAVE_SPAWN_TIME_REDUCE_EACH_WAVE*this.mWaveIndex))},i([y],e)}(cc.Component));o.default=m,cc._RF.pop()},{"../ui/UIGame":"UIGame","../ui/UIMgr":"UIMgr","../utils/Helper":"Helper","../utils/Timer":"Timer","./EnemyMgr":"EnemyMgr","./EnvironmentMgr":"EnvironmentMgr","./GameDefine":"GameDefine","./GameMgr":"GameMgr"}],ListViewFetchData:[function(t,e,o){"use strict";cc._RF.push(e,"73831oWmYpIDZQjDfBKNxCw","ListViewFetchData");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/APIMgr"),s=t("../common/APIMgr"),c=t("../ui/common/LoadingCover"),u=t("./ListView"),p=cc._decorator,l=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ListViewType=0,e.FetchLimit=10,e.FetchFailEvent=null,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.registerEvent(u.default.EventBounceBottom,this.fetchData.bind(this,!0)),this.onFetchSuccess=this.onFetchSuccess.bind(this),this.onFetchFail=this.onFetchFail.bind(this)},e.prototype.onEnable=function(){this.init()},e.prototype.retry=function(){this.fetchData(this.mIsAppend)},e.prototype.init=function(){this.mCanFetchData=!0,this.mPageOffset=0,this.fetchData(!1)},e.prototype.fetchData=function(t){this.mCanFetchData&&(this.mCanFetchData=!1,this.mIsAppend=t,c.default.Instance.show(),this.show(this.mIsAppend),a.default.solveApi(a.default.fetchListView(this.ListViewType,this.mPageOffset,this.FetchLimit),this.onFetchSuccess,this.onFetchFail))},e.prototype.onFetchSuccess=function(t){this.mPageOffset++,c.default.Instance.hide(),this.mCanFetchData=!0,this.mIsAppend?this.appendInfo(t.data):this.updateInfo(t.data),this.show()},e.prototype.onFetchFail=function(t){c.default.Instance.hide(),this.mCanFetchData=!0,this.show(),this.FetchFailEvent&&this.FetchFailEvent.emit([t])},e.prototype.show=function(t){void 0===t&&(t=!0),this.node.opacity=t?255:0},i([h({type:s.FetchListViewTypes})],e.prototype,"ListViewType",void 0),i([h(cc.Integer)],e.prototype,"FetchLimit",void 0),i([h(cc.Component.EventHandler)],e.prototype,"FetchFailEvent",void 0),i([l],e)}(u.default);o.default=f,cc._RF.pop()},{"../common/APIMgr":"APIMgr","../ui/common/LoadingCover":"LoadingCover","./ListView":"ListView"}],ListViewItemHistoryPrize:[function(t,e,o){"use strict";cc._RF.push(e,"96285Y+j7FNupm15pbkZq+j","ListViewItemHistoryPrize");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/FrameMgr"),s=t("../../utils/ListViewItem"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Container=null,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=cc.instantiate(this.Container.children[0]);e.setPosition(e.x+e.width,e.y),this.Container.addChild(e)},e.prototype.updateInfo=function(t,e){var o=this;this.Container.children[0].active=!!e[0],this.Container.children[1].active=!!e[1],e.forEach(function(e,n){var r=o.Container.children[n],i=""+e.claimedAt;try{var s=new Date(e.claimedAt);i=s.toLocaleDateString("en-GB",{year:"2-digit",month:"2-digit",day:"2-digit"})+" "+s.toLocaleTimeString(void 0,{hour12:!1,hour:"2-digit",minute:"2-digit"})}catch(p){}r.getChildByName("TextRank").getComponent(cc.Label).string=""+(2*t+1+n),r.getChildByName("TextDesc").getComponent(cc.Label).string="+ "+e.amount,r.getChildByName("TextDateTime").getComponent(cc.Label).string=""+i;var c=r.getChildByName("Icon"),u=a.default.Instance["REWARD_"+e.prizeId.toUpperCase()];if(u)try{c.getComponent(cc.Sprite).spriteFrame=u}catch(p){c.getComponent(cc.Sprite).spriteFrame=a.default.Instance.RESULT_GIFT_BOX}})},i([p(cc.Node)],e.prototype,"Container",void 0),i([u],e)}(s.default);o.default=l,cc._RF.pop()},{"../../common/FrameMgr":"FrameMgr","../../utils/ListViewItem":"ListViewItem"}],ListViewItemHistoryScore:[function(t,e,o){"use strict";cc._RF.push(e,"dee2erBy9FL/pEAEs7lSiuG","ListViewItemHistoryScore");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/ListViewItem"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Container=null,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=cc.instantiate(this.Container.children[0]);e.setPosition(e.x+e.width,e.y),this.Container.addChild(e)},e.prototype.updateInfo=function(t,e){var o=this;this.Container.children[0].active=!!e[0],this.Container.children[1].active=!!e[1],e.forEach(function(e,n){var r=o.Container.children[n];r.getChildByName("TextRank").getComponent(cc.Label).string=""+(2*t+1+n),r.getChildByName("TextDesc").getComponent(cc.Label).string="+ "+e.value+" \u0111i\u1ec3m",r.getChildByName("TextDateTime").getComponent(cc.Label).string=""+e.createdTime})},i([u(cc.Node)],e.prototype,"Container",void 0),i([c],e)}(a.default);o.default=p,cc._RF.pop()},{"../../utils/ListViewItem":"ListViewItem"}],ListViewItemHistoryTurn:[function(t,e,o){"use strict";cc._RF.push(e,"0a7c0k9TwpAGKBWnsBfKRvw","ListViewItemHistoryTurn");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/ListViewItem"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Container=null,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=cc.instantiate(this.Container.children[0]);e.setPosition(e.x+e.width,e.y),this.Container.addChild(e)},e.prototype.updateInfo=function(t,e){var o=this;this.Container.children[0].active=!!e[0],this.Container.children[1].active=!!e[1],e.forEach(function(e,n){var r=o.Container.children[n],i=""+e.createdAt;try{var a=new Date(e.createdAt);i=a.toLocaleDateString("en-GB",{year:"2-digit",month:"2-digit",day:"2-digit"})+" "+a.toLocaleTimeString(void 0,{hour12:!1,hour:"2-digit",minute:"2-digit"})}catch(s){}r.getChildByName("TextRank").getComponent(cc.Label).string=""+(2*t+1+n),r.getChildByName("TextDesc").getComponent(cc.Label).string=(e.amount<0?"-":"+")+" "+Math.abs(e.amount),r.getChildByName("TextDateTime").getComponent(cc.Label).string=""+i})},i([u(cc.Node)],e.prototype,"Container",void 0),i([c],e)}(a.default);o.default=p,cc._RF.pop()},{"../../utils/ListViewItem":"ListViewItem"}],ListViewItemLeaderboard:[function(t,e,o){"use strict";cc._RF.push(e,"9056f18p/JHdJ5f6fhDc8Ev","ListViewItemLeaderboard");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/FrameMgr"),s=t("../../utils/ListViewItem"),c=t("../../utils/utils"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Container=null,e.isInit=!1,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=cc.instantiate(this.Container.children[0]);e.setPosition(e.x+e.width,e.y),this.Container.addChild(e),this.isInit=!0,void 0!==this.index&&void 0!==this.info&&this.updateSelfInfo(this.index,this.info)},e.prototype.updateInfo=function(t,e){this.index=t,this.info=e,this.isInit&&this.updateSelfInfo(t,e)},e.prototype.updateSelfInfo=function(t,e){var o=this;this.Container.children[0].active=!!e[0],this.Container.children[1].active=!!e[1],e.forEach(function(e,n){var r=o.Container.children[n],i=2*t+1+n;r.getChildByName("IconRank").active=i<4,i<4&&(r.getChildByName("IconRank").getComponent(cc.Sprite).spriteFrame=a.default.Instance.ICON_RANKS[i-1]),r.getChildByName("TextRank").getComponent(cc.Label).string=""+i,r.getChildByName("TextDesc").getComponent(cc.Label).string=""+c.truncatePhone(e.msisdn),r.getChildByName("TextScore").getComponent(cc.Label).string=""+e.score})},i([l(cc.Node)],e.prototype,"Container",void 0),i([p],e)}(s.default);o.default=h,cc._RF.pop()},{"../../common/FrameMgr":"FrameMgr","../../utils/ListViewItem":"ListViewItem","../../utils/utils":"utils"}],ListViewItem:[function(t,e,o){"use strict";cc._RF.push(e,"d6c6bOTCJNIoo8y9wjYnSkm","ListViewItem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tmplID=0,e.itemID=0,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.initItem=function(t,e){this.tmplID=t,this.itemID=e},e.prototype.updateItem=function(t){this.itemID=t},e.prototype.updateInfo=function(){},i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],ListViewLeaderboard:[function(t,e,o){"use strict";cc._RF.push(e,"1469bmYBItFobZQabLUoqdv","ListViewLeaderboard");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/ListViewFetchData"),s=t("../../utils/utils"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MyEntry=null,e}return r(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.resetMyEntry()},e.prototype.onFetchSuccess=function(e){t.prototype.onFetchSuccess.call(this,e),this.updateMyEntry(e)},e.prototype.resetMyEntry=function(){this.MyEntry.getChildByName("TextRank").getComponent(cc.Label).string="",this.MyEntry.getChildByName("TextDesc").getComponent(cc.Label).string="",this.MyEntry.getChildByName("TextScore").getComponent(cc.Label).string=""},e.prototype.updateMyEntry=function(t){var e=t.myEntry;e.rank?(this.MyEntry.active=!0,this.MyEntry.getChildByName("TextRank").getComponent(cc.Label).string=""+e.rank,this.MyEntry.getChildByName("TextDesc").getComponent(cc.Label).string=""+s.truncatePhone(e.msisdn),this.MyEntry.getChildByName("TextScore").getComponent(cc.Label).string=""+e.score):this.MyEntry.active=!1},i([p(cc.Node)],e.prototype,"MyEntry",void 0),i([u],e)}(a.default);o.default=l,cc._RF.pop()},{"../../utils/ListViewFetchData":"ListViewFetchData","../../utils/utils":"utils"}],ListView:[function(t,e,o){"use strict";cc._RF.push(e,"64f9frq3zBNsJqAWDLwjhp2","ListView");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ListViewItem"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemTemplate=null,e.scrollView=null,e.totalCount=0,e.spacing=0,e.bufferZone=0,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){this.totalCount=0,this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.2,this.lastContentPosY=0,this.initContentY=this.scrollView.content.y},e.prototype.registerEvent=function(t,e){this.node.on(t,e)},e.prototype.updateInfo=function(t){this.totalCount=t.length,this.items.length=0,this.scrollView.content.y=this.initContentY,this.content.destroyAllChildren(),this.initialize(t)},e.prototype.appendInfo=function(t){this.totalCount+=t.length,this.initialize(t)},e.prototype.initialize=function(t){var e=t.length;this.content.height=this.totalCount*(this.itemTemplate.height+this.spacing)+this.spacing;for(var o=0;o<e;++o){var n=t[o],r=this.totalCount-e+o,i=cc.instantiate(this.itemTemplate);this.content.addChild(i),i.setPosition(0,-i.height*(.5+r)-this.spacing*(r+1)),i.getComponent(a.default).initItem(r,r),i.getComponent(a.default).updateInfo(r,n),this.items.push(i)}},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},e.prototype.update=function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var e=this.items,o=this.bufferZone,n=this.scrollView.content.y<this.lastContentPosY,r=(this.itemTemplate.height+this.spacing)*e.length,i=0;i<e.length;++i){var s=this.getPositionInView(e[i]);if(n){if(s.y<-o&&e[i].y+r<0){e[i].y=e[i].y+r;var c=(u=e[i].getComponent(a.default)).itemID-e.length;u.updateItem(c)}}else if(s.y>o&&e[i].y-r>-this.content.height){var u;e[i].y=e[i].y-r,c=(u=e[i].getComponent(a.default)).itemID+e.length,u.updateItem(c)}}this.lastContentPosY=this.scrollView.content.y}},e.prototype.scrollEvent=function(t,e){switch(e){case cc.ScrollView.EventType.BOUNCE_BOTTOM:this.node.emit(o.EventBounceBottom)}},e.prototype.addItem=function(){this.content.height=(this.totalCount+1)*(this.itemTemplate.height+this.spacing)+this.spacing,this.totalCount=this.totalCount+1},e.prototype.removeItem=function(){this.totalCount-1<30?cc.error("can't remove item less than 30!"):(this.content.height=(this.totalCount-1)*(this.itemTemplate.height+this.spacing)+this.spacing,this.totalCount=this.totalCount-1,this.moveBottomItemToTop())},e.prototype.moveBottomItemToTop=function(){var t=(this.itemTemplate.height+this.spacing)*this.items.length,e=this.items.length,o=this.getItemAtBottom();if(o.y+t<0){o.y=o.y+t;var n=o.getComponent(a.default),r=n.itemID-e;n.updateItem(r)}},e.prototype.getItemAtBottom=function(){for(var t=this.items[0],e=1;e<this.items.length;++e)t.y>this.items[e].y&&(t=this.items[e]);return t},e.prototype.scrollToFixedPosition=function(){this.scrollView.scrollToOffset(cc.v2(0,500),2)},e.EventBounceBottom="EventBounceBottom",i([u(cc.Node)],e.prototype,"itemTemplate",void 0),i([u(cc.ScrollView)],e.prototype,"scrollView",void 0),i([u(cc.Float)],e.prototype,"spacing",void 0),i([u(cc.Float)],e.prototype,"bufferZone",void 0),o=i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./ListViewItem":"ListViewItem"}],Loader:[function(t,e,o){"use strict";cc._RF.push(e,"7e5a18ucm9HNbyhY1pCvdsn","Loader");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../game/GameDefine"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SystemPrefabs=[],e.PlaceHolderPrefabs=[],e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.loadAssets(function(){for(var e=0;e<t.SystemPrefabs.length;e++)t.node.addChild(cc.instantiate(t.SystemPrefabs[e]));for(e=0;e<t.PlaceHolderPrefabs.length;e++)t.node.addChild(cc.instantiate(t.PlaceHolderPrefabs[e]))})},e.prototype.loadAssets=function(t){cc.resources.load("levels",function(e,o){a.default.load(o.json),t()})},i([u(cc.Prefab)],e.prototype,"SystemPrefabs",void 0),i([u(cc.Prefab)],e.prototype,"PlaceHolderPrefabs",void 0),i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../game/GameDefine":"GameDefine"}],LoadingCover:[function(t,e,o){"use strict";cc._RF.push(e,"29a47mQadFCdLTATxvSaT2t","LoadingCover");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/SingletonComponent"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Container=null,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.hide()},e.prototype.show=function(){this.Container.active=!0},e.prototype.hide=function(){this.Container.active=!1},i([u(cc.Node)],e.prototype,"Container",void 0),i([c],e)}(a.default());o.default=p,cc._RF.pop()},{"../../utils/SingletonComponent":"SingletonComponent"}],LoadingIcon:[function(t,e,o){"use strict";cc._RF.push(e,"d6b58j2NhFH0IR2WBa1YE/l","LoadingIcon");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Spinner"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},i([c],e)}(a.default));o.default=u,cc._RF.pop()},{"./Spinner":"Spinner"}],Localization:[function(t,e,o){"use strict";cc._RF.push(e,"5da49VWgIVCgI9f3k1mklrP","Localization");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TextTransforms=o.LOCALIZATION_ENUM=o.LOCALIZATION_KEYS=void 0;var a=cc._decorator,s=a.ccclass,c=(a.property,t("../../strings")),u=t("./Events"),p={};o.LOCALIZATION_KEYS=Object.keys(c);for(var l=0;l<o.LOCALIZATION_KEYS.length;l++)p[o.LOCALIZATION_KEYS[l]]=l;o.LOCALIZATION_ENUM=cc.Enum(p),o.TextTransforms=cc.Enum({None:0,Upper:1,Lower:2});var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e,"language",{get:function(){return window.gameLanguage},enumerable:!1,configurable:!0}),e.GetLocalizedString=function(t){return c[t]&&c[t][this.language.toUpperCase()]||""},e.ChangeLanguage=function(t){window.gameLanguage=t,u.default.emit(u.default.EventLanguageChanged)},i([s],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../strings":"strings","./Events":"Events"}],LocalizedFrame:[function(t,e,o){"use strict";cc._RF.push(e,"15ee8+25TlMrZExT1FhqMna","LocalizedFrame");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/Events"),s=t("../common/Localization"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EN=null,e.MY=null,e.MU=null,e}return r(e,t),e.prototype.onLoad=function(){this.localize=this.localize.bind(this),a.default.registerEvent(a.default.EventLanguageChanged,this.localize.bind(this)),this.mSprite=this.node.getComponent(cc.Sprite),this.mDefaultFrame=this.mSprite.spriteFrame},e.prototype.onDestroy=function(){try{a.default.unregisterEvent(a.default.EventLanguageChanged,this.localize)}catch(t){}},e.prototype.onEnable=function(){this.localize()},e.prototype.localize=function(){this.mSprite.spriteFrame=this[s.default.language.toUpperCase()]||this.mDefaultFrame},i([p(cc.SpriteFrame)],e.prototype,"EN",void 0),i([p(cc.SpriteFrame)],e.prototype,"MY",void 0),i([p(cc.SpriteFrame)],e.prototype,"MU",void 0),i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../common/Events":"Events","../common/Localization":"Localization"}],LocalizedText:[function(t,e,o){"use strict";cc._RF.push(e,"41821KlqLxNgblUINolVrUN","LocalizedText");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=a.executeInEditMode,p=t("../common/Events"),l=t("../common/Localization"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.KeyIndex=0,e.Key="",e.TextTransform=0,e}return r(e,t),Object.defineProperty(e.prototype,"LocalizationKey",{get:function(){return this.Key},set:function(t){this.Key=t,this.onEnable()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.localize=this.localize.bind(this);try{p.default.registerEvent(p.default.EventLanguageChanged,this.localize)}catch(t){}this.mLabel=this.node.getComponent(cc.Label),this.mDefaultString=this.mLabel.string},e.prototype.onDestroy=function(){try{p.default.unregisterEvent(p.default.EventLanguageChanged,this.localize)}catch(t){}},e.prototype.onEnable=function(){if(this.Key){if(this.Key!=l.LOCALIZATION_KEYS[this.KeyIndex]){var t=l.LOCALIZATION_KEYS.indexOf(this.Key);this.KeyIndex=-1!=t?t:0}}else 0!=this.KeyIndex&&(this.Key=l.LOCALIZATION_KEYS[this.KeyIndex]||"");this.localize()},e.prototype.localize=function(){var t=l.default.GetLocalizedString(this.Key)||this.mDefaultString;switch(this.TextTransform){case l.TextTransforms.None:break;case l.TextTransforms.Upper:t=t.toUpperCase();break;case l.TextTransforms.Lower:t=t.toLowerCase()}this.mLabel.string=t},i([c({type:l.LOCALIZATION_ENUM})],e.prototype,"KeyIndex",void 0),i([c(cc.String)],e.prototype,"Key",void 0),i([c({type:l.TextTransforms})],e.prototype,"TextTransform",void 0),i([s,u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../common/Events":"Events","../common/Localization":"Localization"}],Magma:[function(t,e,o){"use strict";cc._RF.push(e,"e40bbHmerBALJbPhacej7vN","Magma");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./GameDefine"),s=t("./GameMgr"),c=t("./ScrollBg"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){t.prototype.start.call(this),s.default.Instance.ScreenRatio>1.8&&this.node.setPosition(this.node.x,this.node.y+a.default.HIGH_RATIO_DEVICE_OFFSET_Y)},i([p],e)}(c.default));o.default=l,cc._RF.pop()},{"./GameDefine":"GameDefine","./GameMgr":"GameMgr","./ScrollBg":"ScrollBg"}],Planet:[function(t,e,o){"use strict";cc._RF.push(e,"b52cecZm0VAFZEzZBsjxgpJ","Planet");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/Timer"),s=t("./GameMgr"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.mSwitchTimer=new a.default(5)},e.prototype.update=function(t){this.mSwitchTimer.IsDone()||(this.mSwitchTimer.Update(t),this.mSwitchTimer.IsDone()&&(this.node.children[this.CurrentEnvironment].active=!1),this.node.children[this.CurrentEnvironment].opacity=255*this.mSwitchTimer.GetPercent(),this.node.children[this.NextEnvironment].opacity=255*(1-this.mSwitchTimer.GetPercent()))},e.prototype.init=function(){this.mSwitchTimer.Update(this.mSwitchTimer.GetDuration()),this.node.children.forEach(function(t,e){t.opacity=255,t.active=e==s.default.Instance.EnvironmentMgr.CurrentEnvironment})},e.prototype.switch=function(t,e){var o=this;this.CurrentEnvironment=t,this.NextEnvironment=e,this.mSwitchTimer.Reset(),this.node.children.forEach(function(t,e){t.active=e==o.CurrentEnvironment||e==o.NextEnvironment}),this.node.children[this.NextEnvironment].opacity=0},i([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../utils/Timer":"Timer","./GameMgr":"GameMgr"}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"45fb68HAEpIzr1RwTQ31NsB","Player");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PlayerStates=void 0;var a,s=t("../common/SoundMgr"),c=t("../utils/Helper"),u=t("../utils/PooledGameObject"),p=t("../utils/Timer"),l=t("./Enemy"),h=t("./GameDefine"),f=t("./GameMgr"),d=t("./HpBar"),y=cc._decorator,m=y.ccclass,_=y.property;(function(t){t[t.RUN=0]="RUN",t[t.JUMP=1]="JUMP"})(a=o.PlayerStates||(o.PlayerStates={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Anim=null,e.ANIMS={RUN:"mc_idle",FLY:"mc_fly",GET_HIT:"mc_get_hit",DIE:"mc_get_hit"},e}return r(e,t),Object.defineProperty(e.prototype,"Exp",{get:function(){return this.mExp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ExpFull",{get:function(){var t=c.default.Constrain(this.mLevel,0,h.default.LEVEL_DEFINE.MC_EXP_LEVEL_UP.length-1);return h.default.LEVEL_DEFINE.MC_EXP_LEVEL_UP[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Speed",{get:function(){return this.mSpeed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Atk",{get:function(){return this.mAtk},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Level",{get:function(){return this.mLevel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsInvisible",{get:function(){return!this.mInvisibleTimer.IsDone()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsDead",{get:function(){return this.mIsDead},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.GameMgr=f.default.Instance,this.Collider=this.getComponent(cc.BoxCollider),this.HpBar=this.node.getChildByName("HpBar").getComponent(d.default),this.mInvisibleTimer=new p.default,this.mContactedEnnemies=[],this.Anim.on("finished",this.onAnimComplete.bind(this))},e.prototype.update=function(t){if(this.updateUi(t),this.GameMgr.IsNormalState&&!this.IsDead)switch(this.IsInvisible&&this.mInvisibleTimer.Update(t),this.mPreviousY=this.node.y,this.mState){case a.RUN:break;case a.JUMP:var e=Math.min(this.GameMgr.Canvas.height/2-250,f.default.Instance.boundaryTop.position.y-250,this.node.y+this.mJumpSpeed*t),o=Math.max(-this.GameMgr.Canvas.height/2-350,f.default.Instance.boundaryBot.position.y-350);this.mJumpSpeed+=h.default.SPEED_GRAVITY*t,this.node.setPosition(this.node.x,e),this.node.y<h.default.POS_PLAYER_Y&&(!this.mIsInWater&&this.mPreviousY>=h.default.POS_PLAYER_Y?this.setState(a.RUN):this.node.y<o&&(this.mIsInWater=!0,this.die()))}},e.prototype.onCollisionEnter=function(t){switch(t.node.group){case"item":t.getComponent(u.default).kill(),this.GameMgr.Score++;break;case"hole":this.mIsInWater=!0,this.mState==a.RUN&&(this.jump(),this.mJumpSpeed=0)}},e.prototype.onCollisionStay=function(t){switch(t.node.group){case"enemy":this.getHit(t)}},e.prototype.onCollisionExit=function(t){switch(t.node.group){case"hole":this.mIsInWater=!1}},e.prototype.init=function(){this.mHp=h.default.LEVEL_DEFINE.MC_HP_BASE,this.mHpFull=this.mHp,this.mAtk=h.default.LEVEL_DEFINE.MC_ATK_BASE,this.mExp=0,this.mLevel=0,this.mInvisibleTimer.SetDuration(h.default.TIME_PLAYER_INVISIBLE),this.mInvisibleTimer.Update(this.mInvisibleTimer.GetDuration()),this.mIsInWater=!1,this.mIsDead=!1,this.mPreviousY=this.node.y,this.Anim.node.active=!0,this.Collider.enabled=!0,this.setState(a.RUN)},e.prototype.jump=function(){this.GameMgr.IsNormalState&&this.GameMgr.EnvironmentMgr.IsSwitching&&this.setState(a.JUMP)},e.prototype.obtainExp=function(t){var e=h.default.LEVEL_DEFINE;this.mLevel>=e.MC_LEVEL_MAX||(this.mExp=Math.min(this.ExpFull,this.mExp+t),this.mExp>=this.ExpFull&&(this.mLevel++,this.mExp=this.mLevel==e.MC_LEVEL_MAX?this.mExp:0,this.mHpFull+=e.MC_HP_BASE*e.MC_HP_RATIO_ADD_EACH_LEVEL_UP,this.mAtk+=e.MC_ATK_BASE*e.MC_ATK_RATIO_ADD_EACH_LEVEL_UP))},e.prototype.updateUi=function(){this.HpBar.updateInfo(this.mHp/this.mHpFull,this.mHp+" / "+this.mHpFull)},e.prototype.getHit=function(t){var e=this;if(!this.IsInvisible){var o=t.getComponent(l.default);if(-1==this.mContactedEnnemies.indexOf(o)){this.mContactedEnnemies.push(o),this.schedule(function(){e.mContactedEnnemies.shift()},0,0,3);var n=o.IsBoss?h.default.LEVEL_DEFINE.DMG_MC_HIT_BY_BOSS:h.default.LEVEL_DEFINE.DMG_MC_HIT_BY_ENEMY;this.mInvisibleTimer.Reset(),this.mHp=Math.max(0,this.mHp-n),this.mHp>0?this.setAnim(this.ANIMS.GET_HIT):this.die()}}},e.prototype.die=function(){var t=this;this.mIsDead||(this.mIsDead=!0,this.mHp=0,this.mSpeed=0,this.mIsInWater?(this.Anim.node.active=!1,setTimeout(function(){t.GameMgr.endGame()},1500)):this.setAnim(this.ANIMS.DIE),this.Collider.enabled=!1,s.default.playSfx(s.default.Instance.SFX_MC_DIE))},e.prototype.setAnim=function(t,e){void 0===e&&(e=!1),this.Anim.play(t),this.Anim.getAnimationState(t).wrapMode=e?cc.WrapMode.Loop:cc.WrapMode.Normal},e.prototype.onAnimComplete=function(t,e){switch(e.name){case this.ANIMS.GET_HIT:0==this.mHp?this.GameMgr.endGame():this.setAnim(this.ANIMS.RUN,!0)}},e.prototype.setState=function(t){switch(this.mState=t,this.mState){case a.RUN:this.mSpeed=h.default.SPEED_PLAYER_RUN,this.mContactedEnnemies.length=0,this.node.setPosition(h.default.POS_PLAYER_X,h.default.POS_PLAYER_Y),this.setAnim(this.ANIMS.RUN,!0);break;case a.JUMP:this.mJumpSpeed=h.default.SPEED_PLAYER_JUMP,this.setAnim(this.ANIMS.FLY,!0),s.default.playSfx(s.default.Instance.SFX_MC_JUMP)}},i([_(cc.Animation)],e.prototype,"Anim",void 0),i([m],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../common/SoundMgr":"SoundMgr","../utils/Helper":"Helper","../utils/PooledGameObject":"PooledGameObject","../utils/Timer":"Timer","./Enemy":"Enemy","./GameDefine":"GameDefine","./GameMgr":"GameMgr","./HpBar":"HpBar"}],PoolMgr:[function(t,e,o){"use strict";cc._RF.push(e,"e79f8hbpIxGU7VVG4O0dt4P","PoolMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PoolTypes=void 0;var a=t("../game/GameDefine"),s=t("../utils/SingletonComponent"),c=t("./Pool");o.PoolTypes=cc.Enum({ENEMY_01:a.default.GAME_OBJECT_TYPES.ENEMY_01,ENEMY_02:a.default.GAME_OBJECT_TYPES.ENEMY_02,ENEMY_03:a.default.GAME_OBJECT_TYPES.ENEMY_03,ENEMY_04:a.default.GAME_OBJECT_TYPES.ENEMY_04,EFFECT_FLY_UP_TEXT:a.default.GAME_OBJECT_TYPES.EFFECT_FLY_UP_TEXT,EFFECT_BLOOD_PARTICLE:a.default.GAME_OBJECT_TYPES.EFFECT_BLOOD_PARTICLE,EFFECT_STAR:a.default.GAME_OBJECT_TYPES.EFFECT_STAR});var u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.spawn=function(t,e){return this.Instance.getPool(t).spawn(e)},e.kill=function(t,e){return this.Instance.getPool(t).kill(e)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.mPools={};for(var e=0,o=this.node.children;e<o.length;e++){var n=o[e].getComponent(c.default);this.mPools[n.Type]=n}},e.prototype.init=function(){for(var t in this.mPools)this.mPools[t].init()},e.prototype.getPool=function(t){return this.mPools[t]},i([p],e)}(s.default()));o.default=l,cc._RF.pop()},{"../game/GameDefine":"GameDefine","../utils/SingletonComponent":"SingletonComponent","./Pool":"Pool"}],PooledGameObject:[function(t,e,o){"use strict";cc._RF.push(e,"3f07dz/5eBEz5ZfR/h37Jqu","PooledGameObject");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/PoolMgr"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PoolType=0,e}return r(e,t),e.prototype.spawn=function(t){return void 0===t&&(t=null),a.default.spawn(this.PoolType,t)},e.prototype.kill=function(){a.default.kill(this.PoolType,this.node)},i([u({type:a.PoolTypes})],e.prototype,"PoolType",void 0),i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../common/PoolMgr":"PoolMgr"}],Pool:[function(t,e,o){"use strict";cc._RF.push(e,"95b531gvQpGDojJTHR+ZWLV","Pool");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../game/GameDefine"),s=t("./PoolMgr"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Type=0,e.Prefab=null,e.ShouldExpand=!1,e.KillExpand=!1,e}return r(e,t),Object.defineProperty(e.prototype,"CurrentSize",{get:function(){return this.mCurrentSize},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.mInstantiatedObjects=[],this.mPoolSize=a.default.QTY_POOLS[this.Type]||a.default.QTY_POOL_DEFAULT,this.mCurrentSize=0;for(var t=0;t<this.mPoolSize;t++)this.mInstantiatedObjects.push(this.instantiate())},e.prototype.init=function(){for(var t=0;t<this.mInstantiatedObjects.length;t++)this.mInstantiatedObjects[t].active=!1},e.prototype.spawn=function(t){void 0===t&&(t=null);var e=this.getAvailable();return e&&(e.setParent(t||this.node),e.active=!0),e},e.prototype.kill=function(t){if(t.active=!1,this.mInstantiatedObjects.length>this.mPoolSize&&this.KillExpand){var e=this.mInstantiatedObjects.indexOf(t);this.mInstantiatedObjects.splice(e,1),t.destroy(),this.mCurrentSize--}else t.setParent(this.node)},e.prototype.getAvailable=function(){for(var t=null,e=0;e<this.mInstantiatedObjects.length;e++)if(!this.mInstantiatedObjects[e].active){t=this.mInstantiatedObjects[e];break}return t||(this.ShouldExpand?(t=this.instantiate(),this.mInstantiatedObjects.push(t)):a.default.SHOW_GAME_DEBUG&&console.warn(this.Prefab.name+" out of pool.")),t},e.prototype.instantiate=function(){var t=cc.instantiate(this.Prefab);return t.active=!1,t.setParent(this.node),this.mCurrentSize++,t},i([p({type:s.PoolTypes})],e.prototype,"Type",void 0),i([p(cc.Prefab)],e.prototype,"Prefab",void 0),i([p(cc.Boolean)],e.prototype,"ShouldExpand",void 0),i([p(cc.Boolean)],e.prototype,"KillExpand",void 0),i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../game/GameDefine":"GameDefine","./PoolMgr":"PoolMgr"}],PopupBalanceNotEnough:[function(t,e,o){"use strict";cc._RF.push(e,"f6a1ayojxdB2qKhti3O/tVu","PopupBalanceNotEnough");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/Global"),s=t("../ui/common/ButtonClickEvent"),c=t("./PopupBase"),u=t("./PopupExitConfirmRedirectGami"),p=t("./PopupMgr"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonRedirect=null,e.TabGroups=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonRedirect.registerEvent(this.onRedirect.bind(this))},e.prototype.init=function(t){this.TabGroups.children.forEach(function(e,o){return e.active=t==o})},e.prototype.onRedirect=function(){var t=p.default.push(p.Popups.PopupExitConfirmRedirectGami);t&&t.getComponent(u.default).init(a.EAppPages.PageDailyQuest)},i([f(s.default)],e.prototype,"ButtonRedirect",void 0),i([f(cc.Node)],e.prototype,"TabGroups",void 0),i([h],e)}(c.default);o.default=d,cc._RF.pop()},{"../common/Global":"Global","../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupExitConfirmRedirectGami":"PopupExitConfirmRedirectGami","./PopupMgr":"PopupMgr"}],PopupBase:[function(t,e,o){"use strict";cc._RF.push(e,"902efxcTkhGMJ6EdmGxo3kb","PopupBase");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"Container",{get:function(){return this.node.getChildByName("Container")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BgCover",{get:function(){return this.node.getChildByName("BgCover")},enumerable:!1,configurable:!0}),e.prototype.registerEvents=function(){},e.prototype.setShowCallback=function(t){this.mShowCallback=t},e.prototype.setHideCallback=function(t){this.mHideCallback=t},e.prototype.activeWidgetNodes=function(t){for(var e=0,o=this.Container.children;e<o.length;e++){var n=o[e].getComponent(cc.Widget);n&&(n.updateAlignment(),n.enabled=t)}},e.prototype.showCallback=function(){this.mShowCallback&&(this.mShowCallback(),this.mShowCallback=null)},e.prototype.hideCallback=function(){this.mHideCallback&&(this.mHideCallback(),this.mHideCallback=null)},e.prototype.showBackground=function(t){this.BgCover.active=t},i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],PopupBuyTurnConfirm:[function(t,e,o){"use strict";cc._RF.push(e,"c8d26JUZjJHLo6YgmCEH09c","PopupBuyTurnConfirm");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../game/GameDefine"),s=t("../ui/common/ButtonClickEvent"),c=t("./PopupBase"),u=t("./PopupMgr"),p=cc._decorator,l=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonOk=null,e.TextContent=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonOk.registerEvent(this.onOk.bind(this))},e.prototype.init=function(t,e,o,n,r){this.Callback=r,this.TextContent.string=a.default.STRING_BUY_TURN_CONFIRM.replace("%s1",t).replace("%d1",""+e).replace("%d2",""+o).replace("%s2",n)},e.prototype.onOk=function(){u.default.pop(),this.Callback()},i([h(s.default)],e.prototype,"ButtonOk",void 0),i([h(cc.Label)],e.prototype,"TextContent",void 0),i([l],e)}(c.default);o.default=f,cc._RF.pop()},{"../game/GameDefine":"GameDefine","../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupMgr":"PopupMgr"}],PopupCheats:[function(t,e,o){"use strict";cc._RF.push(e,"ac6b3Ryv/BM64vhcdlKuyp5","PopupCheats");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../game/GameDefine"),s=t("../ui/common/ButtonClickEvent"),c=t("./PopupBase"),u=t("./PopupMgr"),p=cc._decorator,l=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonBack=null,e.ButtonSave=null,e.Contents=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonBack.registerEvent(this.onBack.bind(this)),this.ButtonSave.registerEvent(this.onSave.bind(this))},e.prototype.onBack=function(){u.default.pop(u.POPUP_EFFECT.APPEAR),u.default.pop(u.POPUP_EFFECT.APPEAR)},e.prototype.onSave=function(){this.Contents.children.forEach(function(t){var e=t.getComponent(cc.Label).string,o=t.children[0].getComponent(cc.EditBox).textLabel.string;t.children[0].getComponent(cc.EditBox).inputMode!=cc.EditBox.InputMode.NUMERIC&&t.children[0].getComponent(cc.EditBox).inputMode!=cc.EditBox.InputMode.DECIMAL||(o=Number(o)),(a.default[e]?a.default:a.default.LEVEL_DEFINE)[e]=o,console.log(e+": "+o)})},i([h(s.default)],e.prototype,"ButtonBack",void 0),i([h(s.default)],e.prototype,"ButtonSave",void 0),i([h(cc.Node)],e.prototype,"Contents",void 0),i([l],e)}(c.default);o.default=f,cc._RF.pop()},{"../game/GameDefine":"GameDefine","../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupMgr":"PopupMgr"}],PopupCollectionSuccess:[function(t,e,o){"use strict";cc._RF.push(e,"af3b4++43dEXoGUc54GPDhQ","PopupCollectionSuccess");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/Global"),s=t("../ui/common/ButtonClickEvent"),c=t("./PopupBase"),u=t("./PopupExitConfirmRedirectGami"),p=t("./PopupMgr"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Title=null,e.TextContent=null,e.GiftFrames=[],e.GiftSprite=null,e.ButtonToMysteryBox=null,e.mCollectionIndex=0,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonToMysteryBox.registerEvent(this.onToMysteryBox.bind(this))},e.prototype.init=function(t){this.mCollectionIndex=t,this.Title.string=0==t?"B\u1ed9 s\u01b0u t\u1eadp":"H\u1ed9p b\xed \u1ea9n";var e=0==t?"M\u1ea3nh thi\xean th\u1ea1ch":"H\u1ed9p qu\xe0",o=0==t?"B\u1ed9 s\u01b0u t\u1eadp":"H\u1ed9p b\xed \u1ea9n";this.TextContent.string="B\u1ea1n \u0111\xe3 \u0111\u1ed5i "+e+" th\xe0nh c\xf4ng.\n    Truy c\u1eadp m\u1ee5c "+o+" trong Si\xeau v\u0169 tr\u1ee5 MyViettel \u0111\u1ec3\n    kh\xe1m ph\xe1 qu\xe0 t\u1eb7ng",this.GiftSprite.spriteFrame=this.GiftFrames[t]},e.prototype.onToMysteryBox=function(){var t=p.default.push(p.Popups.PopupExitConfirmRedirectGami);t&&t.getComponent(u.default).init(0==this.mCollectionIndex?a.EAppPages.PageCollections:a.EAppPages.PageMysteryBox)},i([f(cc.Label)],e.prototype,"Title",void 0),i([f(cc.Label)],e.prototype,"TextContent",void 0),i([f(cc.SpriteFrame)],e.prototype,"GiftFrames",void 0),i([f(cc.Sprite)],e.prototype,"GiftSprite",void 0),i([f(s.default)],e.prototype,"ButtonToMysteryBox",void 0),i([h],e)}(c.default);o.default=d,cc._RF.pop()},{"../common/Global":"Global","../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupExitConfirmRedirectGami":"PopupExitConfirmRedirectGami","./PopupMgr":"PopupMgr"}],PopupCollectionTab:[function(t,e,o){"use strict";cc._RF.push(e,"df79044uilGU7FCopoVqlCp","PopupCollectionTab");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/APIMgr"),s=t("../common/FrameMgr"),c=t("../ui/common/ButtonClickEvent"),u=t("../utils/Helper"),p=t("./PopupBase"),l=t("./PopupCollectionSuccess"),h=t("./PopupMgr"),f=t("./PopupRetry"),d=cc._decorator,y=d.ccclass,m=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonExchange=null,e.ButtonExchangeActive=null,e.Items=null,e}return r(e,t),e.prototype.onLoad=function(){this.mTabIndex=this.node.parent.children.indexOf(this.node),this.mFetchFailCounts={},this.ButtonExchangeActive.registerEvent(this.onExchange.bind(this))},e.prototype.onEnable=function(){this.mFetchFailCounts.getCollections=0,this.mFetchFailCounts.exchangeReward=0,this.init()},e.prototype.init=function(){var t=this;this.reset(),a.default.solveApi(a.default.Instance.getCollections(),function(e){t.updateCollections(e.data)},function(e){t.handleError(e,"getCollections")})},e.prototype.reset=function(){this.ButtonExchange.active=!0,this.ButtonExchangeActive.node.active=!1,this.Items.children.forEach(function(t){t.children[0].getComponent(cc.Sprite).setMaterial(0,s.default.Instance.MATERIAL_2D_SPRITE_GRAY),t.children[1].getComponent(cc.Label).string="0"})},e.prototype.updateCollections=function(t){var e=this,o=t.filter(function(t){return t.rewardTypeId==="bst"+(e.mTabIndex+1)});o.forEach(function(t){var o=-1;if(3==e.mTabIndex)switch(t.prizeId){case"non_phi_hanh_gia":o=0;break;case"sung_laze":o=1;break;case"co_viettel":o=2;break;case"balo_phan_luc":o=3}else o=parseInt((""+t.prizeId).substring((""+t.prizeId).length-1))-1;var n=e.Items.children[o];n&&(t.amount>0&&n.children[0].getComponent(cc.Sprite).setMaterial(0,s.default.Instance.MATERIAL_2D_SPRITE),n.children[1].getComponent(cc.Label).string=""+t.amount)});var n=o.filter(function(t){return t.amount>0}).length==this.Items.children.length;this.ButtonExchangeActive.node.active=n,this.ButtonExchange.active=!n},e.prototype.handleError=function(t,e){var o=this,n=u.default.TranslateApiErrorMsg(e,t),r=-1!=n.indexOf("Notice 101");r&&this.mFetchFailCounts[e]++;var i=h.default.push(h.Popups.PopupRetry);i&&i.getComponent(f.default).init(r&&this.mFetchFailCounts[e]<3,n,function(t){if(t)switch(e){case"getCollections":o.init();break;case"exchangeReward":o.onExchange()}else h.default.pop()})},e.prototype.onExchange=function(){var t=this;a.default.solveApi(a.default.Instance.exchangeReward("bst"+(this.mTabIndex+1)),function(){var e=h.default.push(h.Popups.PopupCollectionSuccess);e&&(e.getComponent(l.default).init(t.mTabIndex),e.getComponent(p.default).setHideCallback(function(){t.init()}))},function(e){return t.handleError(e,"exchangeReward")})},i([m(cc.Node)],e.prototype,"ButtonExchange",void 0),i([m(c.default)],e.prototype,"ButtonExchangeActive",void 0),i([m(cc.Node)],e.prototype,"Items",void 0),i([y],e)}(p.default);o.default=_,cc._RF.pop()},{"../common/APIMgr":"APIMgr","../common/FrameMgr":"FrameMgr","../ui/common/ButtonClickEvent":"ButtonClickEvent","../utils/Helper":"Helper","./PopupBase":"PopupBase","./PopupCollectionSuccess":"PopupCollectionSuccess","./PopupMgr":"PopupMgr","./PopupRetry":"PopupRetry"}],PopupCollection:[function(t,e,o){"use strict";cc._RF.push(e,"39a28V2K0dKL6KFOs7hbozy","PopupCollection");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PopupBase"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){},i([c],e)}(a.default));o.default=u,cc._RF.pop()},{"./PopupBase":"PopupBase"}],PopupError:[function(t,e,o){"use strict";cc._RF.push(e,"d093cuTcdpFU677h5md38F0","PopupError");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PopupBase"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TextContent=null,e}return r(e,t),e.prototype.init=function(t){this.TextContent.string=t},i([u(cc.Label)],e.prototype,"TextContent",void 0),i([c],e)}(a.default);o.default=p,cc._RF.pop()},{"./PopupBase":"PopupBase"}],PopupExitConfirmGame:[function(t,e,o){"use strict";cc._RF.push(e,"62215xoVFpL3Kyt+06zdTaC","PopupExitConfirmGame");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../game/GameMgr"),s=t("../stage/StageMgr"),c=t("../ui/common/ButtonClickEvent"),u=t("./PopupBase"),p=t("./PopupMgr"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonOk=null,e.ButtonCancel=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonOk.registerEvent(this.onOk.bind(this)),this.ButtonCancel.registerEvent(this.onCancel.bind(this))},e.prototype.onOk=function(){p.default.pop(),s.default.show(s.Stages.StageInterstitial)},e.prototype.onCancel=function(){p.default.pop(p.POPUP_EFFECT.APPEAR),a.default.Instance.resume()},i([f(c.default)],e.prototype,"ButtonOk",void 0),i([f(c.default)],e.prototype,"ButtonCancel",void 0),i([h],e)}(u.default);o.default=d,cc._RF.pop()},{"../game/GameMgr":"GameMgr","../stage/StageMgr":"StageMgr","../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupMgr":"PopupMgr"}],PopupExitConfirmRedirectGami:[function(t,e,o){"use strict";cc._RF.push(e,"a4c7bast91C74CBEjtGC44m","PopupExitConfirmRedirectGami");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/Global"),s=t("../game/GameMgr"),c=t("../ui/common/ButtonClickEvent"),u=t("./PopupBase"),p=cc._decorator,l=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ARTICLE_TEMPLATE="B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n tho\xe1t game v\xe0 truy c\u1eadp m\u1ee5c %s kh\xf4ng?",e.TextTitle=null,e.TextContent=null,e.ButtonOk=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonOk.registerEvent(this.onOk.bind(this))},e.prototype.init=function(t,e){void 0===e&&(e="TH\xd4NG TIN");var o="H\u1ed9p b\xed \u1ea9n";switch(t){case a.EAppPages.PageCollections:e="B\u1ed8 S\u01afU T\u1eacP",o="B\u1ed9 s\u01b0u t\u1eadp";break;case a.EAppPages.PageMysteryBox:e="H\u1ed9p b\xed \u1ea9n",o="H\u1ed9p b\xed \u1ea9n";break;case a.EAppPages.PageDailyQuest:e="TH\xcaM L\u01af\u1ee2T",o="Nhi\u1ec7m v\u1ee5 h\xe0ng ng\xe0y"}this.mTargetPage=t,this.TextTitle.string=e,this.TextContent.string=this.ARTICLE_TEMPLATE.replace("%s",o)},e.prototype.onOk=function(){s.default.Instance.exitGame("redirect-"+this.mTargetPage)},i([h(cc.String)],e.prototype,"ARTICLE_TEMPLATE",void 0),i([h(cc.Label)],e.prototype,"TextTitle",void 0),i([h(cc.Label)],e.prototype,"TextContent",void 0),i([h(c.default)],e.prototype,"ButtonOk",void 0),i([l],e)}(u.default);o.default=f,cc._RF.pop()},{"../common/Global":"Global","../game/GameMgr":"GameMgr","../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase"}],PopupExitConfirm:[function(t,e,o){"use strict";cc._RF.push(e,"1cf1du2KR9KE5pwQaLNwRCL","PopupExitConfirm");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../game/GameMgr"),s=t("../ui/common/ButtonClickEvent"),c=t("./PopupBase"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonOk=null,e.Content=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonOk.registerEvent(this.onOk.bind(this))},e.prototype.init=function(t,e){void 0===t&&(t="B\u1ea1n c\xf3 ch\u1eafc r\u1eb1ng\nb\u1ea1n mu\u1ed1n tho\xe1t game?"),void 0===e&&(e="exitGame"),this.Content.string=t,this.ExitLocation=e},e.prototype.onOk=function(){a.default.Instance.exitGame(this.ExitLocation)},i([l(s.default)],e.prototype,"ButtonOk",void 0),i([l(cc.Label)],e.prototype,"Content",void 0),i([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../game/GameMgr":"GameMgr","../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase"}],PopupGuide:[function(t,e,o){"use strict";cc._RF.push(e,"0df19TIYFBL85iBBZe5Kfgx","PopupGuide");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PopupBase"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ScrollBarTip=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){var t=this;this.ScrollBarTip.active=!1,setTimeout(function(){t.ScrollBarTip.active=!0},1e3)},i([u(cc.Node)],e.prototype,"ScrollBarTip",void 0),i([c],e)}(a.default);o.default=p,cc._RF.pop()},{"./PopupBase":"PopupBase"}],PopupHistory:[function(t,e,o){"use strict";cc._RF.push(e,"4a37dU9dFxBpYJC78sPnRRY","PopupHistory");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/Helper"),s=t("../utils/ListViewFetchData"),c=t("./PopupBase"),u=t("./PopupMgr"),p=t("./PopupRetry"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ListViewFetchDatas=[],e}return r(e,t),e.prototype.onLoad=function(){this.mFetchDataFailCounts=Array(2)},e.prototype.onEnable=function(){this.mFetchDataFailCounts.fill(0)},e.prototype.onFetchDataFail=function(t,e){var o=this,n=Number(e),r=a.default.TranslateApiErrorMsg("",t),i=-1!=r.indexOf("Notice 101");i&&this.mFetchDataFailCounts[n]++;var s=u.default.push(u.Popups.PopupRetry);s&&s.getComponent(p.default).init(i&&this.mFetchDataFailCounts[n]<3,r,function(t){t?o.ListViewFetchDatas[n].retry():u.default.pop()})},i([f(s.default)],e.prototype,"ListViewFetchDatas",void 0),i([h],e)}(c.default);o.default=d,cc._RF.pop()},{"../utils/Helper":"Helper","../utils/ListViewFetchData":"ListViewFetchData","./PopupBase":"PopupBase","./PopupMgr":"PopupMgr","./PopupRetry":"PopupRetry"}],PopupIdleTooLong:[function(t,e,o){"use strict";cc._RF.push(e,"f08ceWYgOFEdZfFUoUBIbrF","PopupIdleTooLong");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ui/common/ButtonClickEvent"),s=t("./PopupBase"),c=t("./PopupMgr"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonOk=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonOk.registerEvent(this.onOk.bind(this))},e.prototype.onOk=function(){c.default.pop(),window.location.href="myviettel://tab_home"},i([l(a.default)],e.prototype,"ButtonOk",void 0),i([p],e)}(s.default);o.default=h,cc._RF.pop()},{"../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupMgr":"PopupMgr"}],PopupInfo:[function(t,e,o){"use strict";cc._RF.push(e,"e2dc5XkCHVCJLpJ9AoqONB3","PopupInfo");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PopupBase"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TextContent=null,e}return r(e,t),e.prototype.init=function(t){this.TextContent.string=t},i([u(cc.Label)],e.prototype,"TextContent",void 0),i([c],e)}(a.default);o.default=p,cc._RF.pop()},{"./PopupBase":"PopupBase"}],PopupLeaderboardReward:[function(t,e,o){"use strict";cc._RF.push(e,"e5241cN4qpMUqvtyAR2MVdi","PopupLeaderboardReward");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("moment"),s=t("../common/FrameMgr"),c=t("../common/Global"),u=t("../game/GameDefine"),p=t("../ui/common/ButtonClickEvent"),l=t("../utils/utils"),h=t("./PopupBase"),f=t("./PopupExitConfirmRedirectGami"),d=t("./PopupMgr"),y=cc._decorator,m=y.ccclass,_=y.property,g=a(u.projectLaunchDate).valueOf(),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GiftSprite=null,e.ButtonToMysteryBox=null,e.description=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonToMysteryBox.registerEvent(this.onToMysteryBox.bind(this));var t=l.getRemainTime(g,a().valueOf()).days,e=Math.floor(t/7)+1;this.description.string="Ch\xfac m\u1eebng b\u1ea1n \u0111\u1ea1t\nTOP B\u1ea3ng x\u1ebfp h\u1ea1ng tu\u1ea7n "+e+".\nB\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c gi\u1ea3i th\u01b0\u1edfng"},e.prototype.init=function(t){this.GiftSprite.spriteFrame=s.default.Instance[""+t]},e.prototype.onToMysteryBox=function(){var t=d.default.push(d.Popups.PopupExitConfirmRedirectGami);t&&t.getComponent(f.default).init(c.EAppPages.PageMysteryBox)},i([_(cc.Sprite)],e.prototype,"GiftSprite",void 0),i([_(p.default)],e.prototype,"ButtonToMysteryBox",void 0),i([_(cc.Label)],e.prototype,"description",void 0),i([m],e)}(h.default);o.default=v,cc._RF.pop()},{"../common/FrameMgr":"FrameMgr","../common/Global":"Global","../game/GameDefine":"GameDefine","../ui/common/ButtonClickEvent":"ButtonClickEvent","../utils/utils":"utils","./PopupBase":"PopupBase","./PopupExitConfirmRedirectGami":"PopupExitConfirmRedirectGami","./PopupMgr":"PopupMgr",moment:2}],PopupLeaderboard:[function(t,e,o){"use strict";cc._RF.push(e,"16bcdqqwuVBu5OAlnRJmDxZ","PopupLeaderboard");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("moment"),s=t("./PopupBase"),c=t("../utils/utils"),u=t("../game/GameDefine"),p=t("../ui/common/CompTabView"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.daysRemainTxt=null,e.dayTxt=null,e.monthTxt=null,e.yearTxt=null,e.tabs=null,e.commingSoonTxt=null,e.nodataTxt=null,e.content=null,e.tabView=null,e}return r(e,t),e.prototype.updateUI=function(){var t=this,e=a().endOf("isoWeek"),o=c.getRemainTime(a().valueOf(),e.valueOf()).days,n=c.getRemainTime(a(u.projectLaunchDate).startOf("isoWeek").valueOf(),a().valueOf()).days;this.daysRemainTxt.string=String(o).padStart(2,"0"),this.dayTxt.string=e.date().toString().padStart(2,"0"),this.monthTxt.string=(e.month()+1).toString().padStart(2,"0"),this.yearTxt.string=e.year().toString(),this.tabs.children.forEach(function(e,o){var r=Math.floor(n/7)-o+1;if(r<=0&&(e.active=!1),0===o&&r<=0&&(t.commingSoonTxt.active=!0,t.content.active=!1),0!==t.tabView.curentTabIndex)return t.nodataTxt.active=!1,void(t.content.active=!0);0===t.content.childrenCount?(t.nodataTxt.active=!0,t.content.active=!1):(t.nodataTxt.active=!1,t.content.active=!0),e.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="TU\u1ea6N "+r})},e.prototype.update=function(){this.updateUI()},i([f(cc.Label)],e.prototype,"daysRemainTxt",void 0),i([f(cc.Label)],e.prototype,"dayTxt",void 0),i([f(cc.Label)],e.prototype,"monthTxt",void 0),i([f(cc.Label)],e.prototype,"yearTxt",void 0),i([f(cc.Node)],e.prototype,"tabs",void 0),i([f(cc.Node)],e.prototype,"commingSoonTxt",void 0),i([f(cc.Node)],e.prototype,"nodataTxt",void 0),i([f(cc.Node)],e.prototype,"content",void 0),i([f(p.default)],e.prototype,"tabView",void 0),i([h],e)}(s.default);o.default=d,cc._RF.pop()},{"../game/GameDefine":"GameDefine","../ui/common/CompTabView":"CompTabView","../utils/utils":"utils","./PopupBase":"PopupBase",moment:2}],PopupLoadGameFail:[function(t,e,o){"use strict";cc._RF.push(e,"0c5d17YagdD7YETcel5q5ff","PopupLoadGameFail");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ui/TopUI"),s=t("./PopupBase"),c=cc._decorator,u=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onEnable=function(){a.default.Instance.hide(),this.setHideCallback(function(){window.location.reload()})},i([u],e)}(s.default));o.default=p,cc._RF.pop()},{"../ui/TopUI":"TopUI","./PopupBase":"PopupBase"}],PopupLostConnection:[function(t,e,o){"use strict";cc._RF.push(e,"b646f4aPZJJVbcCdptRzwJ2","PopupLostConnection");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ui/common/ButtonClickEvent"),s=t("./PopupBase"),c=t("./PopupMgr"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonOk=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonOk.registerEvent(this.onOk.bind(this))},e.prototype.onOk=function(){c.default.pop(),window.location.href="myviettel://tab_home"},i([l(a.default)],e.prototype,"ButtonOk",void 0),i([p],e)}(s.default);o.default=h,cc._RF.pop()},{"../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupMgr":"PopupMgr"}],PopupMgr:[function(t,e,o){"use strict";cc._RF.push(e,"596e8akk/5NcZSDf8OHBYxp","PopupMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.POPUP_EFFECT=o.PopupsCCEnum=o.Popups=void 0;var a,s,c=t("../utils/Helper"),u=t("../utils/SingletonComponent"),p=t("./PopupBase"),l=t("./PopupError"),h=t("./PopupInfo"),f=cc._decorator,d=f.ccclass,y=f.property;(function(t){t[t.PopupLeaderboard=0]="PopupLeaderboard",t[t.PopupHistory=1]="PopupHistory",t[t.PopupGuide=2]="PopupGuide",t[t.PopupCollection=3]="PopupCollection",t[t.PopupMoreTurn=4]="PopupMoreTurn",t[t.PopupSetting=5]="PopupSetting",t[t.PopupResult=6]="PopupResult",t[t.PopupError=7]="PopupError",t[t.PopupLoadGameFail=8]="PopupLoadGameFail",t[t.PopupBuyTurnConfirm=9]="PopupBuyTurnConfirm",t[t.PopupDailyLogin=10]="PopupDailyLogin",t[t.PopupInfo=11]="PopupInfo",t[t.PopupExitConfirm=12]="PopupExitConfirm",t[t.PopupExitConfirmGame=13]="PopupExitConfirmGame",t[t.PopupTutorial=14]="PopupTutorial",t[t.PopupTutorialMainMenu=15]="PopupTutorialMainMenu",t[t.PopupRetry=16]="PopupRetry",t[t.PopupCheats=17]="PopupCheats",t[t.PopupCollectionSuccess=18]="PopupCollectionSuccess",t[t.PopupExitConfirmRedirectGami=19]="PopupExitConfirmRedirectGami",t[t.PopupBalanceNotEnough=20]="PopupBalanceNotEnough",t[t.PopupIdleTooLong=21]="PopupIdleTooLong",t[t.PopupLostConnection=22]="PopupLostConnection",t[t.PopupLeaderboardReward=23]="PopupLeaderboardReward",t[t.PopupTutorialMainMenu2=24]="PopupTutorialMainMenu2"})(a=o.Popups||(o.Popups={})),o.PopupsCCEnum=c.default.EnumToCCEnum(a),function(t){t[t.APPEAR=0]="APPEAR",t[t.SCALE=1]="SCALE"}(s=o.POPUP_EFFECT||(o.POPUP_EFFECT={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PopupContainer=null,e.ShownPopups=null,e.PopupPrefabs=[],e}var o;return r(e,t),o=e,e.push=function(t,e,o,n){void 0===e&&(e=s.SCALE),void 0===o&&(o="smooth"),void 0===n&&(n=.5);var r=this.Instance,i=r.PopupContainer.getChildByName(a[t]);return i&&(r.ShownPopups.childrenCount>0&&r.ShownPopups.children[r.ShownPopups.childrenCount-1].getComponent(p.default).showBackground(!1),i.getComponent(p.default).showBackground(!0),r.usePopup(i),r.animate(!0,i,e,o,n)),i},e.pop=function(t,e,o){void 0===t&&(t=s.SCALE),void 0===e&&(e="smooth"),void 0===o&&(o=.5);var n=this.Instance;if(n.ShownPopups.childrenCount>0){var r=n.ShownPopups.children[n.ShownPopups.childrenCount-1];return n.animate(!1,r,t,e,o),r}},e.hide=function(t,e,o,n){void 0===e&&(e=s.SCALE),void 0===o&&(o="smooth"),void 0===n&&(n=.5);var r=this.Instance,i=r.ShownPopups.getChildByName(a[t]);return i&&r.animate(!1,i,e,o,n),i},e.getPopup=function(t){var e=this.Instance,o=e.PopupContainer.getChildByName(a[t]);return o?o.getComponent(a[t]):e.ShownPopups.getChildByName(a[t]).getComponent(a[t])},e.showInfo=function(t){var e=this.push(a.PopupInfo);return e&&e.getComponent(h.default).init(t),e},e.showError=function(t,e){void 0===e&&(e="");var o=this.push(a.PopupError);if(o){var n=c.default.TranslateApiErrorMsg(e,t);o.getComponent(l.default).init(n)}return o},Object.defineProperty(e,"ShownCount",{get:function(){return this.Instance.ShownPopups.childrenCount},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);for(var e=0;e<this.PopupPrefabs.length;e++){var o=cc.instantiate(this.PopupPrefabs[e]);o.getComponent(p.default).registerEvents(),this.PopupContainer.addChild(o)}},e.prototype.start=function(){this.PopupContainer.active=!1},e.prototype.animate=function(t,e,o,n,r){var i=this,a=e.getComponent(p.default),c=a.Container;switch(o){case s.APPEAR:t?(c.setScale(cc.Vec2.ONE),a.showCallback()):(this.returnPopup(e),a.hideCallback());break;case s.SCALE:a.activeWidgetNodes(!1),c.setScale(t?cc.Vec2.ZERO:cc.Vec2.ONE),cc.tween(c).to(r,{scale:t?1:0},{easing:n}).call(function(){t?a.showCallback():(i.returnPopup(e),a.hideCallback()),a.activeWidgetNodes(!0)}).start()}},e.prototype.usePopup=function(t){t.setParent(this.ShownPopups)},e.prototype.returnPopup=function(t){t.setParent(this.PopupContainer);var e=o.Instance;e.ShownPopups.childrenCount>0&&e.ShownPopups.children[e.ShownPopups.childrenCount-1].getComponent(p.default).showBackground(!0)},i([y(cc.Node)],e.prototype,"PopupContainer",void 0),i([y(cc.Node)],e.prototype,"ShownPopups",void 0),i([y(cc.Prefab)],e.prototype,"PopupPrefabs",void 0),o=i([d],e)}(u.default());o.default=m,cc._RF.pop()},{"../utils/Helper":"Helper","../utils/SingletonComponent":"SingletonComponent","./PopupBase":"PopupBase","./PopupError":"PopupError","./PopupInfo":"PopupInfo"}],PopupMoreTurn:[function(t,e,o){"use strict";cc._RF.push(e,"41198a8ptFASIYOm8ve3sZY","PopupMoreTurn");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/APIMgr"),s=t("../common/FrameMgr"),c=t("../common/ProfileMgr"),u=t("../game/GameDefine"),p=t("../ui/common/ButtonClickEvent"),l=t("../ui/common/ProgressBar"),h=t("../utils/Helper"),f=t("./PopupBalanceNotEnough"),d=t("./PopupBase"),y=t("./PopupBuyTurnConfirm"),m=t("./PopupMgr"),_=t("./PopupRetry"),g=cc._decorator,v=g.ccclass,P=g.property,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonBuyTurns=[],e.ButtonExchangeTurns=[],e.ButtonBuyConfirm=null,e.ButtonExchangeConfirm=null,e.BuyTurnProgressBar=null,e.ExchangeTurnProgressBar=null,e.TextBuyTurnConfirm=null,e.TextBuyPriceConfirm=null,e.TextExchangeTurnConfirm=null,e.TextExchangePriceConfirm=null,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.mFetchFailCounts={},this.ButtonBuyTurns.forEach(function(e,o){return e.registerEvent(t.onBuyTurn.bind(t,o))}),this.ButtonExchangeTurns.forEach(function(e,o){return e.registerEvent(t.onExchangeTurn.bind(t,o))}),this.ButtonBuyConfirm.registerEvent(this.onBuyTurnConfirm.bind(this)),this.ButtonExchangeConfirm.registerEvent(this.onExchangeTurnConfirm.bind(this)),this.BuyTurnProgressBar.load(),this.ExchangeTurnProgressBar.load()},e.prototype.onEnable=function(){this.mFetchFailCounts.getIAPPrices=0,this.mFetchFailCounts.buyTurnByCoin=0,this.mFetchFailCounts.buyTurnByVTPlusPlus=0,this.init()},e.prototype.init=function(){var t=this;a.default.solveApi(a.default.Instance.getIAPPrices(),function(e){t.IAPPrice=e.data.turn,t.onBuyTurn(-1,1),t.onExchangeTurn(-1,1)},function(e){t.handleError(e,"getIAPPrices")})},e.prototype.handleError=function(t,e){var o=this,n=h.default.TranslateApiErrorMsg(e,t),r=-1!=n.indexOf("Notice 101");r&&this.mFetchFailCounts[e]++;var i=m.default.push(m.Popups.PopupRetry);i&&i.getComponent(_.default).init(r&&this.mFetchFailCounts[e]<3,n,function(t){if(t)switch(e){case"getIAPPrices":o.init();break;case"buyTurnByCoin":o.buyTurn();break;case"buyTurnByVTPlusPlus":o.exchangeTurn()}else m.default.pop()})},e.prototype.buyTurn=function(){var t=this;a.default.solveApi(a.default.Instance.buyTurnByCoin(this.mBuyTurnQuantity),function(t){c.default.Instance.RemainingTurn=t.data.balance,c.default.Instance.updateCoinInfo(function(){m.default.showInfo("Mua l\u01b0\u1ee3t th\xe0nh c\xf4ng!")})},function(e){if(e&&1009===e.status){var o=m.default.push(m.Popups.PopupBalanceNotEnough);o&&o.getComponent(f.default).init(0)}else t.handleError(e,"buyTurnByCoin")})},e.prototype.exchangeTurn=function(){a.default.solveApi(a.default.Instance.buyTurnByVTPlusPlus(this.mExchangeTurnQuantity),function(t){c.default.Instance.RemainingTurn=t.data.balance,c.default.Instance.updateCoinInfo(function(){m.default.showInfo("Mua l\u01b0\u1ee3t th\xe0nh c\xf4ng!")})},function(){var t=m.default.push(m.Popups.PopupBalanceNotEnough);t&&t.getComponent(f.default).init(1)})},e.prototype.onDragBuyTurn=function(t){var e=u.default.BUY_TURN_QUANTITIES.indexOf(t);this.onBuyTurn(e,t)},e.prototype.onDragExchangeTurn=function(t){var e=u.default.EXCHANGE_TURN_QUANTITIES.indexOf(t);this.onExchangeTurn(e,t)},e.prototype.onBuyTurn=function(t,e){this.mBuyTurnQuantity=u.default.BUY_TURN_QUANTITIES[t],-1==t&&(this.mBuyTurnQuantity=e),this.mBuyTurnPrice=this.mBuyTurnQuantity*this.IAPPrice.price,this.ButtonBuyTurns.forEach(function(e,o){return e.getComponentInChildren(cc.Sprite).spriteFrame=s.default.Instance.BG_BUY_TURN_BUTTONS[o==t?0:1]}),this.TextBuyTurnConfirm.string=""+this.mBuyTurnQuantity,this.TextBuyPriceConfirm.string=""+this.mBuyTurnPrice,this.BuyTurnProgressBar.moveToValue(this.mBuyTurnQuantity)},e.prototype.onExchangeTurn=function(t,e){this.mExchangeTurnQuantity=u.default.BUY_TURN_QUANTITIES[t],-1==t&&(this.mExchangeTurnQuantity=e),this.mExchangeTurnPrice=this.mExchangeTurnQuantity*this.IAPPrice.priceVTPlus,this.ButtonExchangeTurns.forEach(function(e,o){return e.getComponentInChildren(cc.Sprite).spriteFrame=s.default.Instance.BG_BUY_TURN_BUTTONS[o==t?0:1]}),this.TextExchangeTurnConfirm.string=""+this.mExchangeTurnQuantity,this.TextExchangePriceConfirm.string=""+this.mExchangeTurnPrice,this.ExchangeTurnProgressBar.moveToValue(this.mExchangeTurnQuantity)},e.prototype.onBuyTurnConfirm=function(){var t=this;0!=this.mBuyTurnQuantity&&m.default.push(m.Popups.PopupBuyTurnConfirm).getComponent(y.default).init("mua",this.mBuyTurnQuantity,this.mBuyTurnPrice,"xu",function(){t.buyTurn()})},e.prototype.onExchangeTurnConfirm=function(){var t=this;0!=this.mExchangeTurnQuantity&&m.default.push(m.Popups.PopupBuyTurnConfirm).getComponent(y.default).init("\u0111\u1ed5i",this.mExchangeTurnQuantity,this.mExchangeTurnPrice,"\u0111i\u1ec3m",function(){t.exchangeTurn()})},i([P(p.default)],e.prototype,"ButtonBuyTurns",void 0),i([P(p.default)],e.prototype,"ButtonExchangeTurns",void 0),i([P(p.default)],e.prototype,"ButtonBuyConfirm",void 0),i([P(p.default)],e.prototype,"ButtonExchangeConfirm",void 0),i([P(l.default)],e.prototype,"BuyTurnProgressBar",void 0),i([P(l.default)],e.prototype,"ExchangeTurnProgressBar",void 0),i([P(cc.Label)],e.prototype,"TextBuyTurnConfirm",void 0),i([P(cc.Label)],e.prototype,"TextBuyPriceConfirm",void 0),i([P(cc.Label)],e.prototype,"TextExchangeTurnConfirm",void 0),i([P(cc.Label)],e.prototype,"TextExchangePriceConfirm",void 0),i([v],e)}(d.default);o.default=E,cc._RF.pop()},{"../common/APIMgr":"APIMgr","../common/FrameMgr":"FrameMgr","../common/ProfileMgr":"ProfileMgr","../game/GameDefine":"GameDefine","../ui/common/ButtonClickEvent":"ButtonClickEvent","../ui/common/ProgressBar":"ProgressBar","../utils/Helper":"Helper","./PopupBalanceNotEnough":"PopupBalanceNotEnough","./PopupBase":"PopupBase","./PopupBuyTurnConfirm":"PopupBuyTurnConfirm","./PopupMgr":"PopupMgr","./PopupRetry":"PopupRetry"}],PopupResult:[function(t,e,o){"use strict";cc._RF.push(e,"2bb56pj2exGiIZbZxhq7qMk","PopupResult");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./PopupMgr"),s=t("../ui/common/ButtonClickEvent"),c=t("../game/GameMgr"),u=t("./PopupBase"),p=t("../ui/TopUI"),l=t("../stage/StageMgr"),h=t("../ui/UIMgr"),f=t("../common/ProfileMgr"),d=cc._decorator,y=d.ccclass,m=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonBack=null,e.ButtonReplay=null,e.ButtonCollection=null,e.ButtonOpen=null,e.TextScore=null,e.GroupNoReward=null,e.highScoreTxt=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonBack.registerEvent(this.onBack.bind(this)),this.ButtonReplay.registerEvent(this.onReplay.bind(this)),this.ButtonOpen.registerEvent(this.onOpen.bind(this))},e.prototype.onEnable=function(){this.updateInfo();var t=window.localStorage.getItem("game1-rerun-highscore");console.log("asfljsahflasjkg",t,this.TextScore.string),null==t?(window.localStorage.setItem("game1-rerun-highscore",this.TextScore.string),this.highScoreTxt.active=!0):Number(t)>Number(this.TextScore.string)?this.highScoreTxt.active=!1:(window.localStorage.setItem("game1-rerun-highscore",this.TextScore.string),this.highScoreTxt.active=!0)},e.prototype.init=function(){this.ButtonOpen.node.active=!1,this.GroupNoReward.active=!0},e.prototype.updateInfo=function(){p.default.Instance.show(!0),h.default.getUI(h.UIs.UIGame).showTopUi(!1),this.TextScore.string=""+c.default.Instance.Score,this.GroupNoReward.active=!this.ButtonOpen.node.active,this.ButtonReplay.node.active=!this.ButtonOpen.node.active},e.prototype.onBack=function(){a.default.pop(),l.default.show(l.Stages.StageInterstitial)},e.prototype.onReplay=function(){c.default.Instance.prepareGame(function(){a.default.pop(),c.default.Instance.replay()})},e.prototype.onOpen=function(){this.ButtonOpen.node.active=!1,this.ButtonReplay.node.active=!0,f.default.Instance.updateStarInfo(null,!1)},i([m(s.default)],e.prototype,"ButtonBack",void 0),i([m(s.default)],e.prototype,"ButtonReplay",void 0),i([m(s.default)],e.prototype,"ButtonCollection",void 0),i([m(s.default)],e.prototype,"ButtonOpen",void 0),i([m(cc.Label)],e.prototype,"TextScore",void 0),i([m(cc.Node)],e.prototype,"GroupNoReward",void 0),i([m(cc.Node)],e.prototype,"highScoreTxt",void 0),i([y],e)}(u.default);o.default=_,cc._RF.pop()},{"../common/ProfileMgr":"ProfileMgr","../game/GameMgr":"GameMgr","../stage/StageMgr":"StageMgr","../ui/TopUI":"TopUI","../ui/UIMgr":"UIMgr","../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupMgr":"PopupMgr"}],PopupRetry:[function(t,e,o){"use strict";cc._RF.push(e,"a5bb9sukFNAHYO4PkDEmAEu","PopupRetry");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ui/common/ButtonClickEvent"),s=t("./PopupBase"),c=t("./PopupMgr"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonBack=null,e.ButtonRetry=null,e.ButtonOk=null,e.TextContent=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonBack.registerEvent(this.onBack.bind(this)),this.ButtonRetry.registerEvent(this.onRetry.bind(this)),this.ButtonOk.registerEvent(this.onOk.bind(this))},e.prototype.init=function(t,e,o){this.Callback=o,this.TextContent.string=e,this.ButtonRetry.node.active=t,this.ButtonOk.node.active=!t},e.prototype.onBack=function(){c.default.pop(c.POPUP_EFFECT.APPEAR),this.Callback(!1)},e.prototype.onRetry=function(){c.default.pop(c.POPUP_EFFECT.APPEAR),this.Callback(!0)},e.prototype.onOk=function(){c.default.pop(c.POPUP_EFFECT.APPEAR),this.Callback(!1)},i([l(a.default)],e.prototype,"ButtonBack",void 0),i([l(a.default)],e.prototype,"ButtonRetry",void 0),i([l(a.default)],e.prototype,"ButtonOk",void 0),i([l(cc.Label)],e.prototype,"TextContent",void 0),i([p],e)}(s.default);o.default=h,cc._RF.pop()},{"../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupMgr":"PopupMgr"}],PopupSetting:[function(t,e,o){"use strict";cc._RF.push(e,"5fafcnK435P6J+8g0rc/vjp","PopupSetting");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Settings=void 0;var a,s=t("../common/SoundMgr"),c=t("../game/GameDefine"),u=t("../ui/common/ButtonClickEvent"),p=t("./PopupBase"),l=cc._decorator,h=l.ccclass,f=l.property;(function(t){t.BGM="enableBGM",t.SFX="enableSFX"})(a=o.Settings||(o.Settings={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BUTTON_MUSIC=null,e.BUTTON_MUSIC_MUTE=null,e.BUTTON_SFX=null,e.BUTTON_SFX_MUTE=null,e.ButtonMusic=null,e.ButtonSfx=null,e.ButtonCheats=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonCheats.node.active=c.default.SHOW_GAME_DEBUG,this.ButtonMusic.registerEvent(this.onMusic.bind(this)),this.ButtonSfx.registerEvent(this.onSfx.bind(this))},e.prototype.onEnable=function(){this.updateSoundIcons()},e.prototype.onMusic=function(){s.default.toggleMuteMusic(),this.updateSoundIcons(),localStorage.setItem(a.BGM,s.default.IsMusicMute?"false":"true")},e.prototype.onSfx=function(){s.default.toggleMuteSfx(),this.updateSoundIcons(),localStorage.setItem(a.SFX,s.default.IsSfxMute?"false":"true")},e.prototype.updateSoundIcons=function(){this.ButtonMusic.getComponentInChildren(cc.Sprite).spriteFrame=s.default.IsMusicMute?this.BUTTON_MUSIC_MUTE:this.BUTTON_MUSIC,this.ButtonSfx.getComponentInChildren(cc.Sprite).spriteFrame=s.default.IsSfxMute?this.BUTTON_SFX_MUTE:this.BUTTON_SFX},i([f(cc.SpriteFrame)],e.prototype,"BUTTON_MUSIC",void 0),i([f(cc.SpriteFrame)],e.prototype,"BUTTON_MUSIC_MUTE",void 0),i([f(cc.SpriteFrame)],e.prototype,"BUTTON_SFX",void 0),i([f(cc.SpriteFrame)],e.prototype,"BUTTON_SFX_MUTE",void 0),i([f(u.default)],e.prototype,"ButtonMusic",void 0),i([f(u.default)],e.prototype,"ButtonSfx",void 0),i([f(u.default)],e.prototype,"ButtonCheats",void 0),i([h],e)}(p.default);o.default=d,cc._RF.pop()},{"../common/SoundMgr":"SoundMgr","../game/GameDefine":"GameDefine","../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase"}],PopupTutorialMainMenu:[function(t,e,o){"use strict";cc._RF.push(e,"de0ddBp2NhBXYxzuUkjKHgd","PopupTutorialMainMenu");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Settings=void 0;var a=t("../ui/common/ButtonClickEvent"),s=t("./PopupBase"),c=t("./PopupMgr"),u=cc._decorator,p=u.ccclass,l=u.property;(function(t){t.BGM="enableBGM",t.SFX="enableSFX"})(o.Settings||(o.Settings={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonOk=null,e}return r(e,t),e.prototype.onLoad=function(){this.ButtonOk.registerEvent(function(){return c.default.pop()})},i([l(a.default)],e.prototype,"ButtonOk",void 0),i([p],e)}(s.default);o.default=h,cc._RF.pop()},{"../ui/common/ButtonClickEvent":"ButtonClickEvent","./PopupBase":"PopupBase","./PopupMgr":"PopupMgr"}],ProfileMgr:[function(t,e,o){"use strict";cc._RF.push(e,"7d4a3C/ZTZCVbYOABjZXH5m","ProfileMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../popup/PopupMgr"),s=t("../utils/SingletonComponent"),c=t("./APIMgr"),u=t("./Events"),p=cc._decorator.ccclass,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"IsNewUser",{get:function(){return this.mIsNewUser},set:function(t){this.mIsNewUser=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"RemainingTurn",{get:function(){return this.mRemainingTurn},set:function(t){var e=this.mRemainingTurn;this.mRemainingTurn=Math.max(0,t),this.mRemainingTurn!=e&&u.default.emit(u.default.EventRemainingTurnChanged,this.mRemainingTurn)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"RemainingCoin",{get:function(){return this.mRemainingCoin},set:function(t){var e=this.mRemainingCoin;this.mRemainingCoin=Math.max(0,t),this.mRemainingCoin!=e&&u.default.emit(u.default.EventRemainingCoinChanged,this.mRemainingCoin)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Star",{get:function(){return this.mStar},set:function(t){var e=this.mStar;this.mStar=Math.max(0,t),this.mStar!=e&&u.default.emit(u.default.EventStarChanged,this.mStar)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.mIsNewUser=!0,this.mRemainingTurn=0,this.mRemainingCoin=0,this.mStar=0,u.default.registerEvent(u.default.EventPlayerFinishTutorial,this.onPlayerFinishTutorial.bind(this))},e.prototype.updateTurnInfo=function(t,e){var o=this;void 0===e&&(e=!0),c.default.solveApi(c.default.Instance.getTurnBalances(),function(e){o.RemainingTurn=e.data.balance,t&&t()},function(){return a.default.showError("Kh\xf4ng th\u1ec3 l\u1ea5y th\xf4ng tin l\u01b0\u1ee3t ch\u01a1i.")},e)},e.prototype.updateCoinInfo=function(t,e){var o=this;void 0===e&&(e=!0),c.default.solveApi(c.default.Instance.getProfile(),function(e){o.RemainingCoin=e.data.point,t&&t()},function(){return a.default.showError("Kh\xf4ng th\u1ec3 l\u1ea5y th\xf4ng tin \u0111i\u1ec3m.")},e)},e.prototype.updateStarInfo=function(t,e){var o=this;void 0===e&&(e=!0),c.default.solveApi(c.default.Instance.getWeeklyTopScore(),function(e){o.Star=e.data.me.score,t&&t()},function(){return a.default.showError("Kh\xf4ng th\u1ec3 l\u1ea5y th\xf4ng tin sao.")},e)},e.prototype.onPlayerFinishTutorial=function(){this.mIsNewUser=!1},i([p],e)}(s.default());o.default=l,cc._RF.pop()},{"../popup/PopupMgr":"PopupMgr","../utils/SingletonComponent":"SingletonComponent","./APIMgr":"APIMgr","./Events":"Events"}],ProgressBar:[function(t,e,o){"use strict";cc._RF.push(e,"56044hrr/JJQ5Ap1k2IU8ff","ProgressBar");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../game/GameMgr"),s=t("../../utils/Helper"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MinValue=0,e.MaxValue=1,e.RoundToNumber=2,e.StopValues=[],e.Indicator=null,e.FillMask=null,e.FillBar=null,e.TextValue=null,e.DragEvent=null,e}return r(e,t),e.prototype.onLoad=function(){var t;if(!this.mIsLoaded){if(this.mMinX=this.Indicator.x,this.mLength=this.FillBar.width,this.mMaxX=this.mMinX+this.mLength,this.mValue=this.MaxValue-this.MinValue,this.Indicator.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.StopValues.length){var e=new Set(this.StopValues).add(this.MinValue).add(this.MaxValue);this.StopValues.length=0,(t=this.StopValues).push.apply(t,Array.from(e))}this.mIsLoaded=!0,this.moveToValue(this.MinValue)}},e.prototype.load=function(){this.onLoad()},e.prototype.moveToValue=function(t){if(this.mIsLoaded){var e=(t-this.MinValue)/this.mValue,o=a.default.Instance.Canvas.width/2+this.mMinX+this.mLength*e;this.handleTouchMove(o,!1)}},e.prototype.handleTouchMove=function(t,e){void 0===e&&(e=!0);var o=t-a.default.Instance.Canvas.width/2,n=s.default.Constrain(o,this.mMinX,this.mMaxX);this.Indicator.x=this.getIndicatorX(n),this.mRatio=(this.Indicator.x-this.mMinX)/this.mLength,this.FillMask.width=this.mRatio*this.FillBar.width;var r=this.MinValue+this.mRatio*this.mValue;this.TextValue.string=r.toFixed(this.RoundToNumber),e&&this.DragEvent&&this.DragEvent.emit([parseFloat(this.TextValue.string)])},e.prototype.onTouchMove=function(t){this.handleTouchMove(t.touch.getLocation().x)},e.prototype.getIndicatorX=function(t){var e=(t-this.mMinX)/this.mLength;if(this.StopValues.length){for(var o=e,n=1,r=0;r<this.StopValues.length;r++){var i=(this.StopValues[r]-this.MinValue)/this.mValue;Math.abs(i-e)<n&&(n=Math.abs(i-e),o=i)}t=this.mMinX+this.mLength*o}return t},i([p(cc.Float)],e.prototype,"MinValue",void 0),i([p(cc.Float)],e.prototype,"MaxValue",void 0),i([p(cc.Integer)],e.prototype,"RoundToNumber",void 0),i([p({type:cc.Float})],e.prototype,"StopValues",void 0),i([p(cc.Node)],e.prototype,"Indicator",void 0),i([p(cc.Node)],e.prototype,"FillMask",void 0),i([p(cc.Node)],e.prototype,"FillBar",void 0),i([p(cc.Label)],e.prototype,"TextValue",void 0),i([p(cc.Component.EventHandler)],e.prototype,"DragEvent",void 0),i([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../game/GameMgr":"GameMgr","../../utils/Helper":"Helper"}],Rect:[function(t,e,o){"use strict";cc._RF.push(e,"33859S47FtMMLQpozITc9mc","Rect"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.init=function(){this.x=0,this.y=0,this.width=0,this.height=0},t.prototype.set=function(t,e,o,n){this.x=t,this.y=e,this.width=o,this.height=n},t.prototype.copy=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},t}();o.default=n,cc._RF.pop()},{}],ResizeSprite:[function(t,e,o){"use strict";cc._RF.push(e,"3bc1eORM+NHI4YV68sOSsmH","ResizeSprite");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=cc.Enum({WIDTH:0,HEIGHT:1,BOTH:2}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MatchMode=0,e.UseUpdateMethod=!1,e}return r(e,t),e.prototype.onLoad=function(){this.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM,this.mInitWidth=this.node.width,this.mInitHeight=this.node.height;var t=this.getComponent(cc.Sprite).spriteFrame.getRect();this.mInitSpriteWidth=t.width,this.mInitSpriteHeight=t.height},e.prototype.onEnable=function(){this.resize()},e.prototype.update=function(){this.UseUpdateMethod&&this.resize()},e.prototype.resize=function(){if(this.getComponent(cc.Sprite).spriteFrame){var t=this.getComponent(cc.Sprite).spriteFrame.getRect(),e=this.mInitWidth,o=this.mInitHeight;switch(this.MatchMode){case u.WIDTH:(o=(e=this.mInitWidth)*(t.height/t.width))>this.mInitSpriteHeight&&(e=(o=this.mInitSpriteHeight)*(t.width/t.height));break;case u.HEIGHT:(e=(o=this.mInitHeight)*(t.width/t.height))>this.mInitSpriteWidth&&(o=(e=this.mInitSpriteWidth)*(t.height/t.width));break;case u.BOTH:}this.node.width=e,this.node.height=o}},i([c({type:u})],e.prototype,"MatchMode",void 0),i([c(cc.Boolean)],e.prototype,"UseUpdateMethod",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ResultReward:[function(t,e,o){"use strict";cc._RF.push(e,"444fbKvYXNM149vbIcR8Q+n","ResultReward");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/FrameMgr"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Icon=null,e.IconFail=null,e}return r(e,t),e.prototype.init=function(){this.Icon.getComponent(cc.Sprite).spriteFrame=a.default.Instance.RESULT_GIFT_BOX,this.Icon.active=!0,this.IconFail.active=!1},e.prototype.setReward=function(t){this.Reward=t},e.prototype.show=function(){if(this.Icon.active=!!this.Reward,this.IconFail.active=!this.Reward,this.Reward)try{this.Icon.getComponent(cc.Sprite).spriteFrame=a.default.Instance["REWARD_"+this.Reward.prizeId.toUpperCase()]||a.default.Instance.RESULT_GIFT_BOX}catch(t){this.Icon.getComponent(cc.Sprite).spriteFrame=a.default.Instance.RESULT_GIFT_BOX}},i([u(cc.Node)],e.prototype,"Icon",void 0),i([u(cc.Node)],e.prototype,"IconFail",void 0),i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../common/FrameMgr":"FrameMgr"}],RoadObject:[function(t,e,o){"use strict";cc._RF.push(e,"145ec8EqaNLjLdjmsehBjUh","RoadObject");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/PooledGameObject"),s=t("./GameDefine"),c=t("./GameMgr"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.GameMgr=c.default.Instance},e.prototype.init=function(t,e){this.node.setPosition(t,e)},e.prototype.update=function(t){(this.GameMgr.IsNormalState||this.GameMgr.IsTutorialState)&&(this.node.setPosition(this.node.x-this.GameMgr.Player.Speed*t,this.node.y),this.node.x<-(this.GameMgr.Canvas.width/2+s.default.POS_LIMIT_LEFT)&&this.getComponent(a.default).kill())},i([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../utils/PooledGameObject":"PooledGameObject","./GameDefine":"GameDefine","./GameMgr":"GameMgr"}],ScrollBgSwitch:[function(t,e,o){"use strict";cc._RF.push(e,"f0fce/tHmNOvJu1M6mIvGcv","ScrollBgSwitch");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./GameMgr"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Container=null,e.OffsetX=0,e.PosY=0,e.IsFromBottom=!1,e.SpeedRatio=1,e}return r(e,t),e.prototype.onLoad=function(){this.GameMgr=a.default.Instance,this.Container.addChild(cc.instantiate(this.Container.children[0])),this.SpriteContainers=this.Container.children.map(function(t){return t.children[0]}),this.mX=0},e.prototype.start=function(){this.mLength=this.node.children[0].width+this.OffsetX,this.IsFromBottom?this.node.setPosition(this.node.x,-this.GameMgr.Canvas.height/2+this.PosY):this.node.setPosition(this.node.x,this.PosY)},e.prototype.update=function(t){var e=this;(this.GameMgr.IsNormalState||this.GameMgr.IsTutorialState)&&(this.mX-=this.GameMgr.Player.Speed*this.SpeedRatio*t,this.mX<=-this.mLength&&(this.mX+=this.mLength,this.mShouldSwitch||this.mIsSwitching?((this.mShouldSwitch?this.SpriteContainers[1]:this.SpriteContainers[0]).children.forEach(function(t,o){t.active=e.GameMgr.EnvironmentMgr.CurrentEnvironment==o}),this.mShouldSwitch?(this.mShouldSwitch=!1,this.mIsSwitching=!0,this.SpriteContainers[1].active=!1):(this.mIsSwitching=!1,this.SpriteContainers[0].active=!1,this.SpriteContainers[1].active=!0)):(this.SpriteContainers[0].active=!0,this.SpriteContainers[1].active=!0)),this.node.setPosition(this.mX,this.node.y))},e.prototype.init=function(){var t=this.GameMgr.EnvironmentMgr.CurrentEnvironment;this.mX=0,this.mShouldSwitch=!1,this.mIsSwitching=!1,this.SpriteContainers.forEach(function(e){e.active=!0,e.children.forEach(function(e,o){e.active=t==o})})},e.prototype.switch=function(){this.mShouldSwitch=!0,this.mIsSwitching=!1},i([u(cc.Node)],e.prototype,"Container",void 0),i([u(cc.Float)],e.prototype,"OffsetX",void 0),i([u(cc.Float)],e.prototype,"PosY",void 0),i([u(cc.Boolean)],e.prototype,"IsFromBottom",void 0),i([u(cc.Float)],e.prototype,"SpeedRatio",void 0),i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./GameMgr":"GameMgr"}],ScrollBg:[function(t,e,o){"use strict";cc._RF.push(e,"24415qahehGrrRHDMzI+5Vj","ScrollBg");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./GameMgr"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Container=null,e.OffsetX=0,e.PosY=0,e.IsFromBottom=!1,e.SpeedRatio=1,e}return r(e,t),e.prototype.onLoad=function(){this.GameMgr=a.default.Instance,this.Container.addChild(cc.instantiate(this.Container.children[0])),this.mX=0},e.prototype.start=function(){this.mLength=this.node.children[0].width+this.OffsetX,this.IsFromBottom?this.node.setPosition(this.node.x,-this.GameMgr.Canvas.height/2+this.PosY):this.node.setPosition(this.node.x,this.PosY)},e.prototype.update=function(t){(this.GameMgr.IsNormalState||this.GameMgr.IsTutorialState)&&(this.mX-=this.GameMgr.Player.Speed*this.SpeedRatio*t,this.mX<=-this.mLength&&(this.mX%=this.mLength),this.node.setPosition(this.mX,this.node.y))},i([u(cc.Node)],e.prototype,"Container",void 0),i([u(cc.Float)],e.prototype,"OffsetX",void 0),i([u(cc.Float)],e.prototype,"PosY",void 0),i([u(cc.Boolean)],e.prototype,"IsFromBottom",void 0),i([u(cc.Float)],e.prototype,"SpeedRatio",void 0),i([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./GameMgr":"GameMgr"}],SingletonComponent:[function(t,e,o){"use strict";cc._RF.push(e,"d8b53gmH7lJKYPLIYU/Fo6u","SingletonComponent");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(e.instance)throw e.instance.constructor.name+" instance already exist";e.instance=this},e}(cc.Component)},cc._RF.pop()},{}],Singleton:[function(t,e,o){"use strict";cc._RF.push(e,"f9785IVhZxFzKVOzdPPNkKm","Singleton"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){return function(){function t(){if(t.instance)throw t.instance.constructor.name+" instance already exist";t.instance=this}return Object.defineProperty(t,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),t}()},cc._RF.pop()},{}],SoundMgr:[function(t,e,o){"use strict";cc._RF.push(e,"2489ecSU5tA570DZWcyykal","SoundMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/SingletonComponent"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BGM=null,e.SFX_CLICK=null,e.SFX_POWER_UP=null,e.SFX_SKILL_INVISIBLE=null,e.SFX_SKILL_RAGE=null,e.SFX_SLASH=null,e.SFX_MC_DIE=null,e.SFX_MC_JUMP=null,e.SFX_PUNCH=null,e.SFX_ENEMY_DIE=null,e.SFX_WARNING_ENEMY_COMING=null,e.SFX_WARNING_WATER_COMING=null,e}return r(e,t),Object.defineProperty(e,"IsMute",{get:function(){return this.IsMusicMute&&this.IsSfxMute},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsMusicMute",{get:function(){return 0==cc.audioEngine.getMusicVolume()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsSfxMute",{get:function(){return 0==cc.audioEngine.getEffectsVolume()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"IsMusicPlaying",{get:function(){return cc.audioEngine.isMusicPlaying()},enumerable:!1,configurable:!0}),e.playMusic=function(t,e){void 0===e&&(e=!0),cc.audioEngine.playMusic(t,e)},e.playSfx=function(t,e){void 0===e&&(e=!1),cc.audioEngine.playEffect(t,e)},e.pauseMusic=function(){cc.audioEngine.pauseMusic()},e.resumeMusic=function(){cc.audioEngine.resumeMusic()},e.pauseAll=function(){cc.audioEngine.pauseAll()},e.stopMusic=function(){cc.audioEngine.stopMusic()},e.stopAll=function(){cc.audioEngine.stopAll()},e.setMute=function(t){void 0===t&&(t=!0);var e=Number(!t);this.setMusicVolume(e),this.setSfxVolume(e)},e.setMuteMusic=function(t){void 0===t&&(t=!0);var e=Number(!t);this.setMusicVolume(e)},e.setMuteSfx=function(t){void 0===t&&(t=!0);var e=Number(!t);this.setSfxVolume(e)},e.setMusicVolume=function(t){cc.audioEngine.setMusicVolume(t)},e.setSfxVolume=function(t){cc.audioEngine.setEffectsVolume(t)},e.toggleMute=function(){this.setMute(!this.IsMute)},e.toggleMuteMusic=function(){this.setMuteMusic(!this.IsMusicMute)},e.toggleMuteSfx=function(){this.setMuteSfx(!this.IsSfxMute)},i([u({type:cc.AudioClip})],e.prototype,"BGM",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_CLICK",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_POWER_UP",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_SKILL_INVISIBLE",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_SKILL_RAGE",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_SLASH",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_MC_DIE",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_MC_JUMP",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_PUNCH",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_ENEMY_DIE",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_WARNING_ENEMY_COMING",void 0),i([u({type:cc.AudioClip})],e.prototype,"SFX_WARNING_WATER_COMING",void 0),i([c],e)}(a.default());o.default=p,cc._RF.pop()},{"../utils/SingletonComponent":"SingletonComponent"}],Spinner:[function(t,e,o){"use strict";cc._RF.push(e,"64309/eRlFLz4cu/1s30XMf","Spinner");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Speed=600,e}return r(e,t),e.prototype.update=function(t){this.node.angle=(this.node.angle-this.Speed*t)%360},i([c(cc.Integer)],e.prototype,"Speed",void 0),i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],StageGame:[function(t,e,o){"use strict";cc._RF.push(e,"812f52jeVRIiowE+/1hmj0Z","StageGame");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=t("../game/GameMgr"),p=t("../ui/UIMgr"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameMgrPrefab=null,e}return r(e,t),e.prototype.onLoad=function(){this.node.addChild(cc.instantiate(this.GameMgrPrefab))},e.prototype.init=function(){p.default.show(p.UIs.UIGame),u.default.Instance.startGame()},i([c(cc.Prefab)],e.prototype,"GameMgrPrefab",void 0),i([s],e)}(t("./Stage").default);o.default=l,cc._RF.pop()},{"../game/GameMgr":"GameMgr","../ui/UIMgr":"UIMgr","./Stage":"Stage"}],StageInterstitial:[function(t,e,o){"use strict";cc._RF.push(e,"2a727mGifZD8K7pfK7QfNOq","StageInterstitial");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/SoundMgr"),s=t("../ui/UIMgr"),c=t("./Stage"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(){s.default.show(s.UIs.UIInterstitial),a.default.IsMusicPlaying||a.default.playMusic(a.default.Instance.BGM,!0)},i([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../common/SoundMgr":"SoundMgr","../ui/UIMgr":"UIMgr","./Stage":"Stage"}],StageMgr:[function(t,e,o){"use strict";cc._RF.push(e,"fd6a8RrsDtCgJjnXG0oVHlf","StageMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Stages=void 0;var a,s=t("./Stage"),c=t("../utils/SingletonComponent"),u=t("../game/GameMgr"),p=t("../utils/Helper"),l=t("../game/GameDefine"),h=cc._decorator,f=h.ccclass,d=h.property;(function(t){t[t.StageInterstitial=0]="StageInterstitial",t[t.StageGame=1]="StageGame"})(a=o.Stages||(o.Stages={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.StagePrefabs=[],e.StageCover=null,e.mPreviousStage=null,e.mCurrentStage=null,e}var o;return r(e,t),o=e,Object.defineProperty(e.prototype,"CurrentStage",{get:function(){return this.mCurrentStage},enumerable:!1,configurable:!0}),e.show=function(t,e){void 0===e&&(e=.5);var o=this.Instance;o.mPreviousStage=o.mCurrentStage;for(var n=0,r=o.node.children;n<r.length;n++){var i=r[n],c=i.name==a[t];c&&(o.mCurrentStage=i),i.active!=c&&(i.active=c)}o.mPreviousStage&&o.mCurrentStage&&o.mPreviousStage!=o.mCurrentStage?o.animate(e):o.mCurrentStage.getComponent(s.default).init()},e.nextStage=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=.5);var n=this.Instance,r=n.node.children.indexOf(n.mCurrentStage);t||0!=r?-1!=r&&(t&&r<n.node.childrenCount-1||!t&&r>0)&&(r=t?r+1:r-1,o.show(p.default.GetIndexEnum(a,n.node.children[r].name),e)):window.location=l.default.DEEP_LINK_BACK},e.prototype.onLoad=function(){t.prototype.onLoad.call(this);for(var e=0;e<this.StagePrefabs.length;e++){var o=cc.instantiate(this.StagePrefabs[e]);this.node.addChild(o),o.active=!1}},e.prototype.start=function(){this.StageCover=u.default.Instance.Canvas.getChildByName("Stage Cover"),this.StageCover.active=!1,o.show(a.StageInterstitial)},e.prototype.animate=function(t){var e=this;this.mPreviousStage.active=!0,this.mCurrentStage.active=!1,this.StageCover.active=!0,cc.tween(this.mPreviousStage).to(t,{scale:this.mPreviousStage.scaleX},{progress:function(t,o,n,r){return e.StageCover.opacity=255*r,t+(o-t)*r}}).call(function(){e.mPreviousStage.active=!1,e.mCurrentStage.active=!0,e.mCurrentStage.getComponent(s.default).init()}).start(),cc.tween(this.mCurrentStage).delay(t).to(t,{scale:this.mCurrentStage.scaleX},{progress:function(t,o,n,r){return e.StageCover.opacity=255*(1-r),t+(o-t)*r}}).call(function(){e.StageCover.active=!1}).start()},i([d(cc.Prefab)],e.prototype,"StagePrefabs",void 0),o=i([f],e)}(c.default());o.default=y,cc._RF.pop()},{"../game/GameDefine":"GameDefine","../game/GameMgr":"GameMgr","../utils/Helper":"Helper","../utils/SingletonComponent":"SingletonComponent","./Stage":"Stage"}],Stage:[function(t,e,o){"use strict";cc._RF.push(e,"d1579TpISVNGpuqBRR5e3Kh","Stage");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){},i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],SwitchBg:[function(t,e,o){"use strict";cc._RF.push(e,"5cbb7V327BGw5DlNH9Z1gV3","SwitchBg");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/FrameMgr"),s=t("./EnvironmentMgr"),c=t("./GameMgr"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.GameMgr=c.default.Instance},e.prototype.start=function(){this.mLength=this.node.children[0].width},e.prototype.update=function(t){(this.GameMgr.IsNormalState||this.GameMgr.IsTutorialState)&&this.mIsSwitching&&(this.mX-=this.GameMgr.Player.Speed*t,this.mX<=2*-this.mLength&&(this.mX=0,this.node.children[0].getComponent(cc.Sprite).spriteFrame=this.node.children[2].getComponent(cc.Sprite).spriteFrame,this.node.children[1].active=!1,this.node.children[2].active=!1,this.mIsSwitching=!1),this.node.setPosition(this.mX,this.node.y))},e.prototype.init=function(){var t=this.GameMgr.EnvironmentMgr.CurrentEnvironment;this.mIsSwitching=!1,this.node.children[0].getComponent(cc.Sprite).spriteFrame=a.default.Instance["BG_"+s.Environments[t]],this.node.children[1].active=!0,this.node.children[2].active=!0,this.node.setPosition(0,this.node.y)},e.prototype.switch=function(t,e){this.mIsSwitching||(this.node.children[0].getComponent(cc.Sprite).spriteFrame=a.default.Instance["BG_"+s.Environments[t]],this.node.children[1].getComponent(cc.Sprite).spriteFrame=a.default.Instance["BG_SWITCH_"+s.Environments[t]],this.node.children[2].getComponent(cc.Sprite).spriteFrame=a.default.Instance["BG_"+s.Environments[e]],this.node.children[1].active=!0,this.node.children[2].active=!0,this.mX=0,this.mIsSwitching=!0)},i([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../common/FrameMgr":"FrameMgr","./EnvironmentMgr":"EnvironmentMgr","./GameMgr":"GameMgr"}],Timer:[function(t,e,o){"use strict";cc._RF.push(e,"d91107A4nFLroqm5Sh9WsjP","Timer"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=0),this.timer=0,this.duration=0,this.overhead=0,this.isDone=!0,this.timer=0,this.duration=t,this.overhead=0,this.isDone=!0}return t.prototype.SetDuration=function(t){this.timer=t,this.duration=t,this.overhead=0,this.isDone=!1},t.prototype.GetDuration=function(){return this.duration},t.prototype.GetTime=function(){return this.timer},t.prototype.GetPercent=function(){return this.timer/this.duration},t.prototype.Reset=function(){this.timer=this.duration,this.overhead=0,this.isDone=!1},t.prototype.IsDone=function(){return 0===this.timer},t.prototype.FirstFinished=function(){return!(this.timer>0||this.isDone||(this.isDone=!0,0))},t.prototype.GetOverhead=function(){return this.overhead},t.prototype.Update=function(t){0!==this.timer&&(this.timer-=t,this.timer<0&&(this.overhead=-this.timer,this.timer=0))},t}();o.default=n,cc._RF.pop()},{}],TopUI:[function(t,e,o){"use strict";cc._RF.push(e,"479d4n3/15CMbK6fMyAMsgX","TopUI");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,u=t("../common/Events"),p=t("../common/ProfileMgr"),l=t("../popup/PopupExitConfirm"),h=t("../popup/PopupMgr"),f=t("../utils/SingletonComponent"),d=t("./common/ButtonClickEvent"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonSetting=null,e.ButtonExit=null,e.TextRemainTurn=null,e.TextRemainCoin=null,e.TextStar=null,e}return r(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.ButtonExit.registerEvent(this.onExit.bind(this)),u.default.registerEvent(u.default.EventRemainingTurnChanged,this.updateInfo.bind(this)),u.default.registerEvent(u.default.EventRemainingCoinChanged,this.updateInfo.bind(this)),u.default.registerEvent(u.default.EventStarChanged,this.updateInfo.bind(this))},e.prototype.show=function(t){void 0===t&&(t=!1),this.TextRemainTurn.node.active=!0,this.ButtonSetting.node.active=!t,this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.updateInfo=function(){this.TextRemainTurn.string=""+p.default.Instance.RemainingTurn,this.TextRemainCoin.string=""+p.default.Instance.RemainingCoin,this.TextStar.string=""+p.default.Instance.Star},e.prototype.onExit=function(){var t=h.default.push(h.Popups.PopupExitConfirm);t&&t.getComponent(l.default).init()},i([c(d.default)],e.prototype,"ButtonSetting",void 0),i([c(d.default)],e.prototype,"ButtonExit",void 0),i([c(cc.Label)],e.prototype,"TextRemainTurn",void 0),i([c(cc.Label)],e.prototype,"TextRemainCoin",void 0),i([c(cc.Label)],e.prototype,"TextStar",void 0),i([s],e)}(f.default());o.default=y,cc._RF.pop()},{"../common/Events":"Events","../common/ProfileMgr":"ProfileMgr","../popup/PopupExitConfirm":"PopupExitConfirm","../popup/PopupMgr":"PopupMgr","../utils/SingletonComponent":"SingletonComponent","./common/ButtonClickEvent":"ButtonClickEvent"}],UIGame:[function(t,e,o){"use strict";cc._RF.push(e,"5163d2XSDdGeombwnIw6R+h","UIGame");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TextWarningTypes=void 0;var a,s=t("../common/SoundMgr"),c=t("../game/GameMgr"),u=t("../game/HpBar"),p=t("../popup/PopupMgr"),l=t("./common/ButtonClickEvent"),h=cc._decorator,f=h.ccclass,d=h.property;(function(t){t[t.ENEMY_COMMING=0]="ENEMY_COMMING",t[t.HOLE_COMMING=1]="HOLE_COMMING"})(a=o.TextWarningTypes||(o.TextWarningTypes={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ICON_MUSIC=null,e.ICON_MUSIC_MUTE=null,e.ExpBar=null,e.TextLevel=null,e.TextScore=null,e.TextWarning=null,e.TopUi=null,e.GiftBoxes=null,e.ButtonSound=null,e.ButtonHome=null,e}return r(e,t),e.prototype.onLoad=function(){this.GameMgr=c.default.Instance,this.ButtonSound.registerEvent(this.onSound.bind(this)),this.ButtonHome.registerEvent(this.onHome.bind(this))},e.prototype.init=function(){this.showTopUi(),this.GiftBoxes.children.forEach(function(t){return t.active=!1}),this.TextWarning.node.active=!1,this.ButtonSound.getComponentInChildren(cc.Sprite).spriteFrame=s.default.IsMusicMute?this.ICON_MUSIC_MUTE:this.ICON_MUSIC,this.ButtonSound.node.active=!0},e.prototype.update=function(t){var e=this;this.ExpBar.updateInfo(this.GameMgr.Player.Exp/this.GameMgr.Player.ExpFull,"Exp: "+this.GameMgr.Player.Exp+" / "+this.GameMgr.Player.ExpFull),this.TextLevel.string="Level: "+this.GameMgr.Player.Level,this.TextScore.string=""+this.GameMgr.Score,this.TextWarning.node.active&&(this.mShownWarningType==a.ENEMY_COMMING?this.GameMgr.EnemyMgr.node.children.some(function(t){return t.x<e.GameMgr.Canvas.width-100})&&(this.TextWarning.node.active=!1):this.GameMgr.Ground.IsGapActive&&(this.mShowHoleTime-=t,this.mShowHoleTime<0&&(this.TextWarning.node.active=!1)))},e.prototype.setReward=function(){var t=this.GiftBoxes.children.find(function(t){return!t.active});t&&(t.active=!0)},e.prototype.showWarning=function(t){var e=t==a.ENEMY_COMMING?"Qu\xe2n \u0111\u1ecbch \u0111ang \u0111\u1ebfn!":"V\u1ef1c s\xe2u ph\xeda tr\u01b0\u1edbc!\nCh\u1ea1m \u0111\u1ec3 nh\u1ea3y!";this.mShownWarningType=t,this.mShowHoleTime=2,this.TextWarning.string=e,this.TextWarning.node.active=!0},e.prototype.showTopUi=function(t){void 0===t&&(t=!0),this.TopUi.active=t},e.prototype.triggerHomeButton=function(){this.onHome()},e.prototype.showButtonMusic=function(t){void 0===t&&(t=!0),this.ButtonSound.node.active=t},e.prototype.onSound=function(){s.default.toggleMuteMusic(),this.ButtonSound.getComponentInChildren(cc.Sprite).spriteFrame=s.default.IsMusicMute?this.ICON_MUSIC_MUTE:this.ICON_MUSIC},e.prototype.onHome=function(){c.default.Instance.pause(),p.default.push(p.Popups.PopupExitConfirmGame,p.POPUP_EFFECT.APPEAR)},i([d(cc.SpriteFrame)],e.prototype,"ICON_MUSIC",void 0),i([d(cc.SpriteFrame)],e.prototype,"ICON_MUSIC_MUTE",void 0),i([d(u.default)],e.prototype,"ExpBar",void 0),i([d(cc.Label)],e.prototype,"TextLevel",void 0),i([d(cc.Label)],e.prototype,"TextScore",void 0),i([d(cc.Label)],e.prototype,"TextWarning",void 0),i([d(cc.Node)],e.prototype,"TopUi",void 0),i([d(cc.Node)],e.prototype,"GiftBoxes",void 0),i([d(l.default)],e.prototype,"ButtonSound",void 0),i([d(l.default)],e.prototype,"ButtonHome",void 0),i([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../common/SoundMgr":"SoundMgr","../game/GameMgr":"GameMgr","../game/HpBar":"HpBar","../popup/PopupMgr":"PopupMgr","./common/ButtonClickEvent":"ButtonClickEvent"}],UIInterstitial:[function(t,e,o){"use strict";cc._RF.push(e,"b9109iAZZNBnaTR6o9b43kM","UIInterstitial");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("moment"),s=t("../common/APIMgr"),c=t("../common/SoundMgr"),u=t("../game/GameDefine"),p=t("../game/GameMgr"),l=t("../popup/PopupLeaderboardReward"),h=t("../popup/PopupMgr"),f=t("../popup/PopupSetting"),d=t("../stage/StageMgr"),y=t("../utils/utils"),m=t("./common/ButtonClickEvent"),_=t("./common/LoadingCover"),g=t("./TopUI"),v=cc._decorator,P=v.ccclass,E=v.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonHome=null,e.ButtonPlay=null,e.highScoreTxt=null,e.popupTutorial=0,e.idleCountDown=u.IDLE_TIMEOUT,e.isPopupShown=!1,e}return r(e,t),e.prototype.onLoad=function(){cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),this.ButtonHome.registerEvent(this.onHome.bind(this)),this.ButtonPlay.registerEvent(this.onPlay.bind(this)),this.loadProfile(),this.initDetectInteraction()},e.prototype.initDetectInteraction=function(){var t=this;cc.find("Canvas").on(cc.Node.EventType.TOUCH_START,function(){t.idleCountDown=u.IDLE_TIMEOUT},this,!0),cc.find("Canvas").on(cc.Node.EventType.TOUCH_MOVE,function(){t.idleCountDown=u.IDLE_TIMEOUT},this,!0),cc.find("Canvas").on(cc.Node.EventType.TOUCH_END,function(){t.idleCountDown=u.IDLE_TIMEOUT},this,!0)},e.prototype.onEnable=function(){this.init()},e.prototype.init=function(){g.default.Instance.show(),this.idleCountDown=u.IDLE_TIMEOUT;var t=window.localStorage.getItem("game1-rerun-highscore");this.highScoreTxt.string=null!=t?t:"0"},e.prototype.checkLeaderboardReward=function(){var t=y.getRemainTime(a(u.projectLaunchDate).valueOf(),a().valueOf()).days,e=Math.floor(t/7);localStorage.getItem("receivedWeeklyLeaderboardReward")!==e.toString()&&s.default.solveApi(s.default.Instance.getWeeklyTopScore(0,160,1),function(t){localStorage.setItem("receivedWeeklyLeaderboardReward",e.toString());var o=t.data.me.rank;if(o>0)for(var n=0;n<u.leaderboardRewardDefine.length;n++){var r=u.leaderboardRewardDefine[n],i=r.top,a=r.reward;if(!(o>i)){var s=h.default.push(h.Popups.PopupLeaderboardReward);return void(s&&s.getComponent(l.default).init(a))}}},function(){return h.default.showError("Kh\xf4ng th\u1ec3 l\u1ea5y th\xf4ng tin b\u1ea3ng x\u1ebfp h\u1ea1ng tu\u1ea7n tr\u01b0\u1edbc.")},!1)},e.prototype.update=function(t){this.isPopupShown||(this.idleCountDown-=t,this.idleCountDown<0&&(h.default.push(h.Popups.PopupIdleTooLong),this.isPopupShown=!0),c.default.setMuteMusic("true"!==localStorage.getItem(f.Settings.BGM)),c.default.setMuteSfx("true"!==localStorage.getItem(f.Settings.SFX)))},e.prototype.loadProfile=function(){_.default.Instance.hide(),"true"!==window.localStorage.getItem("tutorialGamne1Shown-rerun")&&(window.localStorage.setItem("tutorialGamne1Shown-rerun","true"),h.default.push(this.popupTutorial))},e.prototype.onHome=function(){p.default.Instance.exitGame()},e.prototype.onPlay=function(){p.default.Instance.prepareGame(function(){d.default.show(d.Stages.StageGame)})},i([E(m.default)],e.prototype,"ButtonHome",void 0),i([E(m.default)],e.prototype,"ButtonPlay",void 0),i([E(cc.Label)],e.prototype,"highScoreTxt",void 0),i([E({type:h.PopupsCCEnum})],e.prototype,"popupTutorial",void 0),i([P],e)}(cc.Component);o.default=O,cc._RF.pop()},{"../common/APIMgr":"APIMgr","../common/SoundMgr":"SoundMgr","../game/GameDefine":"GameDefine","../game/GameMgr":"GameMgr","../popup/PopupLeaderboardReward":"PopupLeaderboardReward","../popup/PopupMgr":"PopupMgr","../popup/PopupSetting":"PopupSetting","../stage/StageMgr":"StageMgr","../utils/utils":"utils","./TopUI":"TopUI","./common/ButtonClickEvent":"ButtonClickEvent","./common/LoadingCover":"LoadingCover",moment:2}],UIMgr:[function(t,e,o){"use strict";cc._RF.push(e,"b1c7c6ZyvRBDpbxEcWTLNte","UIMgr");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UI_MOVE_DIRECTION=o.UI_SHOW_EFFECT=o.UIs=void 0;var a,s,c,u=t("../utils/Helper"),p=t("../utils/SingletonComponent"),l=cc._decorator,h=l.ccclass,f=l.property;(function(t){t[t.UIInterstitial=0]="UIInterstitial",t[t.UIGame=1]="UIGame"})(a=o.UIs||(o.UIs={})),function(t){t[t.APPEAR=0]="APPEAR",t[t.MOVE=1]="MOVE",t[t.SCALE=2]="SCALE",t[t.FADE=3]="FADE"}(s=o.UI_SHOW_EFFECT||(o.UI_SHOW_EFFECT={})),function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(c=o.UI_MOVE_DIRECTION||(o.UI_MOVE_DIRECTION={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UIPrefabs=[],e.Canvas=null,e.mMoveDirection=c.LEFT,e.mPreviousView=null,e.mCurrentView=null,e}return r(e,t),Object.defineProperty(e.prototype,"MoveDirection",{set:function(t){this.mMoveDirection=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CurrentView",{get:function(){return this.mCurrentView},enumerable:!1,configurable:!0}),e.show=function(t,e,o,n){void 0===e&&(e=s.APPEAR),void 0===o&&(o="smooth"),void 0===n&&(n=.5);var r=this.Instance;r.mPreviousView=r.mCurrentView;for(var i=0,c=r.node.children;i<c.length;i++){var u=c[i];u.name==a[t]&&(r.mCurrentView=u,r.mCurrentView.active=!0)}r.mPreviousView&&r.mCurrentView&&r.mPreviousView!=r.mCurrentView&&r.animate(e,o,n)},e.nextView=function(t,e,o,n){void 0===t&&(t=!0);var r=this.Instance,i=r.node.children.indexOf(r.mCurrentView);-1!=i&&(t&&i<r.node.childrenCount-1||!t&&i>0)&&(i=t?i+1:i-1,this.show(u.default.GetIndexEnum(a,r.node.children[i].name),e,o,n))},e.getUI=function(t){return this.Instance.node.getChildByName(a[t]).getComponent(a[t])},e.prototype.onLoad=function(){t.prototype.onLoad.call(this);for(var e=0;e<this.UIPrefabs.length;e++){var o=cc.instantiate(this.UIPrefabs[e]);o.active=!1,this.node.addChild(o)}this.Canvas=cc.find("Canvas")},e.prototype.animate=function(t,e,o){var n=this;switch(t){case s.APPEAR:this.mPreviousView.active=!1;break;case s.MOVE:var r=void 0,i=void 0;switch(this.mMoveDirection){case c.UP:i=cc.v2(0,1.5*-this.Canvas.height),r=cc.v2(0,1.5*this.Canvas.height);break;case c.DOWN:i=cc.v2(0,1.5*this.Canvas.height),r=cc.v2(0,1.5*-this.Canvas.height);break;case c.LEFT:i=cc.v2(1.5*this.Canvas.width,0),r=cc.v2(1.5*-this.Canvas.width,0);break;case c.RIGHT:i=cc.v2(1.5*-this.Canvas.width,0),r=cc.v2(1.5*this.Canvas.width,0)}cc.tween(this.mPreviousView).to(o,{position:r},{easing:e}).call(function(){return n.mPreviousView.active=!1}).start(),cc.tween(this.mCurrentView).set({opacity:0}).delay(0).set({opacity:255,position:i}).to(o,{position:cc.Vec3.ZERO},{easing:e}).start();break;case s.SCALE:this.mCurrentView.setScale(cc.Vec2.ZERO),cc.tween(this.mPreviousView).to(o,{scale:0},{easing:e}).call(function(){return n.mPreviousView.active=!1}).start(),cc.tween(this.mCurrentView).delay(o).to(o,{scale:1},{easing:e}).start();break;case s.FADE:cc.tween(this.mPreviousView).to(o,{scale:this.mPreviousView.scaleX},{progress:function(t,e,o,r){return n.mPreviousView.opacity=255*(1-r),t+(e-t)*r}}).call(function(){return n.mPreviousView.active=!1}).start(),cc.tween(this.mCurrentView).delay(o).to(o,{scale:this.mCurrentView.scaleX},{progress:function(t,e,o,r){return n.mCurrentView.opacity=255*r,t+(e-t)*r}}).start()}},i([f(cc.Prefab)],e.prototype,"UIPrefabs",void 0),i([h],e)}(p.default());o.default=d,cc._RF.pop()},{"../utils/Helper":"Helper","../utils/SingletonComponent":"SingletonComponent"}],Version:[function(t,e,o){"use strict";cc._RF.push(e,"df7477k+VRBSZsUCHaCkhPW","Version");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){/localhost/i.test(window.location.hostname)||/elofun.github.io/i.test(window.location.hostname)?this.node.active=!0:this.node.active=!1},i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],"book-reward.response":[function(t,e,o){"use strict";cc._RF.push(e,"ac4d3OlwspP0avxxAYykrwO","book-reward.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"buy-turn.response":[function(t,e,o){"use strict";cc._RF.push(e,"4e4a5IcxnZLxKYeUeLs7+gE","buy-turn.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"claim-reward.response":[function(t,e,o){"use strict";cc._RF.push(e,"7be37deovhCL7fQqrXrxX9L","claim-reward.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"collections.response":[function(t,e,o){"use strict";cc._RF.push(e,"6bc32NioF9JWpBk39AbE6J/","collections.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],common:[function(t,e,o){"use strict";cc._RF.push(e,"acd1f4tYCBJrY2GGmSyfRth","common"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"daily-reward.response":[function(t,e,o){"use strict";cc._RF.push(e,"772d8mEZ+JF0Y1gOxyw+6Wa","daily-reward.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"exchange-reward.response":[function(t,e,o){"use strict";cc._RF.push(e,"b9134r6/XRByZ1jnhUaUKAm","exchange-reward.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"get-iap-prices.response":[function(t,e,o){"use strict";cc._RF.push(e,"0e615qGm3BPS6sc2jn0KDFb","get-iap-prices.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"prize-history.response":[function(t,e,o){"use strict";cc._RF.push(e,"af30f341/BMFreU+N5mIM5L","prize-history.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"profile-game.response":[function(t,e,o){"use strict";cc._RF.push(e,"5b818lvqWxBm4hDxGB3MikG","profile-game.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"profile.response":[function(t,e,o){"use strict";cc._RF.push(e,"342f3z7WD5PTpt+xb7aXSNi","profile.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"reward-boxes.response":[function(t,e,o){"use strict";cc._RF.push(e,"ebbb6MYJetDna9a0mKZWlCF","reward-boxes.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"score-history.response":[function(t,e,o){"use strict";cc._RF.push(e,"ca68eL63m9GZLfpaNVp4VLF","score-history.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],strings:[function(t,e){"use strict";cc._RF.push(e,"de036Ji94ZAX6ve0L3sdr6e","strings"),e.exports={EMPTY:{EN:"",MY:"",MU:""},COMMON_SHARE_BONUS:{EN:"(Get 3 FREE Turns/day)",MY:"Hetan tempu dulas dala 3/loron",MU:""},COMMON_THIS_WEEK:{EN:"This Week",MY:"Semana ne'e",MU:""},COMMON_LAST_WEEK:{EN:"Last Week",MY:"Semana kotuk",MU:""},COMMON_NO:{EN:"No.",MY:"Lae.",MU:""},COMMON_DATE_TIME:{EN:"Date/Time",MY:"Loron/tempu",MU:""},COMMON_TURNS:{EN:"Turns",MY:"Tempu",MU:""},COMMON_PERIOD:{EN:"Period",MY:"Period",MU:""},GG_GIFT:{EN:"Gift",MY:"Prezente",MU:""},GG_GUIDE:{EN:"Guide",MY:"Matadalan",MU:""},LB_TOP_STAR:{EN:"TOP STAR",MY:"TOP STAR",MU:""},LB_TOP_HIGHSCORER:{EN:"TOP HIGHSCORERS",MY:"TOP HIGHSCORERS",MU:""},LB_WINNER_LIST:{EN:"WINNER LIST",MY:"Lista manan nain",MU:""},LB_STARS:{EN:"Stars",MY:"Stars",MU:""},LB_PLAY_TIMES:{EN:"Play Times",MY:"Play Times",MU:""},LB_TOP_STAR_DESC:{EN:"Top 10 Star Collectors of the Week\nwill get E-money 5 USD each.",MY:"Top 10 Star kolektador semana nian sei hetan  E-money kada 5 USD",MU:""},LB_TOP_HIGHSCORER_DESC:{EN:"Top 10 high-scorers of the Week will get E-money 5 USD each.",MY:"Top semanal eskoru as liu 10  sei hetan kada 5 USD",MU:""},LB_WINNER_LIST_GRAND:{EN:"Grand Prizes",MY:"Premiu Mellor sira",MU:""},LB_WINNER_LIST_PREMIUM:{EN:"Premium Prizes",MY:"Prezente Premium Sira",MU:""},HISTORY_TURN:{EN:"Turn",MY:"Tempu",MU:""},HISTORY_GIFT:{EN:"Your Gift",MY:"Ita nia prezente",MU:""},HISTORY_CTA:{EN:"Visit Page",MY:"Vizita Pajina",MU:""},HISTORY_CTA_DESC:{EN:"Tap to download MytelPay App.\nInput gift code to claim your\nE-Money prizes.",MY:"Hanehan hodi download MytelPay App. Hatama kodigu premiu hodi reklama ita nia prezenti osan.",MU:""},HISTORY_RECEIVED_GIFT:{EN:"Received Gift",MY:"Simu premiu",MU:""},HISTORY_LUCKY_CODE:{EN:"Lucky Code",MY:"Numeru sorteiu",MU:""},HISTORY_EMONEY_CODE:{EN:"E-Money Gift Code",MY:"Kodigu premiu E-Money",MU:""},HISTORY_LUCKY_CODE_DESC:{EN:"Lucky Code can be used for grand lucky dreaw live\nstram to win cars and more big prizes",MY:"Kodigu sorteiu bele uza ba tranzmisaun direita Lucky Draw   hodi manan kareta no premiu boot seluk tan.",MU:""},HISTORY_EMONEY_CODE_DESC:{EN:"Gift code can be used one time only.\nPlease input at MytelPay Gift code and do not\nshare codes to others",MY:"kodigu premiu bele uza dala ida deit. Favor hatama iha Mytelpay no labele fahe kodigu ne'e ba ema seluk.",MU:""},COLLECTION_GUIDELINE:{EN:"Guideline",MY:"Matadalan",MU:""},COLLECTION_DESC:{EN:"Collect all 10 Golden Logo\nto win a Motorbike from Kakoak",MY:"Kolekta hotu Golden logo 10 hodi manan motor husi Kakoak.",MU:""},GAME_MODE_TITLE:{EN:"CHOOSE GAME MODE",MY:"HILI MODU GAME",MU:""},GAME_MODE_SPEAK:{EN:"SPEAK 2 FLY MODE",MY:"KOALIA 2 BA MODU SEMO",MU:""},GAME_MODE_SPEAK_DESC_1:{EN:"To play with Voice Input, you need to:",MY:"Atu halimar ho lian hatama, ita boot prezija atu:",MU:""},GAME_MODE_SPEAK_DESC_2:{EN:'1. Update Kakoak to latest version.\n2. Enable Kakoak to access microphone.\n3. Tap "ALLOW" whenever you play Speak 2 Jump',MY:'1. Update Kakoak ho versaun foun.\n2. Ativa Kakoak hodi bele asesu ba micriphone..\n3. Hanehan "ALLOW" wainhira ita boot halimar speak 2 jump',MU:""},GAME_MODE_TAP:{EN:"TAP 2 FLY MODE",MY:"HANEHAN 2 BA MODU SEMO",MU:""},GAME_MODE_WARNING_VOICE:{EN:"Voice Input not supported,\nplease allow Voice acess or\nplay with Tap mode!",MY:"Voice Input not supported,\nplease allow Voice acess or\nplay with Tap mode!",MU:""},END_MESSAGE_1:{EN:"Oops! Don't give up. Let's try again!",MY:"Oops! Don't give up. Let's try again!",MU:""},END_MESSAGE_2:{EN:"Sorry, Time's up! Let's try again!",MY:"Sorry, Time's up! Let's try again!",MU:""},RESULT_NAME:{EN:"Player Name:",MY:"Jogador nia naran:",MU:""},RESULT_HIGHSCORE:{EN:"High Score:",MY:"Eskoru boot liu:",MU:""},RESULT_COLLECTED:{EN:"You Collected",MY:"Ita kolekta ona",MU:""},RESULT_REPLAY:{EN:"PLAY AGAIN",MY:"Halimar fila fali",MU:""},INTER_REMAIN_TURN:{EN:"Today remaining turns",MY:"Tempu restu ohin loron",MU:""},INTER_TOTAL_TURN:{EN:"Total available turns",MY:"Total tempu disponivel",MU:""},GAME_TUTOR_1:{EN:"Fly as far as you can\nwithin 60 seconds",MY:"Semo dok durante segundu 60",MU:""},GAME_TUTOR_2:{EN:"GAME START IN",MY:"GAME KOMESA",MU:""},GAME_TUTOR_3:{EN:"TAP TO FLY",MY:"HANEHAN HODI SEMO",MU:""},GAME_TUTOR_4:{EN:"SPEAK TO FLY",MY:"Koalia hodi semo",MU:""},GAME_SCORE:{EN:"Score",MY:"Eskoru",MU:""},WARNING_LOAD_GAME_FAIL:{EN:"Load game fail.",MY:"Load game fail.",MU:""},WARNING_NO_MORE_TURN:{EN:"Sorry, your turn is out.",MY:"Sorry, your turn is out.",MU:""},WARNING_EXIT_CONFIRM:{EN:"Are you want to quit\nthe session?\n(You will still receive the\ncollected prizes)",MY:"Are you want to quit\nthe session?\n(You will still receive the\ncollected prizes)",MU:""}},cc._RF.pop()},{}],"top-score.response":[function(t,e,o){"use strict";cc._RF.push(e,"0c82f55NRdKb5eDlCAp2ZSK","top-score.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"turn-balance.response":[function(t,e,o){"use strict";cc._RF.push(e,"fb84c6o9hlI2KLYt4uPrj4e","turn-balance.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],"turn-history.response":[function(t,e,o){"use strict";cc._RF.push(e,"9ed77cSf7tDt5T79LJ5eelC","turn-history.response"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],utils:[function(t,e,o){"use strict";cc._RF.push(e,"83859vOK+JOlKOeKI62Xt6V","utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.getQueryString=o.truncatePhone=o.getRemainTime=void 0,o.getRemainTime=function(t,e){var o=(e-t)/1e3;return{days:Math.floor(o/86400),hours:Math.floor(o%86400/3600),minutes:Math.floor(o%3600/60),seconds:Math.floor(o%60)}},o.truncatePhone=function(t){return t?t.substring(0,3)+"xxx"+t.substring(t.length-4,t.length):"-"},o.getQueryString=function(t){var e=window.location.search.substring(1).split("&"),o={};return e.forEach(function(t){var e=t.split("=");o[e[0]]=decodeURIComponent(e[1]||"")}),o[t]||""},cc._RF.pop()},{}],vConsoleEnabler:[function(t,e,o){"use strict";cc._RF.push(e,"49a94gachpEiJBV3kHORcLG","vConsoleEnabler");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}]},{},["APIMgr","Events","Facebook","FrameMgr","Global","Loader","Localization","Pool","PoolMgr","ProfileMgr","SoundMgr","book-reward.response","buy-turn.response","claim-reward.response","collections.response","common","daily-reward.response","exchange-reward.response","get-iap-prices.response","prize-history.response","profile-game.response","profile.response","reward-boxes.response","score-history.response","top-score.response","turn-balance.response","turn-history.response","EffectComet","EffectFlyAndFade","EffectParticle","ConnectionDectect","EffectMgr","Enemy","EnemyLantern","EnemyMgr","EnemyTop","EnvironmentMgr","GameDefine","GameMgr","GameTouchArea","Ground","HpBar","ItemMgr","LevelMgr","Magma","Planet","Player","RoadObject","ScrollBg","ScrollBgSwitch","SwitchBg","Version","PopupBalanceNotEnough","PopupBase","PopupBuyTurnConfirm","PopupCheats","PopupCollection","PopupCollectionSuccess","PopupCollectionTab","PopupError","PopupExitConfirm","PopupExitConfirmGame","PopupExitConfirmRedirectGami","PopupGuide","PopupHistory","PopupIdleTooLong","PopupInfo","PopupLeaderboard","PopupLeaderboardReward","PopupLoadGameFail","PopupLostConnection","PopupMgr","PopupMoreTurn","PopupResult","PopupRetry","PopupSetting","PopupTutorialMainMenu","Stage","StageGame","StageInterstitial","StageMgr","ResultReward","TopUI","UIGame","UIInterstitial","UIMgr","ButtonClickEvent","ButtonClosePopup","ButtonPushPopup","ButtonShareFb","ButtonSound","CompTabView","LoadingCover","LoadingIcon","ProgressBar","Spinner","ListViewItemHistoryPrize","ListViewItemHistoryScore","ListViewItemHistoryTurn","ListViewItemLeaderboard","ListViewLeaderboard","CancelUnderTouch","GraphicMask","Helper","ListView","ListViewFetchData","ListViewItem","LocalizedFrame","LocalizedText","PooledGameObject","Rect","ResizeSprite","Singleton","SingletonComponent","Timer","utils","vConsoleEnabler","strings"]);
